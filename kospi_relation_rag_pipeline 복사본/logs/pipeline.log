2025-04-17 19:41:42,413 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-17 19:42:15,204 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-17 19:42:15,206 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-17 19:42:15,210 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 19:42:15,211 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 19:42:15,212 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 19:42:15,212 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 19:42:15,214 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://<your-search-service>.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'a08d89b8-1b78-11f0-b133-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 19:42:15,251 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://<your-search-service>.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'a08d89b8-1b78-11f0-b133-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 19:42:16,861 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://<your-search-service>.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'a08d89b8-1b78-11f0-b133-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 19:42:20,075 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://<your-search-service>.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'a08d89b8-1b78-11f0-b133-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 19:42:20,085 - config - ERROR - Azure AI Search 인덱스 생성 또는 업데이트 중 오류 발생: <urllib3.connection.HTTPSConnection object at 0x11bcd47a0>: Failed to resolve '%3cyour-search-service%3e.search.windows.net' ([Errno 8] nodename nor servname provided, or not known)
2025-04-17 19:42:20,096 - config - ERROR - --- 인덱스 설정 실패. 이후 단계 진행 불가 ---
2025-04-17 19:56:33,973 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-17 19:56:33,976 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-17 19:56:33,977 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 19:56:33,978 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 19:56:33,980 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 19:56:33,980 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 19:56:33,982 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://<your-search-service>.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'a06b3d48-1b7a-11f0-b133-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 19:56:33,995 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://<your-search-service>.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'a06b3d48-1b7a-11f0-b133-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 19:56:35,604 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://<your-search-service>.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'a06b3d48-1b7a-11f0-b133-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 19:56:38,817 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://<your-search-service>.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'a06b3d48-1b7a-11f0-b133-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 19:56:38,828 - config - ERROR - Azure AI Search 인덱스 생성 또는 업데이트 중 오류 발생: <urllib3.connection.HTTPSConnection object at 0x11cf08590>: Failed to resolve '%3cyour-search-service%3e.search.windows.net' ([Errno 8] nodename nor servname provided, or not known)
2025-04-17 19:56:38,838 - config - ERROR - --- 인덱스 설정 실패. 이후 단계 진행 불가 ---
2025-04-17 20:01:42,796 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-17 20:01:47,841 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-17 20:01:47,843 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-17 20:01:47,846 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 20:01:47,847 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 20:01:47,848 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 20:01:47,849 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 20:01:47,854 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://<your-search-service>.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '5b804d8a-1b7b-11f0-b133-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 20:01:47,866 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://<your-search-service>.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '5b804d8a-1b7b-11f0-b133-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 20:01:49,474 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://<your-search-service>.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '5b804d8a-1b7b-11f0-b133-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 20:01:52,686 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://<your-search-service>.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '5b804d8a-1b7b-11f0-b133-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 20:01:52,694 - config - ERROR - Azure AI Search 인덱스 생성 또는 업데이트 중 오류 발생: <urllib3.connection.HTTPSConnection object at 0x11cf199a0>: Failed to resolve '%3cyour-search-service%3e.search.windows.net' ([Errno 8] nodename nor servname provided, or not known)
2025-04-17 20:01:52,702 - config - ERROR - --- 인덱스 설정 실패. 이후 단계 진행 불가 ---
2025-04-17 20:03:46,921 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-17 20:03:56,622 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-17 20:03:56,624 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-17 20:03:56,626 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 20:03:56,627 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 20:03:56,628 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 20:03:56,629 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 20:03:56,632 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://<your-search-service>.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'a84222b0-1b7b-11f0-b133-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 20:03:56,651 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://<your-search-service>.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'a84222b0-1b7b-11f0-b133-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 20:03:58,260 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://<your-search-service>.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'a84222b0-1b7b-11f0-b133-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 20:04:01,475 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://<your-search-service>.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'a84222b0-1b7b-11f0-b133-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 20:04:01,482 - config - ERROR - Azure AI Search 인덱스 생성 또는 업데이트 중 오류 발생: <urllib3.connection.HTTPSConnection object at 0x11cef1fd0>: Failed to resolve '%3cyour-search-service%3e.search.windows.net' ([Errno 8] nodename nor servname provided, or not known)
2025-04-17 20:04:01,487 - config - ERROR - --- 인덱스 설정 실패. 이후 단계 진행 불가 ---
2025-04-17 20:05:25,113 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-17 20:05:27,396 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-17 20:05:27,399 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-17 20:05:27,405 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 20:05:27,406 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 20:05:27,406 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 20:05:27,407 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 20:05:27,409 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '782'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'de5da7e8-1b7b-11f0-a2a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 20:05:29,118 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 201
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'ETag': '"0x8DD7D9FC38191DF"'
    'Location': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'de5da7e8-1b7b-11f0-a2a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 11:05:29 GMT'
2025-04-17 20:05:29,120 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-17 20:05:29,121 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-17 20:07:32,420 - config - INFO - 종목 코드 100개 로드됨.
2025-04-17 20:07:50,050 - config - INFO - --- 단일 기업 테스트 시작: 005930 ---
2025-04-17 20:07:59,732 - config - INFO - 처리 대상 PDF 경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/005930.pdf
2025-04-17 20:07:59,738 - config - INFO - 입력 PDF 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/005930.pdf (7263840 bytes)
2025-04-17 20:08:12,610 - config - INFO - --- 005930: Document Intelligence 분석 시작 ---
2025-04-17 20:08:12,613 - config - INFO - DI 클라이언트 초기화 성공
2025-04-17 20:08:12,614 - config - INFO - 바이트 데이터 분석 시작 (콘텐츠 길이: 7263840)
2025-04-17 20:08:12,615 - config - ERROR - DI 분석 오류 (바이트 데이터): DocumentIntelligenceClientOperationsMixin.begin_analyze_document() missing 1 required positional argument: 'body'
2025-04-17 20:08:12,617 - config - WARNING - --- 005930: Document Intelligence 분석 결과가 없습니다. ---
2025-04-17 20:15:53,909 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-17 20:15:56,851 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-17 20:15:56,854 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-17 20:15:56,858 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 20:15:56,859 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 20:15:56,860 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 20:15:56,861 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 20:15:56,863 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '782'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '558ca8fe-1b7d-11f0-a9f6-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 20:15:57,701 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '558ca8fe-1b7d-11f0-a9f6-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 11:15:57 GMT'
2025-04-17 20:15:57,704 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-17 20:15:57,706 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-17 20:16:00,925 - config - INFO - 종목 코드 100개 로드됨.
2025-04-17 20:16:03,961 - config - INFO - --- 단일 기업 테스트 시작: 005930 ---
2025-04-17 20:16:07,633 - config - INFO - 처리 대상 PDF 경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/005930.pdf
2025-04-17 20:16:07,638 - config - INFO - 입력 PDF 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/005930.pdf (7263840 bytes)
2025-04-17 20:16:13,235 - config - INFO - --- 005930: Document Intelligence 분석 시작 ---
2025-04-17 20:16:13,238 - config - INFO - DI 클라이언트 초기화 성공
2025-04-17 20:16:13,239 - config - INFO - 바이트 데이터 분석 시작 (콘텐츠 길이: 7263840)
2025-04-17 20:16:13,241 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED&outputContentFormat=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Length': '7263840'
    'content-type': 'application/octet-stream'
    'Accept': 'application/json'
    'x-ms-client-request-id': '5f4fcde4-1b7d-11f0-a9f6-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-17 20:16:16,002 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 202
Response headers:
    'Content-Length': '0'
    'Operation-Location': 'REDACTED'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 11:16:15 GMT'
2025-04-17 20:16:16,006 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/3befd67a-c71f-49c1-89fd-e763b9854528?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '5f4fcde4-1b7d-11f0-a9f6-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 20:16:16,373 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 11:16:15 GMT'
2025-04-17 20:16:17,381 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/3befd67a-c71f-49c1-89fd-e763b9854528?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '5f4fcde4-1b7d-11f0-a9f6-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 20:16:17,617 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 11:16:17 GMT'
2025-04-17 20:16:18,626 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/3befd67a-c71f-49c1-89fd-e763b9854528?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '5f4fcde4-1b7d-11f0-a9f6-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 20:16:18,872 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 11:16:18 GMT'
2025-04-17 20:16:19,877 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/3befd67a-c71f-49c1-89fd-e763b9854528?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '5f4fcde4-1b7d-11f0-a9f6-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 20:16:20,101 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 11:16:19 GMT'
2025-04-17 20:16:21,109 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/3befd67a-c71f-49c1-89fd-e763b9854528?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '5f4fcde4-1b7d-11f0-a9f6-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 20:16:28,621 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '3042398'
    'Content-Type': 'application/json; charset=utf-8'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 11:16:21 GMT'
2025-04-17 20:16:29,575 - config - INFO - DI 분석 완료 (바이트 데이터)
2025-04-17 20:16:29,586 - config - INFO - --- 005930: Document Intelligence 분석 완료 ---
2025-04-17 20:18:01,068 - config - INFO - --- 005930: 섹션 추출 시작 ---
2025-04-17 20:18:01,073 - config - INFO - Markdown H2/H3 기준 섹션 추출 완료: 총 4개
2025-04-17 20:18:01,073 - config - INFO - 추출된 섹션: ['대차잔고비중', 'General Information', '주주변동내역 [최근 20건]', '임직원 정보'] (총 4개)
2025-04-17 20:18:01,074 - config - INFO - 결합된 전체 텍스트 길이: 59835 자
2025-04-17 20:23:19,453 - config - INFO - --- 005930: 텍스트 청킹 시작 ---
2025-04-17 20:23:19,460 - config - INFO - 텍스트 청크 분할 완료: 총 48개
2025-04-17 20:23:19,461 - config - INFO - 텍스트 청킹 완료: 총 48개 청크 생성
2025-04-17 20:23:23,609 - config - INFO - --- 005930: 임베딩 생성 시작 (총 48개 청크) ---
2025-04-17 20:23:23,610 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,611 - config - WARNING - 청크 0에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,612 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,612 - config - WARNING - 청크 1에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,613 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,614 - config - WARNING - 청크 2에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,614 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,615 - config - WARNING - 청크 3에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,615 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,616 - config - WARNING - 청크 4에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,616 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,617 - config - WARNING - 청크 5에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,618 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,619 - config - WARNING - 청크 6에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,620 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,620 - config - WARNING - 청크 7에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,620 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,620 - config - WARNING - 청크 8에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,621 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,621 - config - WARNING - 청크 9에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,621 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,622 - config - WARNING - 청크 10에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,622 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,623 - config - WARNING - 청크 11에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,623 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,624 - config - WARNING - 청크 12에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,624 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,624 - config - WARNING - 청크 13에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,625 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,625 - config - WARNING - 청크 14에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,626 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,626 - config - WARNING - 청크 15에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,627 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,627 - config - WARNING - 청크 16에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,627 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,628 - config - WARNING - 청크 17에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,628 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,628 - config - WARNING - 청크 18에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,629 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,629 - config - WARNING - 청크 19에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,629 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,630 - config - WARNING - 청크 20에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,630 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,630 - config - WARNING - 청크 21에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,631 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,631 - config - WARNING - 청크 22에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,631 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,631 - config - WARNING - 청크 23에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,632 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,632 - config - WARNING - 청크 24에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,632 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,632 - config - WARNING - 청크 25에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,633 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,633 - config - WARNING - 청크 26에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,633 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,634 - config - WARNING - 청크 27에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,634 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,634 - config - WARNING - 청크 28에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,634 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,635 - config - WARNING - 청크 29에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,635 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,635 - config - WARNING - 청크 30에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,635 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,635 - config - WARNING - 청크 31에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,636 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,636 - config - WARNING - 청크 32에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,637 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,637 - config - WARNING - 청크 33에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,637 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,638 - config - WARNING - 청크 34에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,639 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,639 - config - WARNING - 청크 35에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,639 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,640 - config - WARNING - 청크 36에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,640 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,640 - config - WARNING - 청크 37에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,641 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,666 - config - WARNING - 청크 38에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,666 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,666 - config - WARNING - 청크 39에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,667 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,667 - config - WARNING - 청크 40에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,667 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,667 - config - WARNING - 청크 41에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,668 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,668 - config - WARNING - 청크 42에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,668 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,668 - config - WARNING - 청크 43에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,668 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,669 - config - WARNING - 청크 44에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,673 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,675 - config - WARNING - 청크 45에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,675 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,676 - config - WARNING - 청크 46에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,676 - config - ERROR - OpenAI 클라이언트 초기화 오류: OpenAI.__init__() got an unexpected keyword argument 'api_base'
2025-04-17 20:23:23,676 - config - WARNING - 청크 47에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:23:23,677 - config - INFO - --- 005930: 임베딩 생성 완료 (0 / 48 성공) ---
2025-04-17 20:33:27,642 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-17 20:33:30,499 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-17 20:33:30,502 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-17 20:33:30,508 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 20:33:30,508 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 20:33:30,509 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 20:33:30,510 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 20:33:30,512 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '782'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'c992c858-1b7f-11f0-923d-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 20:33:31,245 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'c992c858-1b7f-11f0-923d-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 11:33:30 GMT'
2025-04-17 20:33:31,246 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-17 20:33:31,246 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-17 20:33:34,221 - config - INFO - 종목 코드 100개 로드됨.
2025-04-17 20:33:37,392 - config - INFO - --- 단일 기업 테스트 시작: 005930 ---
2025-04-17 20:33:40,373 - config - INFO - 처리 대상 PDF 경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/005930.pdf
2025-04-17 20:33:40,379 - config - INFO - 입력 PDF 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/005930.pdf (7263840 bytes)
2025-04-17 20:33:43,669 - config - INFO - --- 005930: Document Intelligence 분석 시작 ---
2025-04-17 20:33:43,671 - config - INFO - DI 클라이언트 초기화 성공
2025-04-17 20:33:43,672 - config - INFO - 바이트 데이터 분석 시작 (콘텐츠 길이: 7263840)
2025-04-17 20:33:43,674 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED&outputContentFormat=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Length': '7263840'
    'content-type': 'application/octet-stream'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'd16b2660-1b7f-11f0-923d-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-17 20:33:46,353 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 202
Response headers:
    'Content-Length': '0'
    'Operation-Location': 'REDACTED'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 11:33:45 GMT'
2025-04-17 20:33:46,355 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/fd6403ef-7578-4d67-9b47-fe87e16e828a?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'd16b2660-1b7f-11f0-923d-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 20:33:46,593 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 11:33:46 GMT'
2025-04-17 20:33:47,597 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/fd6403ef-7578-4d67-9b47-fe87e16e828a?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'd16b2660-1b7f-11f0-923d-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 20:33:47,833 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 11:33:47 GMT'
2025-04-17 20:33:48,841 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/fd6403ef-7578-4d67-9b47-fe87e16e828a?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'd16b2660-1b7f-11f0-923d-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 20:33:49,066 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 11:33:48 GMT'
2025-04-17 20:33:50,074 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/fd6403ef-7578-4d67-9b47-fe87e16e828a?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'd16b2660-1b7f-11f0-923d-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 20:33:50,395 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 11:33:49 GMT'
2025-04-17 20:33:51,402 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/fd6403ef-7578-4d67-9b47-fe87e16e828a?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'd16b2660-1b7f-11f0-923d-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 20:33:51,726 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 11:33:51 GMT'
2025-04-17 20:33:52,733 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/fd6403ef-7578-4d67-9b47-fe87e16e828a?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'd16b2660-1b7f-11f0-923d-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 20:34:00,231 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '3042398'
    'Content-Type': 'application/json; charset=utf-8'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 11:33:52 GMT'
2025-04-17 20:34:01,172 - config - INFO - DI 분석 완료 (바이트 데이터)
2025-04-17 20:34:01,179 - config - INFO - --- 005930: Document Intelligence 분석 완료 ---
2025-04-17 20:34:03,770 - config - INFO - --- 005930: 섹션 추출 시작 ---
2025-04-17 20:34:03,775 - config - INFO - Markdown H2/H3 기준 섹션 추출 완료: 총 4개
2025-04-17 20:34:03,777 - config - INFO - 추출된 섹션: ['대차잔고비중', 'General Information', '주주변동내역 [최근 20건]', '임직원 정보'] (총 4개)
2025-04-17 20:34:03,778 - config - INFO - 결합된 전체 텍스트 길이: 59835 자
2025-04-17 20:34:07,783 - config - INFO - --- 005930: 텍스트 청킹 시작 ---
2025-04-17 20:34:07,787 - config - INFO - 텍스트 청크 분할 완료: 총 48개
2025-04-17 20:34:07,789 - config - INFO - 텍스트 청킹 완료: 총 48개 청크 생성
2025-04-17 20:34:11,834 - config - INFO - --- 005930: 임베딩 생성 시작 (총 48개 청크) ---
2025-04-17 20:34:11,905 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:12,686 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:12,692 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<figure>
<figcaption>차입공매도비중</figcaption>

(%)

2.5

90,000

2.25

80,000

2

70,000

1.75

60,000

...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:12,694 - config - WARNING - 청크 0에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:12,736 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:13,519 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:13,522 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<table>
<tr>
<th colspan="7">Financial Highlight [연결|전체] 단위 : 억원, %, 배, 천주 연결</th>
<th>별도 전체</th>
<t...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:13,524 - config - WARNING - 청크 1에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:13,560 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:14,336 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:14,339 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<td>936,749</td>
<td>922,281</td>
<td>1,123,399</td>
<td>1,139,936</td>
<td>1,022,310</td>
<td>1,050...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:14,342 - config - WARNING - 청크 2에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:14,386 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:15,178 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:15,181 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '</tr>
<tr>
<td>ROE</td>
<td>17.07</td>
<td>4.14</td>
<td>9.03</td>
<td>8.05</td>
<td>10.48</td>
<td>...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:15,182 - config - WARNING - 청크 3에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:15,221 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:15,986 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:15,986 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<!-- PageFooter="https://comp.fnguide.com/SVO2/ASP/SVD_Main.asp?pGB=1&gicode=A005930&cID=&MenuYn=Y&R...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:15,987 - config - WARNING - 청크 4에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:16,009 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:16,778 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:16,780 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '삼성전자
005930 | 12월 결산
|

KSE 코스피 전기·전자
FICS 반도체 및 관련장비
K200

NXT


<table>
<tr>
<th>PER</th>
<th>12M ...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:16,782 - config - WARNING - 청크 5에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:16,822 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:17,628 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:17,632 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '매출비중 추이 [2024/12]

단위 : %


<table>
<tr>
<th>제품명</th>
<th>2021/12</th>
<th>2022/12</th>
<th>2023/12<...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:17,634 - config - WARNING - 청크 6에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:17,679 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:18,519 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:18,522 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<figure>

(%)

60

40

20

0

2021/12

2022/12

2023/12

2024/12

</figure>


■ 매출원가율


<table>
<cap...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:18,524 - config - WARNING - 청크 7에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:18,568 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:19,452 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:19,455 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<table>
<tr>
<th colspan="8">인원 현황 단위 : 명, 년, 백만원</th>
</tr>
<tr>
<th>회계연도</th>
<th>구분</th>
<th>기말인원...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:19,456 - config - WARNING - 청크 8에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:19,503 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:20,434 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:20,437 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<table>
<tr>
<th colspan="8">수출 및 내수구성 [연결] [2023.12] 단위 : % 연결 별도</th>
</tr>
<tr>
<th rowspan="2">매...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:20,438 - config - WARNING - 청크 9에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:20,484 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:21,333 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:21,336 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '25\. 4\. 17\. 오후 4:22
삼성전자(A005930) | 기업개요 | 기업정보 | Company Guide


<table>
<tr>
<th>주주구분</th>
<th>2...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:21,337 - config - WARNING - 청크 10에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:21,379 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:22,171 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:22,176 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<table>
<tr>
<th colspan="4">관계사 현황 [70개 관계사 | 2023/12] 단위 : %</th>
</tr>
<tr>
<th>관계사</th>
<th>지분율<...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:22,178 - config - WARNING - 청크 11에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:22,222 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:22,984 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:22,988 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<td>100.00</td>
<td>세메스</td>
<td>91.50</td>
</tr>
<tr>
<td>SAMSUNG ELECTRONICS FRANCE SAS</td>
<td>1...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:22,989 - config - WARNING - 청크 12에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:23,045 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:23,809 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:23,811 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<td>삼성글로벌리서치</td>
<td>29.80</td>
</tr>
<tr>
<td>SAMSUNG ELECTRONICS RUS KALUGA LLC</td>
<td>100.00</...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:23,811 - config - WARNING - 청크 13에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:23,846 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:24,617 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:24,619 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<!-- PageFooter="https://comp.fnguide.com/SVO2/ASP/SVD_Corp.asp?pGB=1&gicode=A005930&cID=&MenuYn=Y&R...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:24,619 - config - WARNING - 청크 14에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:24,655 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:25,417 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:25,421 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<table>
<tr>
<th colspan="4">연결대상 회사 현황 [226개 연결대상 회사 | 2024/06] 단위 :억원</th>
</tr>
<tr>
<th>연결대상회사</...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:25,423 - config - WARNING - 청크 15에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:25,470 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:26,244 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:26,248 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<td>73,019</td>
</tr>
<tr>
<td>Harman Holding Gmbh &amp; Co. KG</td>
<td>Management Company</td>
<td...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:26,249 - config - WARNING - 청크 16에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:26,292 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:27,054 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:27,058 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<td>20,977</td>
</tr>
<tr>
<td>Samsung Electronics Taiwan Co., Ltd. (SET)</td>
<td>전자제품 판매</td>
<td>...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:27,059 - config - WARNING - 청크 17에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:27,104 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:27,879 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:27,883 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<!-- PageFooter="https://comp.fnguide.com/SVO2/ASP/SVD_Corp.asp?pGB=1&gicode=A005930&cID=&MenuYn=Y&R...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:27,884 - config - WARNING - 청크 18에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:27,928 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:28,714 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:28,717 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<table>
<caption>삼성전자(A005930) | 기업개요 | 기업정보 | Company Guide</caption>
<tr>
<th>연결대상회사</th>
<th>주요사업...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:28,719 - config - WARNING - 청크 19에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:28,765 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:29,556 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:29,558 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<tr>
<td>Samsung Electronics Suzhou Semiconductor Co., Ltd. (SESS)</td>
<td>반도체 임가공</td>
<td>1994/12...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:29,558 - config - WARNING - 청크 20에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:29,594 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:30,354 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:30,357 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<tr>
<td>Suzhou Samsung Electronics Co., Ltd. (SSEC)</td>
<td>가전제품 생산</td>
<td>1995/04</td>
<td>6,36...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:30,359 - config - WARNING - 청크 21에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:30,403 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:31,176 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:31,178 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<tr>
<td>삼성전자로지텍(주)</td>
<td>종합물류대행</td>
<td>1998/04</td>
<td>4,651</td>
</tr>
<tr>
<td>Samsung Elec...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:31,180 - config - WARNING - 청크 22에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:31,225 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:32,027 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:32,031 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<!-- PageFooter="https://comp.fnguide.com/SVO2/ASP/SVD_Corp.asp?pGB=1&gicode=A005930&cID=&MenuYn=Y&R...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:32,032 - config - WARNING - 청크 23에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:32,069 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:32,845 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:32,847 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<table>
<caption>삼성전자(A005930) | 기업개요 | 기업정보 | Company Guide</caption>
<tr>
<th>연결대상회사</th>
<th>주요사업...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:32,847 - config - WARNING - 청크 24에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:32,882 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:33,678 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:33,682 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<td>해외자회사 관리</td>
<td>2023/05</td>
<td>3,074</td>
</tr>
<tr>
<td>Samsung Electronics Portuguesa, Uni...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:33,684 - config - WARNING - 청크 25에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:33,725 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:34,480 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:34,483 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<td>Samsung Electronics New Zealand Limited (SENZ)</td>
<td>전자제품 판매</td>
<td>2013/09</td>
<td>2,041<...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:34,485 - config - WARNING - 청크 26에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:34,526 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:35,295 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:35,298 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '</tr>
<tr>
<td>Samsung HVAC America, LLC</td>
<td>에어컨공조 판매</td>
<td>2001/07</td>
<td>1,131</td>
</tr...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:35,300 - config - WARNING - 청크 27에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:35,345 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:36,110 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:36,113 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<!-- PageFooter="https://comp.fnguide.com/SVO2/ASP/SVD_Corp.asp?pGB=1&gicode=A005930&cID=&MenuYn=Y&R...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:36,114 - config - WARNING - 청크 28에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:36,149 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:36,940 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:36,943 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<table>
<caption>삼성전자(A005930) | 기업개요 | 기업정보 | Company Guide</caption>
<tr>
<th>연결대상회사</th>
<th>주요사업...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:36,944 - config - WARNING - 청크 29에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:36,982 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:37,766 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:37,769 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<td>반도체산업 투자</td>
<td>2017/03</td>
<td>584</td>
</tr>
<tr>
<td>Global Symphony Technology Group Priv...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:37,771 - config - WARNING - 청크 30에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:37,810 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:38,688 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:38,691 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<td>신기술사업자, 벤처기업 투자</td>
<td>2022/08</td>
<td>372</td>
</tr>
<tr>
<td>에스유머티리얼스(주)</td>
<td>디스플레이 패널 ...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:38,692 - config - WARNING - 청크 31에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:38,756 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:39,552 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:39,555 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<td>마케팅</td>
<td>2011/12</td>
<td>181</td>
</tr>
<tr>
<td>Samsung R&amp;D Institute BanglaDesh Limit...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:39,556 - config - WARNING - 청크 32에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:39,592 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:40,355 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:40,359 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<!-- PageFooter="https://comp.fnguide.com/SVO2/ASP/SVD_Corp.asp?pGB=1&gicode=A005930&cID=&MenuYn=Y&R...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:40,360 - config - WARNING - 청크 33에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:40,407 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:41,179 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:41,183 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<table>
<caption>삼성전자(A005930) | 기업개요 | 기업정보 | Company Guide</caption>
<tr>
<th>연결대상회사</th>
<th>주요사업...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:41,184 - config - WARNING - 청크 34에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:41,223 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:41,998 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:42,002 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<td>2017/09</td>
<td>81</td>
</tr>
<tr>
<td>주식회사 희망별숲</td>
<td>식품 제조 가공</td>
<td>2022/12</td>
<td>73...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:42,003 - config - WARNING - 청크 35에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:42,044 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:42,805 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:42,808 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<td>오디오제품 판매</td>
<td>2012/11</td>
<td>13</td>
</tr>
<tr>
<td>Apostera UA, LLC</td>
<td>Connected Se...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:42,809 - config - WARNING - 청크 36에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:42,853 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:43,617 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:43,620 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<!-- PageFooter="FnGuide에서 제공하는 정보는 신뢰할 만한 자료 및 정보로부터 얻어진 것이나 그 정확성이나 완전성을 보장 할 수 없으며, 시간이 경 https:/...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:43,623 - config - WARNING - 청크 37에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:43,667 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:44,440 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:44,443 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<table>
<tr>
<th>주주구분</th>
<th>대표 주주수</th>
<th>보통주</th>
<th>지분율</th>
<th>최종변동일</th>
</tr>
<tr>
<td>최...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:44,444 - config - WARNING - 청크 38에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:44,488 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:45,279 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:45,281 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '66.33

최대주주등

5% 이상주주

임원

자기주식

공시제외주주

</figure>


주주 상세 [최대주주등(본인+특별관계자)]

단위 : 주, %

최대주주등

10%이...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:45,281 - config - WARNING - 청크 39에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:45,318 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:46,075 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:46,077 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '단위 : 주, %
Show Columns


<table>
<tr>
<th>주주구분</th>
<th>대표주주</th>
<th>변동주주</th>
<th>변동일</th>
<th>주요 ...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:46,078 - config - WARNING - 청크 40에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:46,114 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:46,891 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:46,893 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<table>
<caption>삼성전자(A005930) | 지분분석 | 기업정보 | Company Guide</caption>
<tr>
<th>주주구분</th>
<th>대표주주</...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:46,894 - config - WARNING - 청크 41에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:46,930 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:47,696 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:47,699 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<td>장내매수(+)</td>
<td>보통주</td>
<td>1,192,971,545</td>
<td>5,541</td>
<td>1,192,977,086</td>
<td>20.15...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:47,700 - config - WARNING - 청크 42에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:47,747 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:48,506 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:48,508 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: 'FnGuide에서 제공하는 정보는 신뢰할 만한 자료 및 정보로부터 얻어진 것이나 그 정확성이나 완전성을 보장 할 수 없으며, 시간이 경
과함에 따라 변경될 수 있습니다. 따라서 정...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:48,510 - config - WARNING - 청크 43에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:48,554 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:49,311 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:49,314 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<table>
<tr>
<th>Price &amp; Fundamentals [연결 | 연간]</th>
<th></th>
<th></th>
<th>단위 : 억원, 배, % 연</th...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:49,316 - config - WARNING - 청크 44에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:49,361 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:50,175 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:50,179 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>PER</td>
<td>11.05</td>
<td>6.40</td>
<td>N/A</td>
<td>...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:50,180 - config - WARNING - 청크 45에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:50,223 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:51,022 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:51,057 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<!-- PageFooter="https://comp.fnguide.com/SVO2/ASP/SVD_Comparison.asp?pGB=1&gicode=A005930&cID=&Menu...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:51,057 - config - WARNING - 청크 46에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:51,085 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 20:34:51,861 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-17 20:34:51,865 - config - ERROR - 임베딩 생성 중 오류 발생 (청크 앞부분: '<!-- PageFooter="https://comp.fnguide.com/SVO2/ASP/SVD_Comparison.asp?pGB=1&gicode=A005930&cID=&Menu...'): NotFoundError - Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-17 20:34:51,866 - config - WARNING - 청크 47에 대한 임베딩 생성 실패 또는 빈 결과 반환. 건너뜁니다.
2025-04-17 20:34:51,868 - config - INFO - --- 005930: 임베딩 생성 완료 (0 / 48 성공) ---
2025-04-17 21:26:21,913 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-17 21:26:23,697 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-17 21:26:23,700 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-17 21:26:23,705 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 21:26:23,706 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 21:26:23,708 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 21:26:23,712 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 21:26:23,723 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '782'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '2cf4435c-1b87-11f0-83cd-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 21:26:24,482 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '2cf4435c-1b87-11f0-83cd-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 12:26:24 GMT'
2025-04-17 21:26:24,484 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-17 21:26:24,485 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-17 21:26:27,328 - config - INFO - 종목 코드 100개 로드됨.
2025-04-17 21:26:29,333 - config - INFO - --- 단일 기업 테스트 시작: 005930 ---
2025-04-17 21:26:30,988 - config - INFO - 처리 대상 PDF 경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/005930.pdf
2025-04-17 21:26:30,992 - config - INFO - 입력 PDF 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/005930.pdf (7263840 bytes)
2025-04-17 21:26:32,977 - config - INFO - --- 005930: Document Intelligence 분석 시작 ---
2025-04-17 21:26:32,981 - config - INFO - DI 클라이언트 초기화 성공
2025-04-17 21:26:32,982 - config - INFO - 바이트 데이터 분석 시작 (콘텐츠 길이: 7263840)
2025-04-17 21:26:32,983 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED&outputContentFormat=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Length': '7263840'
    'content-type': 'application/octet-stream'
    'Accept': 'application/json'
    'x-ms-client-request-id': '327952c2-1b87-11f0-83cd-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-17 21:26:46,564 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 202
Response headers:
    'Content-Length': '0'
    'Operation-Location': 'REDACTED'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 12:26:45 GMT'
2025-04-17 21:26:46,569 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/5722a6db-b4c6-43df-b171-e7747b26e993?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '327952c2-1b87-11f0-83cd-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 21:26:46,806 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 12:26:45 GMT'
2025-04-17 21:26:47,813 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/5722a6db-b4c6-43df-b171-e7747b26e993?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '327952c2-1b87-11f0-83cd-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 21:26:48,107 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 12:26:46 GMT'
2025-04-17 21:26:49,118 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/5722a6db-b4c6-43df-b171-e7747b26e993?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '327952c2-1b87-11f0-83cd-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 21:26:49,352 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 12:26:48 GMT'
2025-04-17 21:26:50,359 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/5722a6db-b4c6-43df-b171-e7747b26e993?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '327952c2-1b87-11f0-83cd-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 21:26:50,666 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 12:26:49 GMT'
2025-04-17 21:26:51,673 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/5722a6db-b4c6-43df-b171-e7747b26e993?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '327952c2-1b87-11f0-83cd-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 21:26:59,658 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '3042398'
    'Content-Type': 'application/json; charset=utf-8'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 12:26:50 GMT'
2025-04-17 21:27:00,623 - config - INFO - DI 분석 완료 (바이트 데이터)
2025-04-17 21:27:00,630 - config - INFO - --- 005930: Document Intelligence 분석 완료 ---
2025-04-17 21:27:07,269 - config - INFO - --- 005930: 섹션 추출 시작 ---
2025-04-17 21:27:07,273 - config - INFO - Markdown H2/H3 기준 섹션 추출 완료: 총 4개
2025-04-17 21:27:07,274 - config - INFO - 추출된 섹션: ['대차잔고비중', 'General Information', '주주변동내역 [최근 20건]', '임직원 정보'] (총 4개)
2025-04-17 21:27:07,274 - config - INFO - 결합된 전체 텍스트 길이: 59835 자
2025-04-17 21:27:09,589 - config - INFO - --- 005930: 텍스트 청킹 시작 ---
2025-04-17 21:27:09,597 - config - INFO - 텍스트 청크 분할 완료: 총 48개
2025-04-17 21:27:09,598 - config - INFO - 텍스트 청킹 완료: 총 48개 청크 생성
2025-04-17 21:27:12,091 - config - INFO - --- 005930: 임베딩 생성 시작 (총 48개 청크) ---
2025-04-17 21:27:12,146 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:12,999 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:13,037 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:13,869 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:13,899 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:14,721 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:14,764 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:15,588 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:15,630 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:16,440 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:16,477 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:19,646 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:19,693 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:20,518 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:20,564 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:21,398 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:21,438 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:22,616 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:22,666 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:23,470 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:23,511 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:24,339 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:24,383 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:25,205 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:25,243 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:26,105 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:26,155 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:26,965 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:27,005 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:27,833 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:27,875 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:28,706 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:28,757 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:29,577 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:29,620 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:30,450 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:30,492 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:31,459 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:31,495 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:32,786 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:32,838 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:34,084 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:34,118 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:34,931 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:34,973 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:35,815 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:35,864 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:36,673 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:36,718 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:37,565 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:37,609 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:38,445 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:38,494 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:39,332 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:39,380 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:40,205 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:40,246 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:41,061 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:41,110 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:41,938 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:41,983 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:42,831 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:42,877 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:43,736 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:43,783 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:44,599 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:44,646 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:45,473 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:45,514 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:46,396 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:46,443 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:47,266 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:47,314 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:48,146 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:48,188 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:49,013 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:49,060 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:49,883 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:49,922 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:50,791 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:50,840 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:51,663 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:51,707 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:52,584 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:52,626 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:53,780 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:53,818 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:54,647 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:54,687 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:55,548 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:55,588 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:56,402 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:56,440 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:57,374 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:57,435 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 21:27:58,242 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 21:27:58,247 - config - INFO - --- 005930: 임베딩 생성 완료 (48 / 48 성공) ---
2025-04-17 21:28:04,216 - config - INFO - --- 005930: Azure AI Search 업로드 시작 (48개 문서) ---
2025-04-17 21:28:04,218 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-17 21:28:04,219 - config - INFO - Azure AI Search 업로드 준비: 총 48개 문서
2025-04-17 21:28:04,264 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1757560'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '68e1a83c-1b87-11f0-83cd-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 21:28:06,816 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '68e1a83c-1b87-11f0-83cd-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 12:28:06 GMT'
2025-04-17 21:28:06,821 - config - INFO - Azure AI Search 문서 업로드 완료: 48 / 48 성공
2025-04-17 21:28:06,823 - config - INFO - --- 005930: Azure AI Search 업로드 완료 ---
2025-04-17 23:49:37,538 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-17 23:55:46,022 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-17 23:55:55,331 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-17 23:55:55,399 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:55:55,401 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-17 23:55:55,401 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-17 23:55:59,918 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-17 23:55:59,920 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-17 23:55:59,921 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 23:55:59,922 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 23:55:59,923 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 23:55:59,924 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 23:55:59,926 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '782'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '13304ab4-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 23:56:00,747 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '13304ab4-1b9c-11f0-a55c-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:56:00 GMT'
2025-04-17 23:56:00,749 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-17 23:56:00,751 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-17 23:56:20,238 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-17 23:56:20,241 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-17 23:56:20,243 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 23:56:20,243 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 23:56:20,244 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 23:56:20,245 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-17 23:56:20,247 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '782'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '1f4cf842-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 23:56:20,982 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '1f4cf842-1b9c-11f0-a55c-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:56:20 GMT'
2025-04-17 23:56:20,987 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-17 23:56:20,990 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-17 23:56:24,152 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-17 23:56:24,154 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-17 23:56:32,536 - config - INFO - ===== PART 1: 데이터 인덱싱 시작 (5개 기업) =====
2025-04-17 23:56:32,537 - config - INFO - --- 인덱싱 시작 (1/5): 005930 ---
2025-04-17 23:56:32,541 - config - INFO - PDF 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/005930.pdf (7263840 bytes)
2025-04-17 23:56:32,542 - config - INFO - DI 클라이언트 초기화 성공
2025-04-17 23:56:32,543 - config - INFO - 바이트 데이터 분석 시작 (콘텐츠 길이: 7263840)
2025-04-17 23:56:32,544 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED&outputContentFormat=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Length': '7263840'
    'content-type': 'application/octet-stream'
    'Accept': 'application/json'
    'x-ms-client-request-id': '26a153fe-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-17 23:56:36,455 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 202
Response headers:
    'Content-Length': '0'
    'Operation-Location': 'REDACTED'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:56:35 GMT'
2025-04-17 23:56:36,460 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/57b73943-8228-49c9-bc5c-e2680a1a56d7?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '26a153fe-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:56:36,762 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:56:36 GMT'
2025-04-17 23:56:37,770 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/57b73943-8228-49c9-bc5c-e2680a1a56d7?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '26a153fe-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:56:38,093 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:56:37 GMT'
2025-04-17 23:56:39,095 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/57b73943-8228-49c9-bc5c-e2680a1a56d7?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '26a153fe-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:56:39,330 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:56:38 GMT'
2025-04-17 23:56:40,337 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/57b73943-8228-49c9-bc5c-e2680a1a56d7?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '26a153fe-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:56:40,561 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:56:40 GMT'
2025-04-17 23:56:41,570 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/57b73943-8228-49c9-bc5c-e2680a1a56d7?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '26a153fe-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:56:41,812 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:56:41 GMT'
2025-04-17 23:56:42,821 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/57b73943-8228-49c9-bc5c-e2680a1a56d7?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '26a153fe-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:56:50,742 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '3042398'
    'Content-Type': 'application/json; charset=utf-8'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:56:42 GMT'
2025-04-17 23:56:51,673 - config - INFO - DI 분석 완료 (바이트 데이터)
2025-04-17 23:56:52,190 - config - INFO - Markdown H2/H3 기준 섹션 추출 완료: 총 4개
2025-04-17 23:56:52,193 - config - INFO - 텍스트 추출 완료 (길이: 59835 자)
2025-04-17 23:56:52,200 - config - INFO - 텍스트 청크 분할 완료: 총 48개
2025-04-17 23:56:52,202 - config - INFO - 텍스트 청킹 완료: 48개 청크
2025-04-17 23:56:52,240 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:56:53,075 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:56:53,163 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:56:54,004 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:56:54,100 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:56:54,944 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:56:55,037 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:56:55,847 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:56:55,939 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:56:56,752 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:56:56,846 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:56:57,678 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:56:57,775 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:56:58,609 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:56:58,705 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:56:59,757 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:56:59,854 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:00,780 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:00,879 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:01,719 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:01,814 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:02,667 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:02,764 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:04,079 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:04,175 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:05,173 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:05,266 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:06,058 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:06,146 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:06,998 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:07,095 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:07,932 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:08,029 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:08,858 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:08,951 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:09,778 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:09,872 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:10,678 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:10,770 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:11,606 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:11,705 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:12,529 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:12,621 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:13,444 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:13,535 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:14,392 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:14,483 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:15,292 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:15,400 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:16,270 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:16,372 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:17,232 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:17,325 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:18,152 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:18,248 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:19,047 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:19,141 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:19,952 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:20,044 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:21,248 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:21,348 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:22,189 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:22,291 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:23,205 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:23,301 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:24,150 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:24,242 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:25,042 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:25,153 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:25,990 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:26,083 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:26,934 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:27,024 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:27,947 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:28,040 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:28,852 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:28,948 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:29,788 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:29,896 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:30,712 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:30,807 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:31,631 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:31,727 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:32,576 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:32,674 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:33,517 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:33,611 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:34,442 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:34,542 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:35,359 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:35,451 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:36,252 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:36,350 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:37,221 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:37,318 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:38,117 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:38,177 - config - INFO - 임베딩 생성 완료 (48 / 48 성공)
2025-04-17 23:57:38,179 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-17 23:57:38,180 - config - INFO - Azure AI Search 업로드 준비: 총 48개 문서
2025-04-17 23:57:38,232 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1757548'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '4dc8a39c-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 23:57:40,400 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '4dc8a39c-1b9c-11f0-a55c-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:57:40 GMT'
2025-04-17 23:57:40,406 - config - INFO - Azure AI Search 문서 업로드 완료: 48 / 48 성공
2025-04-17 23:57:40,408 - config - INFO - AI Search 업로드 완료.
2025-04-17 23:57:40,412 - config - INFO - --- 인덱싱 완료: 005930 (상태: 성공) ---
2025-04-17 23:57:40,413 - config - INFO - --- 인덱싱 시작 (2/5): 000660 ---
2025-04-17 23:57:40,442 - config - INFO - PDF 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/000660.pdf (5990071 bytes)
2025-04-17 23:57:40,442 - config - INFO - DI 클라이언트 초기화 성공
2025-04-17 23:57:40,443 - config - INFO - 바이트 데이터 분석 시작 (콘텐츠 길이: 5990071)
2025-04-17 23:57:40,444 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED&outputContentFormat=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Length': '5990071'
    'content-type': 'application/octet-stream'
    'Accept': 'application/json'
    'x-ms-client-request-id': '4f1a05ce-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-17 23:57:43,301 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 202
Response headers:
    'Content-Length': '0'
    'Operation-Location': 'REDACTED'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:57:43 GMT'
2025-04-17 23:57:43,303 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/41594cc0-f079-4b38-b09e-601791282f8e?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '4f1a05ce-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:57:43,629 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:57:43 GMT'
2025-04-17 23:57:44,637 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/41594cc0-f079-4b38-b09e-601791282f8e?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '4f1a05ce-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:57:44,960 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:57:44 GMT'
2025-04-17 23:57:45,969 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/41594cc0-f079-4b38-b09e-601791282f8e?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '4f1a05ce-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:57:46,211 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:57:45 GMT'
2025-04-17 23:57:47,220 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/41594cc0-f079-4b38-b09e-601791282f8e?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '4f1a05ce-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:57:47,522 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:57:47 GMT'
2025-04-17 23:57:48,531 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/41594cc0-f079-4b38-b09e-601791282f8e?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '4f1a05ce-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:57:53,803 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '1928206'
    'Content-Type': 'application/json; charset=utf-8'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:57:48 GMT'
2025-04-17 23:57:54,409 - config - INFO - DI 분석 완료 (바이트 데이터)
2025-04-17 23:57:54,922 - config - INFO - Markdown H2/H3 기준 섹션 추출 완료: 총 7개
2025-04-17 23:57:54,925 - config - INFO - 텍스트 추출 완료 (길이: 32001 자)
2025-04-17 23:57:54,930 - config - INFO - 텍스트 청크 분할 완료: 총 26개
2025-04-17 23:57:54,932 - config - INFO - 텍스트 청킹 완료: 26개 청크
2025-04-17 23:57:54,972 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:55,792 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:55,888 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:56,703 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:56,793 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:57,601 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:57,697 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:58,499 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:58,594 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:57:59,426 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:57:59,523 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:00,355 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:00,449 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:01,285 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:01,379 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:02,200 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:02,297 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:03,219 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:03,314 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:04,494 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:04,589 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:05,493 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:05,594 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:06,486 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:06,578 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:07,408 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:07,506 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:08,339 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:08,433 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:09,247 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:09,343 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:10,199 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:10,297 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:11,159 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:11,259 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:12,069 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:12,165 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:12,992 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:13,089 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:13,961 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:14,057 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:14,904 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:15,002 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:15,830 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:15,924 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:16,770 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:16,863 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:17,675 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:17,771 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:18,588 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:18,680 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:19,504 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:19,561 - config - INFO - 임베딩 생성 완료 (26 / 26 성공)
2025-04-17 23:58:19,563 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-17 23:58:19,563 - config - INFO - Azure AI Search 업로드 준비: 총 26개 문서
2025-04-17 23:58:19,595 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '953339'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '666ffef4-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 23:58:21,410 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '666ffef4-1b9c-11f0-a55c-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:58:21 GMT'
2025-04-17 23:58:21,415 - config - INFO - Azure AI Search 문서 업로드 완료: 26 / 26 성공
2025-04-17 23:58:21,417 - config - INFO - AI Search 업로드 완료.
2025-04-17 23:58:21,419 - config - INFO - --- 인덱싱 완료: 000660 (상태: 성공) ---
2025-04-17 23:58:21,422 - config - INFO - --- 인덱싱 시작 (3/5): 105560 ---
2025-04-17 23:58:21,441 - config - INFO - PDF 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/105560.pdf (8417428 bytes)
2025-04-17 23:58:21,442 - config - INFO - DI 클라이언트 초기화 성공
2025-04-17 23:58:21,442 - config - INFO - 바이트 데이터 분석 시작 (콘텐츠 길이: 8417428)
2025-04-17 23:58:21,443 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED&outputContentFormat=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Length': '8417428'
    'content-type': 'application/octet-stream'
    'Accept': 'application/json'
    'x-ms-client-request-id': '678a1c70-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-17 23:58:24,590 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 202
Response headers:
    'Content-Length': '0'
    'Operation-Location': 'REDACTED'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:58:24 GMT'
2025-04-17 23:58:24,594 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/52cc3dd1-20a5-4730-9ccd-2941c3325b6f?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '678a1c70-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:58:24,830 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:58:24 GMT'
2025-04-17 23:58:25,839 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/52cc3dd1-20a5-4730-9ccd-2941c3325b6f?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '678a1c70-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:58:26,069 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:58:25 GMT'
2025-04-17 23:58:27,077 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/52cc3dd1-20a5-4730-9ccd-2941c3325b6f?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '678a1c70-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:58:27,356 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:58:27 GMT'
2025-04-17 23:58:28,364 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/52cc3dd1-20a5-4730-9ccd-2941c3325b6f?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '678a1c70-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:58:28,610 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:58:28 GMT'
2025-04-17 23:58:29,618 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/52cc3dd1-20a5-4730-9ccd-2941c3325b6f?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '678a1c70-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:58:39,191 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '3708088'
    'Content-Type': 'application/json; charset=utf-8'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:58:29 GMT'
2025-04-17 23:58:40,405 - config - INFO - DI 분석 완료 (바이트 데이터)
2025-04-17 23:58:40,922 - config - INFO - Markdown H2/H3 기준 섹션 추출 완료: 총 10개
2025-04-17 23:58:40,925 - config - INFO - 텍스트 추출 완료 (길이: 38200 자)
2025-04-17 23:58:40,932 - config - INFO - 텍스트 청크 분할 완료: 총 31개
2025-04-17 23:58:40,933 - config - INFO - 텍스트 청킹 완료: 31개 청크
2025-04-17 23:58:40,968 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:41,841 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:41,935 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:42,780 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:42,871 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:43,729 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:43,826 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:44,647 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:44,740 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:45,542 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:45,633 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:46,487 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:46,581 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:47,400 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:47,497 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:48,317 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:48,412 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:49,226 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:49,322 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:50,132 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:50,222 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:51,039 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:51,144 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:51,975 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:52,065 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:52,860 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:52,951 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:53,788 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:53,885 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:54,694 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:54,779 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:55,570 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:55,668 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:56,501 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:56,594 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:57,425 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:57,508 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:58,331 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:58,426 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:58:59,311 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:58:59,409 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:00,253 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:00,352 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:01,197 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:01,293 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:02,141 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:02,247 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:03,076 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:03,171 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:04,323 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:04,418 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:05,449 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:05,544 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:06,450 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:06,549 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:07,364 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:07,462 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:08,278 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:08,374 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:09,188 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:09,278 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:10,083 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:10,142 - config - INFO - 임베딩 생성 완료 (31 / 31 성공)
2025-04-17 23:59:10,144 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-17 23:59:10,145 - config - INFO - Azure AI Search 업로드 준비: 총 31개 문서
2025-04-17 23:59:10,182 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1144461'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '84970ddc-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 23:59:12,006 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '84970ddc-1b9c-11f0-a55c-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:59:11 GMT'
2025-04-17 23:59:12,013 - config - INFO - Azure AI Search 문서 업로드 완료: 31 / 31 성공
2025-04-17 23:59:12,016 - config - INFO - AI Search 업로드 완료.
2025-04-17 23:59:12,017 - config - INFO - --- 인덱싱 완료: 105560 (상태: 성공) ---
2025-04-17 23:59:12,018 - config - INFO - --- 인덱싱 시작 (4/5): 005380 ---
2025-04-17 23:59:12,042 - config - INFO - PDF 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/005380.pdf (6673545 bytes)
2025-04-17 23:59:12,042 - config - INFO - DI 클라이언트 초기화 성공
2025-04-17 23:59:12,043 - config - INFO - 바이트 데이터 분석 시작 (콘텐츠 길이: 6673545)
2025-04-17 23:59:12,044 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED&outputContentFormat=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Length': '6673545'
    'content-type': 'application/octet-stream'
    'Accept': 'application/json'
    'x-ms-client-request-id': '85b31b0c-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-17 23:59:14,940 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 202
Response headers:
    'Content-Length': '0'
    'Operation-Location': 'REDACTED'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:59:14 GMT'
2025-04-17 23:59:14,944 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/8c4b0ee8-c3e3-4f2d-a39e-4fd55e2436ad?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '85b31b0c-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:59:15,279 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:59:14 GMT'
2025-04-17 23:59:16,285 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/8c4b0ee8-c3e3-4f2d-a39e-4fd55e2436ad?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '85b31b0c-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:59:16,612 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:59:16 GMT'
2025-04-17 23:59:17,617 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/8c4b0ee8-c3e3-4f2d-a39e-4fd55e2436ad?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '85b31b0c-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:59:17,942 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:59:17 GMT'
2025-04-17 23:59:18,950 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/8c4b0ee8-c3e3-4f2d-a39e-4fd55e2436ad?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '85b31b0c-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:59:19,206 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:59:19 GMT'
2025-04-17 23:59:20,214 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/8c4b0ee8-c3e3-4f2d-a39e-4fd55e2436ad?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '85b31b0c-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:59:26,898 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '2533275'
    'Content-Type': 'application/json; charset=utf-8'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:59:20 GMT'
2025-04-17 23:59:27,667 - config - INFO - DI 분석 완료 (바이트 데이터)
2025-04-17 23:59:28,182 - config - INFO - Markdown H2/H3 기준 섹션 추출 완료: 총 4개
2025-04-17 23:59:28,185 - config - INFO - 텍스트 추출 완료 (길이: 17896 자)
2025-04-17 23:59:28,188 - config - INFO - 텍스트 청크 분할 완료: 총 14개
2025-04-17 23:59:28,189 - config - INFO - 텍스트 청킹 완료: 14개 청크
2025-04-17 23:59:28,230 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:29,068 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:29,161 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:30,009 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:30,106 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:30,901 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:30,987 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:31,813 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:31,905 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:32,731 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:32,817 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:33,679 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:33,771 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:34,622 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:34,726 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:35,558 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:35,660 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:36,512 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:36,618 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:37,442 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:37,536 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:38,347 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:38,444 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:39,288 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:39,385 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:40,198 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:40,295 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:41,112 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:41,171 - config - INFO - 임베딩 생성 완료 (14 / 14 성공)
2025-04-17 23:59:41,172 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-17 23:59:41,173 - config - INFO - Azure AI Search 업로드 준비: 총 14개 문서
2025-04-17 23:59:41,193 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '515301'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '9712e60c-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-17 23:59:42,760 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '9712e60c-1b9c-11f0-a55c-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:59:42 GMT'
2025-04-17 23:59:42,764 - config - INFO - Azure AI Search 문서 업로드 완료: 14 / 14 성공
2025-04-17 23:59:42,767 - config - INFO - AI Search 업로드 완료.
2025-04-17 23:59:42,770 - config - INFO - --- 인덱싱 완료: 005380 (상태: 성공) ---
2025-04-17 23:59:42,771 - config - INFO - --- 인덱싱 시작 (5/5): 012450 ---
2025-04-17 23:59:42,792 - config - INFO - PDF 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/012450.pdf (6188709 bytes)
2025-04-17 23:59:42,793 - config - INFO - DI 클라이언트 초기화 성공
2025-04-17 23:59:42,794 - config - INFO - 바이트 데이터 분석 시작 (콘텐츠 길이: 6188709)
2025-04-17 23:59:42,795 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED&outputContentFormat=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Length': '6188709'
    'content-type': 'application/octet-stream'
    'Accept': 'application/json'
    'x-ms-client-request-id': '98075b60-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-17 23:59:45,546 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 202
Response headers:
    'Content-Length': '0'
    'Operation-Location': 'REDACTED'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:59:44 GMT'
2025-04-17 23:59:45,549 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/85458505-6ddd-42ba-84d7-082ee1cd44aa?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '98075b60-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:59:45,794 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:59:45 GMT'
2025-04-17 23:59:46,802 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/85458505-6ddd-42ba-84d7-082ee1cd44aa?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '98075b60-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:59:47,126 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:59:46 GMT'
2025-04-17 23:59:48,135 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/85458505-6ddd-42ba-84d7-082ee1cd44aa?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '98075b60-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:59:48,456 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:59:47 GMT'
2025-04-17 23:59:49,464 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/85458505-6ddd-42ba-84d7-082ee1cd44aa?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '98075b60-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:59:49,788 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:59:48 GMT'
2025-04-17 23:59:50,794 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/85458505-6ddd-42ba-84d7-082ee1cd44aa?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '98075b60-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-17 23:59:56,036 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '1980361'
    'Content-Type': 'application/json; charset=utf-8'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 14:59:50 GMT'
2025-04-17 23:59:56,696 - config - INFO - DI 분석 완료 (바이트 데이터)
2025-04-17 23:59:57,207 - config - INFO - Markdown H2/H3 기준 섹션 추출 완료: 총 4개
2025-04-17 23:59:57,208 - config - INFO - 텍스트 추출 완료 (길이: 30837 자)
2025-04-17 23:59:57,213 - config - INFO - 텍스트 청크 분할 완료: 총 25개
2025-04-17 23:59:57,215 - config - INFO - 텍스트 청킹 완료: 25개 청크
2025-04-17 23:59:57,259 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:58,089 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:58,179 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:58,994 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-17 23:59:59,089 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-17 23:59:59,926 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:00:00,019 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:00:00,890 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:00:00,985 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:00:01,825 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:00:01,921 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:00:02,763 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:00:02,859 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:00:03,818 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:00:03,918 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:00:05,150 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:00:05,239 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:00:06,145 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:00:06,240 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:00:07,169 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:00:07,267 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:00:08,115 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:00:08,209 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:00:09,078 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:00:09,172 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:00:10,030 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:00:10,138 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:00:10,998 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:00:11,086 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:00:11,964 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:00:12,061 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:00:12,907 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:00:13,002 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:00:13,883 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:00:13,975 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:00:14,805 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:00:14,899 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:00:15,755 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:00:15,847 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:00:16,671 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:00:16,768 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:00:17,586 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:00:17,683 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:00:18,521 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:00:18,613 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:00:19,463 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:00:19,556 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:00:20,404 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:00:20,503 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:00:21,324 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:00:21,383 - config - INFO - 임베딩 생성 완료 (25 / 25 성공)
2025-04-18 00:00:21,385 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 00:00:21,389 - config - INFO - Azure AI Search 업로드 준비: 총 25개 문서
2025-04-18 00:00:21,420 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '920243'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'af0d1944-1b9c-11f0-a55c-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 00:00:23,045 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'af0d1944-1b9c-11f0-a55c-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 15:00:22 GMT'
2025-04-18 00:00:23,050 - config - INFO - Azure AI Search 문서 업로드 완료: 25 / 25 성공
2025-04-18 00:00:23,053 - config - INFO - AI Search 업로드 완료.
2025-04-18 00:00:23,055 - config - INFO - --- 인덱싱 완료: 012450 (상태: 성공) ---
2025-04-18 00:00:23,057 - config - INFO - ===== PART 1: 데이터 인덱싱 완료 =====
2025-04-18 00:00:23,058 - config - INFO - 총 5개 기업 처리 시도, 5개 성공.
2025-04-18 00:00:23,059 - config - INFO - 모든 대상 기업 인덱싱 성공!
2025-04-18 00:57:31,003 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-18 00:57:34,935 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-18 00:57:34,999 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:57:35,001 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 00:57:35,002 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-18 00:57:39,972 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-18 00:57:40,010 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:57:40,010 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 00:57:40,011 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-18 00:57:40,687 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-18 00:57:40,690 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-18 00:57:40,691 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 00:57:40,691 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 00:57:40,692 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 00:57:40,692 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 00:57:40,695 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '782'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'b104d568-1ba4-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 00:57:41,750 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'b104d568-1ba4-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 15:57:40 GMT'
2025-04-18 00:57:41,754 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-18 00:57:41,756 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-18 00:57:54,899 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-18 00:57:54,900 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-18 00:57:54,902 - config - ERROR - 회사 이름 매핑 파일 로드/처리 오류: 'utf-8' codec can't decode byte 0xd0 in position 0: invalid continuation byte
2025-04-18 00:57:54,902 - config - WARNING - 종목 코드를 회사 이름 대신 사용합니다.
2025-04-18 00:58:02,440 - config - INFO - ===== PART 1: 데이터 인덱싱 시작 (5개 기업) =====
2025-04-18 00:58:02,444 - config - INFO - --- 인덱싱 시작 (1/5): 005930 ---
2025-04-18 00:58:02,449 - config - INFO - PDF 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/005930.pdf (7263840 bytes)
2025-04-18 00:58:02,450 - config - INFO - DI 클라이언트 초기화 성공
2025-04-18 00:58:02,451 - config - INFO - 바이트 데이터 분석 시작 (콘텐츠 길이: 7263840)
2025-04-18 00:58:02,452 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED&outputContentFormat=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Length': '7263840'
    'content-type': 'application/octet-stream'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'bdfc9b2a-1ba4-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-18 00:58:05,658 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 202
Response headers:
    'Content-Length': '0'
    'Operation-Location': 'REDACTED'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 15:58:04 GMT'
2025-04-18 00:58:05,662 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/8098fe03-01db-4155-bc1f-1a4dc80640ff?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'bdfc9b2a-1ba4-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 00:58:05,966 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 15:58:05 GMT'
2025-04-18 00:58:06,975 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/8098fe03-01db-4155-bc1f-1a4dc80640ff?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'bdfc9b2a-1ba4-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 00:58:07,208 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 15:58:06 GMT'
2025-04-18 00:58:08,214 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/8098fe03-01db-4155-bc1f-1a4dc80640ff?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'bdfc9b2a-1ba4-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 00:58:08,543 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 15:58:07 GMT'
2025-04-18 00:58:09,552 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/8098fe03-01db-4155-bc1f-1a4dc80640ff?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'bdfc9b2a-1ba4-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 00:58:09,784 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 15:58:09 GMT'
2025-04-18 00:58:10,792 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/8098fe03-01db-4155-bc1f-1a4dc80640ff?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'bdfc9b2a-1ba4-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 00:58:31,299 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '3042398'
    'Content-Type': 'application/json; charset=utf-8'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 15:58:10 GMT'
2025-04-18 00:58:32,373 - config - INFO - DI 분석 완료 (바이트 데이터)
2025-04-18 00:58:32,893 - config - INFO - Markdown H2/H3 기준 섹션 추출 완료: 총 4개
2025-04-18 00:58:32,894 - config - INFO - 텍스트 추출 완료 (길이: 59835 자)
2025-04-18 00:58:32,898 - config - INFO - 텍스트 청크 분할 완료: 총 48개
2025-04-18 00:58:32,899 - config - INFO - 텍스트 청킹 완료: 48개 청크
2025-04-18 00:58:32,926 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:33,785 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:33,873 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:34,705 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:34,789 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:35,605 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:35,699 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:36,527 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:36,621 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:37,468 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:37,560 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:38,376 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:38,462 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:39,306 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:39,399 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:40,238 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:40,332 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:41,491 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:41,584 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:42,402 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:42,488 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:43,307 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:43,413 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:44,230 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:44,327 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:45,386 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:45,477 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:46,291 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:46,389 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:47,226 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:47,320 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:48,207 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:48,302 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:49,125 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:49,218 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:51,230 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:51,325 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:52,139 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:52,231 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:53,060 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:53,157 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:54,000 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:54,100 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:54,913 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:55,001 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:55,815 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:55,897 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:56,697 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:56,790 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:57,626 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:57,714 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:58,575 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:58,672 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:58:59,513 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:58:59,620 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:00,464 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:00,557 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:01,404 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:01,496 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:02,333 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:02,437 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:03,289 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:03,380 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:04,478 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:04,572 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:05,421 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:05,522 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:06,359 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:06,453 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:07,282 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:07,372 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:08,635 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:08,731 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:09,560 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:09,653 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:10,490 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:10,584 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:11,383 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:11,471 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:12,633 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:12,724 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:13,758 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:13,844 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:14,663 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:14,756 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:15,554 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:15,648 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:16,464 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:16,565 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:17,379 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:17,474 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:18,290 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:18,385 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:19,235 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:19,333 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:20,152 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:20,207 - config - INFO - 임베딩 생성 완료 (48 / 48 성공)
2025-04-18 00:59:20,208 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 00:59:20,209 - config - INFO - Azure AI Search 업로드 준비: 총 48개 문서
2025-04-18 00:59:20,273 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1757550'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'ec5f297e-1ba4-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 00:59:22,161 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'ec5f297e-1ba4-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 15:59:22 GMT'
2025-04-18 00:59:22,165 - config - INFO - Azure AI Search 문서 업로드 완료: 48 / 48 성공
2025-04-18 00:59:22,169 - config - INFO - AI Search 업로드 완료.
2025-04-18 00:59:22,170 - config - INFO - --- 인덱싱 완료: 005930 (상태: 성공) ---
2025-04-18 00:59:22,172 - config - INFO - --- 인덱싱 시작 (2/5): 000660 ---
2025-04-18 00:59:22,192 - config - INFO - PDF 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/000660.pdf (5990071 bytes)
2025-04-18 00:59:22,193 - config - INFO - DI 클라이언트 초기화 성공
2025-04-18 00:59:22,194 - config - INFO - 바이트 데이터 분석 시작 (콘텐츠 길이: 5990071)
2025-04-18 00:59:22,195 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED&outputContentFormat=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Length': '5990071'
    'content-type': 'application/octet-stream'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ed846832-1ba4-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-18 00:59:24,946 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 202
Response headers:
    'Content-Length': '0'
    'Operation-Location': 'REDACTED'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 15:59:24 GMT'
2025-04-18 00:59:24,952 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/9eaab130-092a-4406-9487-b11909148e37?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'ed846832-1ba4-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 00:59:25,191 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 15:59:25 GMT'
2025-04-18 00:59:26,199 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/9eaab130-092a-4406-9487-b11909148e37?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'ed846832-1ba4-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 00:59:26,454 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 15:59:26 GMT'
2025-04-18 00:59:27,461 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/9eaab130-092a-4406-9487-b11909148e37?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'ed846832-1ba4-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 00:59:27,688 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 15:59:27 GMT'
2025-04-18 00:59:28,695 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/9eaab130-092a-4406-9487-b11909148e37?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'ed846832-1ba4-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 00:59:28,934 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 15:59:28 GMT'
2025-04-18 00:59:29,938 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/9eaab130-092a-4406-9487-b11909148e37?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'ed846832-1ba4-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 00:59:39,594 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '1928206'
    'Content-Type': 'application/json; charset=utf-8'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 15:59:30 GMT'
2025-04-18 00:59:40,242 - config - INFO - DI 분석 완료 (바이트 데이터)
2025-04-18 00:59:40,754 - config - INFO - Markdown H2/H3 기준 섹션 추출 완료: 총 7개
2025-04-18 00:59:40,755 - config - INFO - 텍스트 추출 완료 (길이: 32001 자)
2025-04-18 00:59:40,757 - config - INFO - 텍스트 청크 분할 완료: 총 26개
2025-04-18 00:59:40,757 - config - INFO - 텍스트 청킹 완료: 26개 청크
2025-04-18 00:59:40,786 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:41,598 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:41,693 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:42,515 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:42,607 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:43,452 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:43,547 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:44,349 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:44,447 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:45,334 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:45,435 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:46,287 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:46,383 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:47,226 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:47,320 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:48,128 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:48,220 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:49,051 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:49,149 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:49,956 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:50,050 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:50,884 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:50,982 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:51,800 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:51,890 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:52,742 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:52,837 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:53,641 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:53,734 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:54,542 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:54,630 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:55,687 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:55,778 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:56,600 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:56,694 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:57,497 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:57,601 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:58,453 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:58,562 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 00:59:59,380 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 00:59:59,473 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:00,280 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:00,371 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:01,210 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:01,302 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:02,134 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:02,227 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:03,059 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:03,151 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:03,962 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:04,058 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:04,877 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:04,932 - config - INFO - 임베딩 생성 완료 (26 / 26 성공)
2025-04-18 01:00:04,934 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 01:00:04,936 - config - INFO - Azure AI Search 업로드 준비: 총 26개 문서
2025-04-18 01:00:04,969 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '953339'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '07034d3c-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:00:06,719 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '07034d3c-1ba5-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:00:06 GMT'
2025-04-18 01:00:06,723 - config - INFO - Azure AI Search 문서 업로드 완료: 26 / 26 성공
2025-04-18 01:00:06,725 - config - INFO - AI Search 업로드 완료.
2025-04-18 01:00:06,728 - config - INFO - --- 인덱싱 완료: 000660 (상태: 성공) ---
2025-04-18 01:00:06,729 - config - INFO - --- 인덱싱 시작 (3/5): 105560 ---
2025-04-18 01:00:06,750 - config - INFO - PDF 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/105560.pdf (8417428 bytes)
2025-04-18 01:00:06,752 - config - INFO - DI 클라이언트 초기화 성공
2025-04-18 01:00:06,752 - config - INFO - 바이트 데이터 분석 시작 (콘텐츠 길이: 8417428)
2025-04-18 01:00:06,754 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED&outputContentFormat=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Length': '8417428'
    'content-type': 'application/octet-stream'
    'Accept': 'application/json'
    'x-ms-client-request-id': '08139a2e-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-18 01:00:10,219 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 202
Response headers:
    'Content-Length': '0'
    'Operation-Location': 'REDACTED'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:00:10 GMT'
2025-04-18 01:00:10,222 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/c16c8064-c0e2-47c4-816f-a948044bd8e4?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '08139a2e-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:00:10,493 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:00:10 GMT'
2025-04-18 01:00:11,500 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/c16c8064-c0e2-47c4-816f-a948044bd8e4?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '08139a2e-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:00:11,816 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:00:11 GMT'
2025-04-18 01:00:12,820 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/c16c8064-c0e2-47c4-816f-a948044bd8e4?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '08139a2e-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:00:13,149 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:00:12 GMT'
2025-04-18 01:00:14,158 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/c16c8064-c0e2-47c4-816f-a948044bd8e4?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '08139a2e-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:00:14,480 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:00:14 GMT'
2025-04-18 01:00:15,483 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/c16c8064-c0e2-47c4-816f-a948044bd8e4?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '08139a2e-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:00:15,810 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:00:15 GMT'
2025-04-18 01:00:16,817 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/c16c8064-c0e2-47c4-816f-a948044bd8e4?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '08139a2e-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:00:29,756 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '3708088'
    'Content-Type': 'application/json; charset=utf-8'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:00:17 GMT'
2025-04-18 01:00:30,922 - config - INFO - DI 분석 완료 (바이트 데이터)
2025-04-18 01:00:31,441 - config - INFO - Markdown H2/H3 기준 섹션 추출 완료: 총 10개
2025-04-18 01:00:31,443 - config - INFO - 텍스트 추출 완료 (길이: 38200 자)
2025-04-18 01:00:31,449 - config - INFO - 텍스트 청크 분할 완료: 총 31개
2025-04-18 01:00:31,452 - config - INFO - 텍스트 청킹 완료: 31개 청크
2025-04-18 01:00:31,488 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:32,326 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:32,422 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:33,229 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:33,323 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:34,165 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:34,261 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:35,109 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:35,207 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:36,071 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:36,163 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:36,978 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:37,076 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:37,910 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:38,002 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:38,840 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:38,939 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:39,760 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:39,855 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:40,908 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:41,004 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:42,130 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:42,226 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:43,077 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:43,175 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:44,016 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:44,127 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:45,025 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:45,127 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:45,954 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:46,050 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:46,871 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:46,961 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:47,799 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:47,889 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:48,725 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:48,824 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:49,674 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:49,772 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:50,817 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:50,911 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:51,735 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:51,831 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:52,673 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:52,769 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:53,998 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:54,096 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:54,926 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:55,020 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:55,840 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:55,942 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:56,885 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:56,984 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:57,822 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:57,915 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:58,758 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:58,853 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:00:59,666 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:00:59,765 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:01:00,609 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:01:00,720 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:01:01,612 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:01:01,671 - config - INFO - 임베딩 생성 완료 (31 / 31 성공)
2025-04-18 01:01:01,673 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 01:01:01,675 - config - INFO - Azure AI Search 업로드 준비: 총 31개 문서
2025-04-18 01:01:01,714 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1144450'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '28d5d506-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:01:03,542 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '28d5d506-1ba5-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:01:03 GMT'
2025-04-18 01:01:03,548 - config - INFO - Azure AI Search 문서 업로드 완료: 31 / 31 성공
2025-04-18 01:01:03,550 - config - INFO - AI Search 업로드 완료.
2025-04-18 01:01:03,552 - config - INFO - --- 인덱싱 완료: 105560 (상태: 성공) ---
2025-04-18 01:01:03,554 - config - INFO - --- 인덱싱 시작 (4/5): 005380 ---
2025-04-18 01:01:03,579 - config - INFO - PDF 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/005380.pdf (6673545 bytes)
2025-04-18 01:01:03,579 - config - INFO - DI 클라이언트 초기화 성공
2025-04-18 01:01:03,580 - config - INFO - 바이트 데이터 분석 시작 (콘텐츠 길이: 6673545)
2025-04-18 01:01:03,581 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED&outputContentFormat=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Length': '6673545'
    'content-type': 'application/octet-stream'
    'Accept': 'application/json'
    'x-ms-client-request-id': '29f2b6ca-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-18 01:01:06,398 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 202
Response headers:
    'Content-Length': '0'
    'Operation-Location': 'REDACTED'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:01:05 GMT'
2025-04-18 01:01:06,402 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/70a623b5-d99b-4537-8298-2783142979d9?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '29f2b6ca-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:01:06,705 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:01:05 GMT'
2025-04-18 01:01:07,711 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/70a623b5-d99b-4537-8298-2783142979d9?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '29f2b6ca-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:01:07,943 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:01:06 GMT'
2025-04-18 01:01:08,951 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/70a623b5-d99b-4537-8298-2783142979d9?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '29f2b6ca-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:01:09,265 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:01:08 GMT'
2025-04-18 01:01:10,272 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/70a623b5-d99b-4537-8298-2783142979d9?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '29f2b6ca-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:01:10,595 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:01:09 GMT'
2025-04-18 01:01:11,600 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/70a623b5-d99b-4537-8298-2783142979d9?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '29f2b6ca-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:01:19,382 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '2533275'
    'Content-Type': 'application/json; charset=utf-8'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:01:10 GMT'
2025-04-18 01:01:20,165 - config - INFO - DI 분석 완료 (바이트 데이터)
2025-04-18 01:01:20,679 - config - INFO - Markdown H2/H3 기준 섹션 추출 완료: 총 4개
2025-04-18 01:01:20,681 - config - INFO - 텍스트 추출 완료 (길이: 17896 자)
2025-04-18 01:01:20,684 - config - INFO - 텍스트 청크 분할 완료: 총 14개
2025-04-18 01:01:20,685 - config - INFO - 텍스트 청킹 완료: 14개 청크
2025-04-18 01:01:20,726 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:01:21,558 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:01:21,658 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:01:22,496 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:01:22,587 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:01:23,376 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:01:23,468 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:01:24,872 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:01:24,968 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:01:26,101 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:01:26,197 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:01:27,030 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:01:27,122 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:01:28,266 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:01:28,357 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:01:29,190 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:01:29,288 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:01:30,134 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:01:30,233 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:01:31,040 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:01:31,154 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:01:32,250 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:01:32,346 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:01:33,180 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:01:33,273 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:01:34,085 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:01:34,180 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:01:34,987 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:01:35,047 - config - INFO - 임베딩 생성 완료 (14 / 14 성공)
2025-04-18 01:01:35,050 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 01:01:35,051 - config - INFO - Azure AI Search 업로드 준비: 총 14개 문서
2025-04-18 01:01:35,076 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '515301'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '3cb87736-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:01:36,679 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '3cb87736-1ba5-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:01:36 GMT'
2025-04-18 01:01:36,682 - config - INFO - Azure AI Search 문서 업로드 완료: 14 / 14 성공
2025-04-18 01:01:36,684 - config - INFO - AI Search 업로드 완료.
2025-04-18 01:01:36,685 - config - INFO - --- 인덱싱 완료: 005380 (상태: 성공) ---
2025-04-18 01:01:36,686 - config - INFO - --- 인덱싱 시작 (5/5): 012450 ---
2025-04-18 01:01:36,703 - config - INFO - PDF 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/012450.pdf (6188709 bytes)
2025-04-18 01:01:36,704 - config - INFO - DI 클라이언트 초기화 성공
2025-04-18 01:01:36,704 - config - INFO - 바이트 데이터 분석 시작 (콘텐츠 길이: 6188709)
2025-04-18 01:01:36,705 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED&outputContentFormat=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Length': '6188709'
    'content-type': 'application/octet-stream'
    'Accept': 'application/json'
    'x-ms-client-request-id': '3db1176a-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-18 01:01:39,443 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 202
Response headers:
    'Content-Length': '0'
    'Operation-Location': 'REDACTED'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:01:38 GMT'
2025-04-18 01:01:39,446 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/2f21de51-0862-45dc-8fca-c94ca54488b6?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '3db1176a-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:01:39,673 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:01:39 GMT'
2025-04-18 01:01:40,679 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/2f21de51-0862-45dc-8fca-c94ca54488b6?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '3db1176a-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:01:41,009 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:01:40 GMT'
2025-04-18 01:01:42,016 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/2f21de51-0862-45dc-8fca-c94ca54488b6?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '3db1176a-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:01:42,340 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:01:41 GMT'
2025-04-18 01:01:43,347 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/2f21de51-0862-45dc-8fca-c94ca54488b6?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '3db1176a-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:01:43,670 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:01:43 GMT'
2025-04-18 01:01:44,678 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/2f21de51-0862-45dc-8fca-c94ca54488b6?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '3db1176a-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:01:50,656 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '1980361'
    'Content-Type': 'application/json; charset=utf-8'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:01:44 GMT'
2025-04-18 01:01:51,284 - config - INFO - DI 분석 완료 (바이트 데이터)
2025-04-18 01:01:51,798 - config - INFO - Markdown H2/H3 기준 섹션 추출 완료: 총 4개
2025-04-18 01:01:51,801 - config - INFO - 텍스트 추출 완료 (길이: 30837 자)
2025-04-18 01:01:51,805 - config - INFO - 텍스트 청크 분할 완료: 총 25개
2025-04-18 01:01:51,807 - config - INFO - 텍스트 청킹 완료: 25개 청크
2025-04-18 01:01:51,846 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:01:52,821 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:01:52,911 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:01:53,735 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:01:53,830 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:01:54,657 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:01:54,750 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:01:55,559 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:01:55,653 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:01:56,477 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:01:56,576 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:01:57,382 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:01:57,477 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:01:58,281 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:01:58,374 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:02:00,159 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:02:00,255 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:02:01,097 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:02:01,196 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:02:02,036 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:02:02,131 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:02:02,919 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:02:03,017 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:02:03,858 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:02:03,953 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:02:04,773 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:02:04,870 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:02:05,704 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:02:05,800 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:02:06,628 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:02:06,728 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:02:07,535 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:02:07,631 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:02:08,477 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:02:08,574 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:02:09,393 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:02:09,484 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:02:10,316 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:02:10,410 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:02:11,267 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:02:11,365 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:02:12,452 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:02:12,548 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:02:14,186 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:02:14,282 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:02:15,110 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:02:15,202 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:02:16,003 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:02:16,095 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:02:18,754 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:02:18,809 - config - INFO - 임베딩 생성 완료 (25 / 25 성공)
2025-04-18 01:02:18,811 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 01:02:18,812 - config - INFO - Azure AI Search 업로드 준비: 총 25개 문서
2025-04-18 01:02:18,842 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '920210'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '56ceb9fa-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:02:20,515 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '56ceb9fa-1ba5-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:02:20 GMT'
2025-04-18 01:02:20,520 - config - INFO - Azure AI Search 문서 업로드 완료: 25 / 25 성공
2025-04-18 01:02:20,521 - config - INFO - AI Search 업로드 완료.
2025-04-18 01:02:20,523 - config - INFO - --- 인덱싱 완료: 012450 (상태: 성공) ---
2025-04-18 01:02:20,524 - config - INFO - ===== PART 1: 데이터 인덱싱 완료 =====
2025-04-18 01:02:20,525 - config - INFO - 총 5개 기업 처리 시도, 5개 성공.
2025-04-18 01:02:20,525 - config - INFO - 모든 대상 기업 인덱싱 성공!
2025-04-18 01:02:31,234 - config - INFO - ===== PART 2 준비: 관계 추출 함수 정의 =====
2025-04-18 01:03:37,353 - config - INFO - ===== PART 2: 관계 추출 루프 시작 =====
2025-04-18 01:03:37,354 - config - INFO - 총 10개의 기업 쌍에 대해 관계 추출 시작...
2025-04-18 01:03:37,356 - config - INFO - --- 관계 추출 진행: (005930 vs 000660) (1/10) ---
2025-04-18 01:03:37,357 - config - INFO - '005930(005930)'와 '000660(000660)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:03:38,416 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:03:38,437 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35163'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '863ff280-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:03:39,365 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Cache-Control': 'no-cache,no-store'
    'Pragma': 'no-cache'
    'Content-Length': '191'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Expires': '-1'
    'Server': 'Microsoft-IIS/10.0'
    'request-id': '863ff280-1ba5-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:03:39 GMT'
2025-04-18 01:03:39,366 - config - ERROR - Azure AI Search 검색 중 오류 발생: () This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
Code: 
Message: This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
2025-04-18 01:03:39,371 - config - WARNING - 관련 청크를 찾지 못했습니다. 건너뜁니다.
2025-04-18 01:03:40,631 - config - INFO - --- 관계 추출 진행: (005930 vs 105560) (2/10) ---
2025-04-18 01:03:40,633 - config - INFO - '005930(005930)'와 '105560(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:03:40,866 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:03:40,889 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35259'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '87b60f78-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:03:41,070 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Cache-Control': 'no-cache,no-store'
    'Pragma': 'no-cache'
    'Content-Length': '191'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Expires': '-1'
    'Server': 'Microsoft-IIS/10.0'
    'request-id': '87b60f78-1ba5-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:03:40 GMT'
2025-04-18 01:03:41,073 - config - ERROR - Azure AI Search 검색 중 오류 발생: () This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
Code: 
Message: This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
2025-04-18 01:03:41,077 - config - WARNING - 관련 청크를 찾지 못했습니다. 건너뜁니다.
2025-04-18 01:03:42,337 - config - INFO - --- 관계 추출 진행: (005930 vs 005380) (3/10) ---
2025-04-18 01:03:42,340 - config - INFO - '005930(005930)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:03:42,574 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:03:42,601 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35125'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '88bb33a8-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:03:42,781 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Cache-Control': 'no-cache,no-store'
    'Pragma': 'no-cache'
    'Content-Length': '191'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Expires': '-1'
    'Server': 'Microsoft-IIS/10.0'
    'request-id': '88bb33a8-1ba5-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:03:42 GMT'
2025-04-18 01:03:42,784 - config - ERROR - Azure AI Search 검색 중 오류 발생: () This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
Code: 
Message: This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
2025-04-18 01:03:42,788 - config - WARNING - 관련 청크를 찾지 못했습니다. 건너뜁니다.
2025-04-18 01:03:44,050 - config - INFO - --- 관계 추출 진행: (005930 vs 012450) (4/10) ---
2025-04-18 01:03:44,051 - config - INFO - '005930(005930)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:03:44,288 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:03:44,319 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35194'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '89c16f92-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:03:44,500 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Cache-Control': 'no-cache,no-store'
    'Pragma': 'no-cache'
    'Content-Length': '191'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Expires': '-1'
    'Server': 'Microsoft-IIS/10.0'
    'request-id': '89c16f92-1ba5-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:03:44 GMT'
2025-04-18 01:03:44,502 - config - ERROR - Azure AI Search 검색 중 오류 발생: () This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
Code: 
Message: This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
2025-04-18 01:03:44,507 - config - WARNING - 관련 청크를 찾지 못했습니다. 건너뜁니다.
2025-04-18 01:03:45,766 - config - INFO - --- 관계 추출 진행: (000660 vs 105560) (5/10) ---
2025-04-18 01:03:45,769 - config - INFO - '000660(000660)'와 '105560(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:03:46,005 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:03:46,031 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35199'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '8ac69c8c-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:03:46,231 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Cache-Control': 'no-cache,no-store'
    'Pragma': 'no-cache'
    'Content-Length': '191'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Expires': '-1'
    'Server': 'Microsoft-IIS/10.0'
    'request-id': '8ac69c8c-1ba5-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:03:45 GMT'
2025-04-18 01:03:46,234 - config - ERROR - Azure AI Search 검색 중 오류 발생: () This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
Code: 
Message: This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
2025-04-18 01:03:46,239 - config - WARNING - 관련 청크를 찾지 못했습니다. 건너뜁니다.
2025-04-18 01:03:47,498 - config - INFO - --- 관계 추출 진행: (000660 vs 005380) (6/10) ---
2025-04-18 01:03:47,500 - config - INFO - '000660(000660)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:03:47,739 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:03:47,770 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35225'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '8bd0033e-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:03:47,949 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Cache-Control': 'no-cache,no-store'
    'Pragma': 'no-cache'
    'Content-Length': '191'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Expires': '-1'
    'Server': 'Microsoft-IIS/10.0'
    'request-id': '8bd0033e-1ba5-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:03:47 GMT'
2025-04-18 01:03:47,951 - config - ERROR - Azure AI Search 검색 중 오류 발생: () This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
Code: 
Message: This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
2025-04-18 01:03:47,956 - config - WARNING - 관련 청크를 찾지 못했습니다. 건너뜁니다.
2025-04-18 01:03:49,216 - config - INFO - --- 관계 추출 진행: (000660 vs 012450) (7/10) ---
2025-04-18 01:03:49,219 - config - INFO - '000660(000660)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:03:49,457 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:03:49,482 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35168'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '8cd53f60-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:03:49,663 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Cache-Control': 'no-cache,no-store'
    'Pragma': 'no-cache'
    'Content-Length': '191'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Expires': '-1'
    'Server': 'Microsoft-IIS/10.0'
    'request-id': '8cd53f60-1ba5-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:03:49 GMT'
2025-04-18 01:03:49,666 - config - ERROR - Azure AI Search 검색 중 오류 발생: () This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
Code: 
Message: This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
2025-04-18 01:03:49,671 - config - WARNING - 관련 청크를 찾지 못했습니다. 건너뜁니다.
2025-04-18 01:03:50,935 - config - INFO - --- 관계 추출 진행: (105560 vs 005380) (8/10) ---
2025-04-18 01:03:50,937 - config - INFO - '105560(105560)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:03:51,177 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:03:51,205 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35246'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '8ddc2d60-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:03:51,408 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Cache-Control': 'no-cache,no-store'
    'Pragma': 'no-cache'
    'Content-Length': '191'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Expires': '-1'
    'Server': 'Microsoft-IIS/10.0'
    'request-id': '8ddc2d60-1ba5-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:03:51 GMT'
2025-04-18 01:03:51,411 - config - ERROR - Azure AI Search 검색 중 오류 발생: () This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
Code: 
Message: This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
2025-04-18 01:03:51,415 - config - WARNING - 관련 청크를 찾지 못했습니다. 건너뜁니다.
2025-04-18 01:03:52,677 - config - INFO - --- 관계 추출 진행: (105560 vs 012450) (9/10) ---
2025-04-18 01:03:52,681 - config - INFO - '105560(105560)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:03:52,944 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:03:52,975 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35183'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '8eea4746-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:03:53,156 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Cache-Control': 'no-cache,no-store'
    'Pragma': 'no-cache'
    'Content-Length': '191'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Expires': '-1'
    'Server': 'Microsoft-IIS/10.0'
    'request-id': '8eea4746-1ba5-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:03:53 GMT'
2025-04-18 01:03:53,159 - config - ERROR - Azure AI Search 검색 중 오류 발생: () This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
Code: 
Message: This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
2025-04-18 01:03:53,165 - config - WARNING - 관련 청크를 찾지 못했습니다. 건너뜁니다.
2025-04-18 01:03:54,423 - config - INFO - --- 관계 추출 진행: (005380 vs 012450) (10/10) ---
2025-04-18 01:03:54,425 - config - INFO - '005380(005380)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:03:54,670 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:03:54,701 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35208'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '8ff1800a-1ba5-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:03:54,883 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Cache-Control': 'no-cache,no-store'
    'Pragma': 'no-cache'
    'Content-Length': '191'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Expires': '-1'
    'Server': 'Microsoft-IIS/10.0'
    'request-id': '8ff1800a-1ba5-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:03:54 GMT'
2025-04-18 01:03:54,885 - config - ERROR - Azure AI Search 검색 중 오류 발생: () This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
Code: 
Message: This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
2025-04-18 01:03:54,889 - config - WARNING - 관련 청크를 찾지 못했습니다. 건너뜁니다.
2025-04-18 01:03:56,150 - config - INFO - ===== PART 2: 관계 추출 루프 완료 =====
2025-04-18 01:03:56,150 - config - INFO - 총 0개의 관계 정보 추출 시도/성공.
2025-04-18 01:03:56,151 - config - WARNING - 관계 추출 실패 쌍 (10개): [(('005930', '000660'), 'No Chunks Found'), (('005930', '105560'), 'No Chunks Found'), (('005930', '005380'), 'No Chunks Found'), (('005930', '012450'), 'No Chunks Found'), (('000660', '105560'), 'No Chunks Found'), (('000660', '005380'), 'No Chunks Found'), (('000660', '012450'), 'No Chunks Found'), (('105560', '005380'), 'No Chunks Found'), (('105560', '012450'), 'No Chunks Found'), (('005380', '012450'), 'No Chunks Found')]...
2025-04-18 01:15:11,234 - config - INFO - ===== PART 2 준비: 관계 추출 함수 정의 =====
2025-04-18 01:17:00,358 - config - INFO - ===== PART 2: 관계 추출 루프 시작 =====
2025-04-18 01:17:00,361 - config - INFO - 총 10개의 기업 쌍에 대해 관계 추출 시작...
2025-04-18 01:17:00,362 - config - WARNING - 테스트 실행 모드: 최대 10개의 기업 쌍만 처리합니다.
2025-04-18 01:17:00,363 - config - INFO - --- 관계 추출 진행: (005930 vs 000660) (1/10) ---
2025-04-18 01:17:00,363 - config - INFO - '005930(005930)'와 '000660(000660)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:17:01,430 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:17:01,433 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:17:01,433 - config - INFO - Vector query 생성 완료.
2025-04-18 01:17:01,434 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:17:01,435 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:17:01,451 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35159'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '64e21346-1ba7-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:17:02,328 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Cache-Control': 'no-cache,no-store'
    'Pragma': 'no-cache'
    'Content-Length': '191'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Expires': '-1'
    'Server': 'Microsoft-IIS/10.0'
    'request-id': '64e21346-1ba7-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:17:01 GMT'
2025-04-18 01:17:02,331 - config - ERROR - Azure AI Search 검색 중 오류 발생: () This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
Code: 
Message: This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
2025-04-18 01:17:02,335 - config - WARNING - 관련 청크를 찾지 못했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:17:03,591 - config - INFO - --- 관계 추출 진행: (005930 vs 105560) (2/10) ---
2025-04-18 01:17:03,592 - config - INFO - '005930(005930)'와 '105560(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:17:03,832 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:17:03,839 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:17:03,840 - config - INFO - Vector query 생성 완료.
2025-04-18 01:17:03,841 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:17:03,842 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:17:03,861 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35161'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '6651d388-1ba7-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:17:04,042 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Cache-Control': 'no-cache,no-store'
    'Pragma': 'no-cache'
    'Content-Length': '191'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Expires': '-1'
    'Server': 'Microsoft-IIS/10.0'
    'request-id': '6651d388-1ba7-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:17:03 GMT'
2025-04-18 01:17:04,045 - config - ERROR - Azure AI Search 검색 중 오류 발생: () This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
Code: 
Message: This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
2025-04-18 01:17:04,049 - config - WARNING - 관련 청크를 찾지 못했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:17:05,309 - config - INFO - --- 관계 추출 진행: (005930 vs 005380) (3/10) ---
2025-04-18 01:17:05,311 - config - INFO - '005930(005930)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:17:05,555 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:17:05,557 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:17:05,558 - config - INFO - Vector query 생성 완료.
2025-04-18 01:17:05,559 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:17:05,562 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:17:05,583 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35149'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '6758a090-1ba7-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:17:05,765 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Cache-Control': 'no-cache,no-store'
    'Pragma': 'no-cache'
    'Content-Length': '191'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Expires': '-1'
    'Server': 'Microsoft-IIS/10.0'
    'request-id': '6758a090-1ba7-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:17:05 GMT'
2025-04-18 01:17:05,769 - config - ERROR - Azure AI Search 검색 중 오류 발생: () This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
Code: 
Message: This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
2025-04-18 01:17:05,772 - config - WARNING - 관련 청크를 찾지 못했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:17:07,027 - config - INFO - --- 관계 추출 진행: (005930 vs 012450) (4/10) ---
2025-04-18 01:17:07,030 - config - INFO - '005930(005930)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:17:07,842 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:17:07,846 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:17:07,847 - config - INFO - Vector query 생성 완료.
2025-04-18 01:17:07,849 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:17:07,850 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:17:07,875 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35164'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '68b65ca2-1ba7-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:17:08,057 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Cache-Control': 'no-cache,no-store'
    'Pragma': 'no-cache'
    'Content-Length': '191'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Expires': '-1'
    'Server': 'Microsoft-IIS/10.0'
    'request-id': '68b65ca2-1ba7-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:17:07 GMT'
2025-04-18 01:17:08,059 - config - ERROR - Azure AI Search 검색 중 오류 발생: () This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
Code: 
Message: This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
2025-04-18 01:17:08,065 - config - WARNING - 관련 청크를 찾지 못했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:17:09,327 - config - INFO - --- 관계 추출 진행: (000660 vs 105560) (5/10) ---
2025-04-18 01:17:09,329 - config - INFO - '000660(000660)'와 '105560(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:17:09,571 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:17:09,576 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:17:09,578 - config - INFO - Vector query 생성 완료.
2025-04-18 01:17:09,582 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:17:09,583 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:17:09,603 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35215'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '69be0fc8-1ba7-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:17:09,804 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Cache-Control': 'no-cache,no-store'
    'Pragma': 'no-cache'
    'Content-Length': '191'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Expires': '-1'
    'Server': 'Microsoft-IIS/10.0'
    'request-id': '69be0fc8-1ba7-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:17:09 GMT'
2025-04-18 01:17:09,807 - config - ERROR - Azure AI Search 검색 중 오류 발생: () This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
Code: 
Message: This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
2025-04-18 01:17:09,811 - config - WARNING - 관련 청크를 찾지 못했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:17:11,068 - config - INFO - --- 관계 추출 진행: (000660 vs 005380) (6/10) ---
2025-04-18 01:17:11,070 - config - INFO - '000660(000660)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:17:11,310 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:17:11,314 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:17:11,316 - config - INFO - Vector query 생성 완료.
2025-04-18 01:17:11,317 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:17:11,320 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:17:11,345 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35146'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '6ac7d2f0-1ba7-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:17:11,526 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Cache-Control': 'no-cache,no-store'
    'Pragma': 'no-cache'
    'Content-Length': '191'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Expires': '-1'
    'Server': 'Microsoft-IIS/10.0'
    'request-id': '6ac7d2f0-1ba7-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:17:11 GMT'
2025-04-18 01:17:11,527 - config - ERROR - Azure AI Search 검색 중 오류 발생: () This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
Code: 
Message: This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
2025-04-18 01:17:11,528 - config - WARNING - 관련 청크를 찾지 못했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:17:12,788 - config - INFO - --- 관계 추출 진행: (000660 vs 012450) (7/10) ---
2025-04-18 01:17:12,790 - config - INFO - '000660(000660)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:17:13,025 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:17:13,029 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:17:13,031 - config - INFO - Vector query 생성 완료.
2025-04-18 01:17:13,032 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:17:13,033 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:17:13,060 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35199'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '6bcd8352-1ba7-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:17:13,238 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Cache-Control': 'no-cache,no-store'
    'Pragma': 'no-cache'
    'Content-Length': '191'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Expires': '-1'
    'Server': 'Microsoft-IIS/10.0'
    'request-id': '6bcd8352-1ba7-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:17:13 GMT'
2025-04-18 01:17:13,239 - config - ERROR - Azure AI Search 검색 중 오류 발생: () This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
Code: 
Message: This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
2025-04-18 01:17:13,243 - config - WARNING - 관련 청크를 찾지 못했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:17:14,504 - config - INFO - --- 관계 추출 진행: (105560 vs 005380) (8/10) ---
2025-04-18 01:17:14,508 - config - INFO - '105560(105560)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:17:15,199 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:17:15,205 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:17:15,207 - config - INFO - Vector query 생성 완료.
2025-04-18 01:17:15,208 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:17:15,209 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:17:15,229 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35203'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '6d188022-1ba7-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:17:15,430 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Cache-Control': 'no-cache,no-store'
    'Pragma': 'no-cache'
    'Content-Length': '191'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Expires': '-1'
    'Server': 'Microsoft-IIS/10.0'
    'request-id': '6d188022-1ba7-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:17:15 GMT'
2025-04-18 01:17:15,433 - config - ERROR - Azure AI Search 검색 중 오류 발생: () This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
Code: 
Message: This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
2025-04-18 01:17:15,437 - config - WARNING - 관련 청크를 찾지 못했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:17:16,698 - config - INFO - --- 관계 추출 진행: (105560 vs 012450) (9/10) ---
2025-04-18 01:17:16,700 - config - INFO - '105560(105560)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:17:17,041 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:17:17,046 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:17:17,048 - config - INFO - Vector query 생성 완료.
2025-04-18 01:17:17,049 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:17:17,051 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:17:17,074 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35168'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '6e32000a-1ba7-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:17:17,255 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Cache-Control': 'no-cache,no-store'
    'Pragma': 'no-cache'
    'Content-Length': '191'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Expires': '-1'
    'Server': 'Microsoft-IIS/10.0'
    'request-id': '6e32000a-1ba7-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:17:16 GMT'
2025-04-18 01:17:17,257 - config - ERROR - Azure AI Search 검색 중 오류 발생: () This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
Code: 
Message: This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
2025-04-18 01:17:17,264 - config - WARNING - 관련 청크를 찾지 못했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:17:18,525 - config - INFO - --- 관계 추출 진행: (005380 vs 012450) (10/10) ---
2025-04-18 01:17:18,528 - config - INFO - '005380(005380)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:17:18,774 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:17:18,778 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:17:18,779 - config - INFO - Vector query 생성 완료.
2025-04-18 01:17:18,781 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:17:18,782 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:17:18,806 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35193'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '6f3a4d90-1ba7-11f0-93fa-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:17:18,988 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Cache-Control': 'no-cache,no-store'
    'Pragma': 'no-cache'
    'Content-Length': '191'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Expires': '-1'
    'Server': 'Microsoft-IIS/10.0'
    'request-id': '6f3a4d90-1ba7-11f0-93fa-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:17:18 GMT'
2025-04-18 01:17:18,991 - config - ERROR - Azure AI Search 검색 중 오류 발생: () This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
Code: 
Message: This index must have valid semantic configurations defined before using the 'semanticConfiguration' query parameter.
Parameter name: semanticConfiguration
2025-04-18 01:17:18,996 - config - WARNING - 관련 청크를 찾지 못했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:17:20,258 - config - INFO - ===== PART 2: 관계 추출 루프 완료 =====
2025-04-18 01:17:20,260 - config - INFO - 총 0개의 관계 정보 추출 완료.
2025-04-18 01:17:20,260 - config - WARNING - 관계 추출 실패 쌍 (10개): [(('005930', '000660'), 'No Chunks Found'), (('005930', '105560'), 'No Chunks Found'), (('005930', '005380'), 'No Chunks Found'), (('005930', '012450'), 'No Chunks Found'), (('000660', '105560'), 'No Chunks Found'), (('000660', '005380'), 'No Chunks Found'), (('000660', '012450'), 'No Chunks Found'), (('105560', '005380'), 'No Chunks Found'), (('105560', '012450'), 'No Chunks Found'), (('005380', '012450'), 'No Chunks Found')]...
2025-04-18 01:52:29,244 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-18 01:52:31,391 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-18 01:52:31,616 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-18 01:52:31,700 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:52:31,702 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 01:52:31,702 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-18 01:52:31,869 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-18 01:52:31,871 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-18 01:52:31,871 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 01:52:31,872 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 01:52:31,872 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 01:52:31,873 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 01:52:31,875 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '5ab6f3aa-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:52:32,946 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 201
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'ETag': '"0x8DD7DD03F81DF7B"'
    'Location': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '5ab6f3aa-1bac-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:52:32 GMT'
2025-04-18 01:52:32,947 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-18 01:52:32,948 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-18 01:52:33,160 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-18 01:52:33,160 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-18 01:52:33,162 - config - ERROR - 회사 이름 매핑 파일 로드/처리 오류: 'utf-8' codec can't decode byte 0xd0 in position 0: invalid continuation byte
2025-04-18 01:52:33,162 - config - WARNING - 종목 코드를 회사 이름 대신 사용합니다.
2025-04-18 01:52:33,172 - config - INFO - ===== PART 1: 데이터 인덱싱 시작 (5개 기업) =====
2025-04-18 01:52:33,174 - config - INFO - --- 인덱싱 시작 (1/5): 005930 ---
2025-04-18 01:52:33,177 - config - INFO - PDF 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/005930.pdf (7263840 bytes)
2025-04-18 01:52:33,178 - config - INFO - DI 클라이언트 초기화 성공
2025-04-18 01:52:33,178 - config - INFO - 바이트 데이터 분석 시작 (콘텐츠 길이: 7263840)
2025-04-18 01:52:33,179 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED&outputContentFormat=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Length': '7263840'
    'content-type': 'application/octet-stream'
    'Accept': 'application/json'
    'x-ms-client-request-id': '5b7dfcca-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-18 01:52:36,442 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 202
Response headers:
    'Content-Length': '0'
    'Operation-Location': 'REDACTED'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:52:36 GMT'
2025-04-18 01:52:36,443 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/7e4cabb6-fb14-4b81-b0c0-0737f6f8efad?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '5b7dfcca-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:52:36,677 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:52:36 GMT'
2025-04-18 01:52:37,685 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/7e4cabb6-fb14-4b81-b0c0-0737f6f8efad?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '5b7dfcca-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:52:37,984 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:52:37 GMT'
2025-04-18 01:52:38,990 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/7e4cabb6-fb14-4b81-b0c0-0737f6f8efad?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '5b7dfcca-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:52:39,290 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:52:38 GMT'
2025-04-18 01:52:40,295 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/7e4cabb6-fb14-4b81-b0c0-0737f6f8efad?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '5b7dfcca-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:52:40,612 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:52:40 GMT'
2025-04-18 01:52:41,618 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/7e4cabb6-fb14-4b81-b0c0-0737f6f8efad?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '5b7dfcca-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:52:50,648 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '3042398'
    'Content-Type': 'application/json; charset=utf-8'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:52:41 GMT'
2025-04-18 01:52:51,626 - config - INFO - DI 분석 완료 (바이트 데이터)
2025-04-18 01:52:52,146 - config - INFO - Markdown H2/H3 기준 섹션 추출 완료: 총 4개
2025-04-18 01:52:52,148 - config - INFO - 텍스트 추출 완료 (길이: 59835 자)
2025-04-18 01:52:52,155 - config - INFO - 텍스트 청크 분할 완료: 총 48개
2025-04-18 01:52:52,156 - config - INFO - 텍스트 청킹 완료: 48개 청크
2025-04-18 01:52:52,189 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:52:53,094 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:52:53,200 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:52:54,035 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:52:54,120 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:52:55,031 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:52:55,123 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:52:55,920 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:52:56,003 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:52:56,861 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:52:56,953 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:52:57,910 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:52:58,001 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:52:58,959 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:52:59,052 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:00,013 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:00,105 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:01,062 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:01,154 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:02,104 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:02,197 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:03,153 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:03,251 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:04,201 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:04,294 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:05,168 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:05,262 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:06,142 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:06,235 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:07,145 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:07,235 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:08,121 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:08,223 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:09,110 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:09,203 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:10,146 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:10,245 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:11,106 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:11,199 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:12,262 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:12,355 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:14,073 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:14,171 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:14,988 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:15,080 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:15,885 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:15,990 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:16,807 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:16,897 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:17,839 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:17,937 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:18,754 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:18,850 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:19,685 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:19,782 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:20,970 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:21,062 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:21,945 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:22,041 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:22,883 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:22,978 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:23,811 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:23,907 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:24,834 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:24,926 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:25,755 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:25,848 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:26,650 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:26,745 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:27,583 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:27,682 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:28,517 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:28,608 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:29,423 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:29,515 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:30,356 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:30,453 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:31,285 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:31,381 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:32,237 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:32,345 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:33,188 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:33,282 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:34,113 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:34,211 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:35,036 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:35,128 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:35,967 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:36,062 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:36,876 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:36,972 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:37,803 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:37,893 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:38,790 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:38,884 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:39,689 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:39,746 - config - INFO - 임베딩 생성 완료 (48 / 48 성공)
2025-04-18 01:53:39,748 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 01:53:39,749 - config - INFO - Azure AI Search 업로드 준비: 총 48개 문서
2025-04-18 01:53:39,800 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1757548'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '83339626-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:53:41,804 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '83339626-1bac-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:53:41 GMT'
2025-04-18 01:53:41,809 - config - INFO - Azure AI Search 문서 업로드 완료: 48 / 48 성공
2025-04-18 01:53:41,812 - config - INFO - AI Search 업로드 완료.
2025-04-18 01:53:41,813 - config - INFO - --- 인덱싱 완료: 005930 (상태: 성공) ---
2025-04-18 01:53:41,815 - config - INFO - --- 인덱싱 시작 (2/5): 000660 ---
2025-04-18 01:53:41,837 - config - INFO - PDF 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/000660.pdf (5990071 bytes)
2025-04-18 01:53:41,838 - config - INFO - DI 클라이언트 초기화 성공
2025-04-18 01:53:41,838 - config - INFO - 바이트 데이터 분석 시작 (콘텐츠 길이: 5990071)
2025-04-18 01:53:41,839 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED&outputContentFormat=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Length': '5990071'
    'content-type': 'application/octet-stream'
    'Accept': 'application/json'
    'x-ms-client-request-id': '846aac1e-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-18 01:53:44,678 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 202
Response headers:
    'Content-Length': '0'
    'Operation-Location': 'REDACTED'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:53:44 GMT'
2025-04-18 01:53:44,682 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/5c0c3659-9ff1-43c5-b9a0-c65f6cfb6bd1?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '846aac1e-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:53:44,914 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:53:44 GMT'
2025-04-18 01:53:45,922 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/5c0c3659-9ff1-43c5-b9a0-c65f6cfb6bd1?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '846aac1e-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:53:46,154 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:53:45 GMT'
2025-04-18 01:53:47,160 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/5c0c3659-9ff1-43c5-b9a0-c65f6cfb6bd1?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '846aac1e-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:53:47,490 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:53:47 GMT'
2025-04-18 01:53:48,498 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/5c0c3659-9ff1-43c5-b9a0-c65f6cfb6bd1?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '846aac1e-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:53:53,622 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '1928206'
    'Content-Type': 'application/json; charset=utf-8'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:53:48 GMT'
2025-04-18 01:53:54,259 - config - INFO - DI 분석 완료 (바이트 데이터)
2025-04-18 01:53:54,773 - config - INFO - Markdown H2/H3 기준 섹션 추출 완료: 총 7개
2025-04-18 01:53:54,775 - config - INFO - 텍스트 추출 완료 (길이: 32001 자)
2025-04-18 01:53:54,779 - config - INFO - 텍스트 청크 분할 완료: 총 26개
2025-04-18 01:53:54,780 - config - INFO - 텍스트 청킹 완료: 26개 청크
2025-04-18 01:53:54,822 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:55,655 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:55,752 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:56,585 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:56,680 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:57,519 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:57,612 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:58,424 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:58,520 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:53:59,417 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:53:59,512 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:00,355 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:00,447 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:01,287 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:01,378 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:02,212 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:02,307 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:03,172 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:03,265 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:04,096 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:04,188 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:05,024 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:05,117 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:05,971 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:06,066 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:06,894 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:06,981 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:07,815 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:07,912 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:08,714 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:08,810 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:09,636 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:09,744 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:10,809 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:10,892 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:11,750 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:11,849 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:12,670 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:12,763 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:13,581 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:13,678 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:14,506 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:14,597 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:15,426 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:15,522 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:16,355 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:16,451 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:17,269 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:17,365 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:18,220 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:18,317 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:19,123 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:19,183 - config - INFO - 임베딩 생성 완료 (26 / 26 성공)
2025-04-18 01:54:19,185 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 01:54:19,186 - config - INFO - Azure AI Search 업로드 준비: 총 26개 문서
2025-04-18 01:54:19,221 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '953339'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '9ab2a648-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:54:21,004 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '9ab2a648-1bac-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:54:20 GMT'
2025-04-18 01:54:21,007 - config - INFO - Azure AI Search 문서 업로드 완료: 26 / 26 성공
2025-04-18 01:54:21,009 - config - INFO - AI Search 업로드 완료.
2025-04-18 01:54:21,010 - config - INFO - --- 인덱싱 완료: 000660 (상태: 성공) ---
2025-04-18 01:54:21,011 - config - INFO - --- 인덱싱 시작 (3/5): 105560 ---
2025-04-18 01:54:21,025 - config - INFO - PDF 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/105560.pdf (8417428 bytes)
2025-04-18 01:54:21,025 - config - INFO - DI 클라이언트 초기화 성공
2025-04-18 01:54:21,026 - config - INFO - 바이트 데이터 분석 시작 (콘텐츠 길이: 8417428)
2025-04-18 01:54:21,027 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED&outputContentFormat=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Length': '8417428'
    'content-type': 'application/octet-stream'
    'Accept': 'application/json'
    'x-ms-client-request-id': '9bc63d42-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-18 01:54:24,393 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 202
Response headers:
    'Content-Length': '0'
    'Operation-Location': 'REDACTED'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:54:23 GMT'
2025-04-18 01:54:24,397 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/45a90825-3ba8-4de6-b86a-79b5f7ab04fa?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '9bc63d42-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:54:24,640 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:54:23 GMT'
2025-04-18 01:54:25,646 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/45a90825-3ba8-4de6-b86a-79b5f7ab04fa?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '9bc63d42-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:54:25,940 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:54:25 GMT'
2025-04-18 01:54:26,946 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/45a90825-3ba8-4de6-b86a-79b5f7ab04fa?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '9bc63d42-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:54:27,222 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:54:26 GMT'
2025-04-18 01:54:28,228 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/45a90825-3ba8-4de6-b86a-79b5f7ab04fa?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '9bc63d42-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:54:28,553 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:54:27 GMT'
2025-04-18 01:54:29,561 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/45a90825-3ba8-4de6-b86a-79b5f7ab04fa?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '9bc63d42-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:54:39,906 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '3708088'
    'Content-Type': 'application/json; charset=utf-8'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:54:29 GMT'
2025-04-18 01:54:41,190 - config - INFO - DI 분석 완료 (바이트 데이터)
2025-04-18 01:54:41,705 - config - INFO - Markdown H2/H3 기준 섹션 추출 완료: 총 10개
2025-04-18 01:54:41,707 - config - INFO - 텍스트 추출 완료 (길이: 38200 자)
2025-04-18 01:54:41,713 - config - INFO - 텍스트 청크 분할 완료: 총 31개
2025-04-18 01:54:41,715 - config - INFO - 텍스트 청킹 완료: 31개 청크
2025-04-18 01:54:41,754 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:42,618 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:42,709 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:43,521 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:43,621 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:44,469 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:44,561 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:45,407 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:45,498 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:46,363 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:46,458 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:47,315 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:47,411 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:48,269 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:48,366 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:49,197 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:49,288 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:50,402 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:50,498 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:51,361 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:51,460 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:52,293 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:52,379 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:53,197 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:53,304 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:54,147 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:54,245 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:55,087 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:55,187 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:56,027 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:56,125 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:56,934 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:57,030 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:57,872 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:57,968 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:58,805 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:58,904 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:54:59,739 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:54:59,836 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:00,675 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:00,770 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:01,636 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:01,732 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:02,568 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:02,665 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:03,471 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:03,570 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:04,395 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:04,492 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:05,332 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:05,432 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:06,252 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:06,345 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:07,176 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:07,270 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:08,103 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:08,198 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:09,028 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:09,135 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:09,982 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:10,077 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:10,897 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:10,958 - config - INFO - 임베딩 생성 완료 (31 / 31 성공)
2025-04-18 01:55:10,960 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 01:55:10,961 - config - INFO - Azure AI Search 업로드 준비: 총 31개 문서
2025-04-18 01:55:10,998 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1144450'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'b98f4314-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:55:12,798 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'b98f4314-1bac-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:55:12 GMT'
2025-04-18 01:55:12,803 - config - INFO - Azure AI Search 문서 업로드 완료: 31 / 31 성공
2025-04-18 01:55:12,805 - config - INFO - AI Search 업로드 완료.
2025-04-18 01:55:12,807 - config - INFO - --- 인덱싱 완료: 105560 (상태: 성공) ---
2025-04-18 01:55:12,808 - config - INFO - --- 인덱싱 시작 (4/5): 005380 ---
2025-04-18 01:55:12,836 - config - INFO - PDF 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/005380.pdf (6673545 bytes)
2025-04-18 01:55:12,837 - config - INFO - DI 클라이언트 초기화 성공
2025-04-18 01:55:12,837 - config - INFO - 바이트 데이터 분석 시작 (콘텐츠 길이: 6673545)
2025-04-18 01:55:12,838 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED&outputContentFormat=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Length': '6673545'
    'content-type': 'application/octet-stream'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'baa806dc-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-18 01:55:15,742 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 202
Response headers:
    'Content-Length': '0'
    'Operation-Location': 'REDACTED'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:55:15 GMT'
2025-04-18 01:55:15,745 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/8810489d-24eb-4e8b-9589-4b2235d04413?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'baa806dc-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:55:16,067 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:55:15 GMT'
2025-04-18 01:55:17,075 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/8810489d-24eb-4e8b-9589-4b2235d04413?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'baa806dc-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:55:17,312 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:55:16 GMT'
2025-04-18 01:55:18,319 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/8810489d-24eb-4e8b-9589-4b2235d04413?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'baa806dc-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:55:18,627 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:55:17 GMT'
2025-04-18 01:55:19,633 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/8810489d-24eb-4e8b-9589-4b2235d04413?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'baa806dc-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:55:19,958 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:55:19 GMT'
2025-04-18 01:55:20,967 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/8810489d-24eb-4e8b-9589-4b2235d04413?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'baa806dc-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:55:27,886 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '2533275'
    'Content-Type': 'application/json; charset=utf-8'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:55:20 GMT'
2025-04-18 01:55:28,705 - config - INFO - DI 분석 완료 (바이트 데이터)
2025-04-18 01:55:29,217 - config - INFO - Markdown H2/H3 기준 섹션 추출 완료: 총 4개
2025-04-18 01:55:29,222 - config - INFO - 텍스트 추출 완료 (길이: 17896 자)
2025-04-18 01:55:29,228 - config - INFO - 텍스트 청크 분할 완료: 총 14개
2025-04-18 01:55:29,229 - config - INFO - 텍스트 청킹 완료: 14개 청크
2025-04-18 01:55:29,268 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:30,100 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:30,199 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:31,043 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:31,133 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:31,940 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:32,035 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:32,866 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:32,962 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:33,794 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:33,888 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:34,691 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:34,787 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:35,822 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:35,917 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:36,852 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:36,944 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:37,826 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:37,917 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:38,741 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:38,838 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:39,669 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:39,760 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:40,581 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:40,675 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:41,489 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:41,590 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:42,432 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:42,491 - config - INFO - 임베딩 생성 완료 (14 / 14 성공)
2025-04-18 01:55:42,492 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 01:55:42,493 - config - INFO - Azure AI Search 업로드 준비: 총 14개 문서
2025-04-18 01:55:42,514 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '515301'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'cc583686-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:55:44,116 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'cc583686-1bac-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:55:44 GMT'
2025-04-18 01:55:44,120 - config - INFO - Azure AI Search 문서 업로드 완료: 14 / 14 성공
2025-04-18 01:55:44,122 - config - INFO - AI Search 업로드 완료.
2025-04-18 01:55:44,124 - config - INFO - --- 인덱싱 완료: 005380 (상태: 성공) ---
2025-04-18 01:55:44,126 - config - INFO - --- 인덱싱 시작 (5/5): 012450 ---
2025-04-18 01:55:44,149 - config - INFO - PDF 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/012450.pdf (6188709 bytes)
2025-04-18 01:55:44,150 - config - INFO - DI 클라이언트 초기화 성공
2025-04-18 01:55:44,151 - config - INFO - 바이트 데이터 분석 시작 (콘텐츠 길이: 6188709)
2025-04-18 01:55:44,152 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED&outputContentFormat=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Length': '6188709'
    'content-type': 'application/octet-stream'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'cd5218d6-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-18 01:55:47,197 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 202
Response headers:
    'Content-Length': '0'
    'Operation-Location': 'REDACTED'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:55:46 GMT'
2025-04-18 01:55:47,202 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/c6f326e6-a48c-4366-8b2f-2627c74cda87?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'cd5218d6-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:55:47,483 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:55:47 GMT'
2025-04-18 01:55:48,492 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/c6f326e6-a48c-4366-8b2f-2627c74cda87?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'cd5218d6-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:55:48,834 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:55:48 GMT'
2025-04-18 01:55:49,837 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/c6f326e6-a48c-4366-8b2f-2627c74cda87?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'cd5218d6-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:55:50,166 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:55:49 GMT'
2025-04-18 01:55:51,171 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/c6f326e6-a48c-4366-8b2f-2627c74cda87?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'cd5218d6-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-18 01:55:56,492 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '1980361'
    'Content-Type': 'application/json; charset=utf-8'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:55:51 GMT'
2025-04-18 01:55:57,145 - config - INFO - DI 분석 완료 (바이트 데이터)
2025-04-18 01:55:57,657 - config - INFO - Markdown H2/H3 기준 섹션 추출 완료: 총 4개
2025-04-18 01:55:57,660 - config - INFO - 텍스트 추출 완료 (길이: 30837 자)
2025-04-18 01:55:57,664 - config - INFO - 텍스트 청크 분할 완료: 총 25개
2025-04-18 01:55:57,666 - config - INFO - 텍스트 청킹 완료: 25개 청크
2025-04-18 01:55:57,701 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:58,562 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:58,657 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:55:59,479 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:55:59,576 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:56:00,452 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:00,545 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:56:01,382 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:01,473 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:56:02,308 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:02,405 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:56:03,259 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:03,354 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:56:04,203 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:04,297 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:56:05,148 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:05,247 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:56:06,112 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:06,208 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:56:07,729 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:07,820 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:56:08,687 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:08,780 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:56:09,626 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:09,725 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:56:10,545 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:10,641 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:56:11,464 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:11,555 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:56:12,412 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:12,512 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:56:13,463 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:13,562 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:56:14,386 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:14,477 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:56:15,303 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:15,394 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:56:16,240 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:16,332 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:56:17,453 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:17,545 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:56:18,343 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:18,434 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:56:19,288 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:19,389 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:56:20,213 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:20,306 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:56:21,501 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:21,599 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 01:56:22,547 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:22,604 - config - INFO - 임베딩 생성 완료 (25 / 25 성공)
2025-04-18 01:56:22,606 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 01:56:22,607 - config - INFO - Azure AI Search 업로드 준비: 총 25개 문서
2025-04-18 01:56:22,639 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '920243'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'e442baa0-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:56:25,285 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'e442baa0-1bac-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:56:25 GMT'
2025-04-18 01:56:25,290 - config - INFO - Azure AI Search 문서 업로드 완료: 25 / 25 성공
2025-04-18 01:56:25,292 - config - INFO - AI Search 업로드 완료.
2025-04-18 01:56:25,293 - config - INFO - --- 인덱싱 완료: 012450 (상태: 성공) ---
2025-04-18 01:56:25,294 - config - INFO - ===== PART 1: 데이터 인덱싱 완료 =====
2025-04-18 01:56:25,295 - config - INFO - 총 5개 기업 처리 시도, 5개 성공.
2025-04-18 01:56:25,296 - config - INFO - 모든 대상 기업 인덱싱 성공!
2025-04-18 01:56:25,328 - config - INFO - ===== PART 2 준비: 관계 추출 함수 정의 =====
2025-04-18 01:56:25,346 - config - INFO - ===== PART 2: 관계 추출 루프 시작 =====
2025-04-18 01:56:25,347 - config - INFO - 총 10개의 기업 쌍에 대해 관계 추출 시작...
2025-04-18 01:56:25,348 - config - WARNING - 테스트 실행 모드: 최대 10개의 기업 쌍만 처리합니다.
2025-04-18 01:56:25,349 - config - INFO - --- 관계 추출 진행: (005930 vs 000660) (1/10) ---
2025-04-18 01:56:25,349 - config - INFO - '005930(005930)'와 '000660(000660)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:56:26,163 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:26,167 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:56:26,170 - config - INFO - Vector query 생성 완료.
2025-04-18 01:56:26,171 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:56:26,172 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:56:26,197 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35159'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'e661aa94-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:56:27,407 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'e661aa94-1bac-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:56:27 GMT'
2025-04-18 01:56:27,411 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 01:56:27,412 - config - INFO - LLM 호출 시작 (배포: "gpt35-turbo-chat" # !!! 나중에 이 이름으로 GPT-3.5 Turbo 배포 필요 !!!)...
2025-04-18 01:56:27,612 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/%22gpt35-turbo-chat%22%20?api-version=2024-02-01 "HTTP/1.1 404 Resource Not Found"
2025-04-18 01:56:27,621 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}
2025-04-18 01:56:27,630 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:56:29,141 - config - INFO - --- 관계 추출 진행: (005930 vs 105560) (2/10) ---
2025-04-18 01:56:29,144 - config - INFO - '005930(005930)'와 '105560(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:56:29,382 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:29,388 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:56:29,390 - config - INFO - Vector query 생성 완료.
2025-04-18 01:56:29,391 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:56:29,393 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:56:29,419 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35161'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'e84d52fe-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:56:29,918 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'e84d52fe-1bac-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:56:28 GMT'
2025-04-18 01:56:29,922 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 01:56:29,924 - config - INFO - LLM 호출 시작 (배포: "gpt35-turbo-chat" # !!! 나중에 이 이름으로 GPT-3.5 Turbo 배포 필요 !!!)...
2025-04-18 01:56:30,122 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/%22gpt35-turbo-chat%22%20?api-version=2024-02-01 "HTTP/1.1 404 Resource Not Found"
2025-04-18 01:56:30,125 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}
2025-04-18 01:56:30,131 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:56:31,640 - config - INFO - --- 관계 추출 진행: (005930 vs 005380) (3/10) ---
2025-04-18 01:56:31,643 - config - INFO - '005930(005930)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:56:31,901 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:31,906 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:56:31,908 - config - INFO - Vector query 생성 완료.
2025-04-18 01:56:31,909 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:56:31,912 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:56:31,936 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35149'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'e9cd6916-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:56:32,357 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'e9cd6916-1bac-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:56:32 GMT'
2025-04-18 01:56:32,362 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 01:56:32,364 - config - INFO - LLM 호출 시작 (배포: "gpt35-turbo-chat" # !!! 나중에 이 이름으로 GPT-3.5 Turbo 배포 필요 !!!)...
2025-04-18 01:56:32,564 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/%22gpt35-turbo-chat%22%20?api-version=2024-02-01 "HTTP/1.1 404 Resource Not Found"
2025-04-18 01:56:32,568 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}
2025-04-18 01:56:32,573 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:56:34,083 - config - INFO - --- 관계 추출 진행: (005930 vs 012450) (4/10) ---
2025-04-18 01:56:34,086 - config - INFO - '005930(005930)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:56:34,321 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:34,325 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:56:34,327 - config - INFO - Vector query 생성 완료.
2025-04-18 01:56:34,329 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:56:34,332 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:56:34,355 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35164'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'eb3e8c4e-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:56:34,639 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'eb3e8c4e-1bac-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:56:34 GMT'
2025-04-18 01:56:34,643 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 01:56:34,645 - config - INFO - LLM 호출 시작 (배포: "gpt35-turbo-chat" # !!! 나중에 이 이름으로 GPT-3.5 Turbo 배포 필요 !!!)...
2025-04-18 01:56:34,844 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/%22gpt35-turbo-chat%22%20?api-version=2024-02-01 "HTTP/1.1 404 Resource Not Found"
2025-04-18 01:56:34,848 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}
2025-04-18 01:56:34,853 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:56:36,361 - config - INFO - --- 관계 추출 진행: (000660 vs 105560) (5/10) ---
2025-04-18 01:56:36,364 - config - INFO - '000660(000660)'와 '105560(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:56:36,597 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:36,601 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:56:36,603 - config - INFO - Vector query 생성 완료.
2025-04-18 01:56:36,605 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:56:36,606 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:56:36,631 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35215'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'ec99bd0c-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:56:36,914 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'ec99bd0c-1bac-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:56:36 GMT'
2025-04-18 01:56:36,918 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 01:56:36,919 - config - INFO - LLM 호출 시작 (배포: "gpt35-turbo-chat" # !!! 나중에 이 이름으로 GPT-3.5 Turbo 배포 필요 !!!)...
2025-04-18 01:56:37,116 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/%22gpt35-turbo-chat%22%20?api-version=2024-02-01 "HTTP/1.1 404 Resource Not Found"
2025-04-18 01:56:37,120 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}
2025-04-18 01:56:37,125 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:56:38,636 - config - INFO - --- 관계 추출 진행: (000660 vs 005380) (6/10) ---
2025-04-18 01:56:38,638 - config - INFO - '000660(000660)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:56:38,867 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:38,871 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:56:38,873 - config - INFO - Vector query 생성 완료.
2025-04-18 01:56:38,874 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:56:38,876 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:56:38,902 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35146'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'edf44df2-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:56:39,199 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'edf44df2-1bac-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:56:39 GMT'
2025-04-18 01:56:39,203 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 01:56:39,205 - config - INFO - LLM 호출 시작 (배포: "gpt35-turbo-chat" # !!! 나중에 이 이름으로 GPT-3.5 Turbo 배포 필요 !!!)...
2025-04-18 01:56:39,402 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/%22gpt35-turbo-chat%22%20?api-version=2024-02-01 "HTTP/1.1 404 Resource Not Found"
2025-04-18 01:56:39,406 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}
2025-04-18 01:56:39,410 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:56:40,921 - config - INFO - --- 관계 추출 진행: (000660 vs 012450) (7/10) ---
2025-04-18 01:56:40,924 - config - INFO - '000660(000660)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:56:41,191 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:41,197 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:56:41,199 - config - INFO - Vector query 생성 완료.
2025-04-18 01:56:41,200 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:56:41,204 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:56:41,227 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35199'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'ef57217e-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:56:41,528 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'ef57217e-1bac-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:56:41 GMT'
2025-04-18 01:56:41,532 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 01:56:41,534 - config - INFO - LLM 호출 시작 (배포: "gpt35-turbo-chat" # !!! 나중에 이 이름으로 GPT-3.5 Turbo 배포 필요 !!!)...
2025-04-18 01:56:41,778 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/%22gpt35-turbo-chat%22%20?api-version=2024-02-01 "HTTP/1.1 404 Resource Not Found"
2025-04-18 01:56:41,782 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}
2025-04-18 01:56:41,787 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:56:43,296 - config - INFO - --- 관계 추출 진행: (105560 vs 005380) (8/10) ---
2025-04-18 01:56:43,298 - config - INFO - '105560(105560)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:56:43,527 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:43,535 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:56:43,536 - config - INFO - Vector query 생성 완료.
2025-04-18 01:56:43,538 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:56:43,540 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:56:43,562 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35203'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'f0bb6c96-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:56:43,851 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'f0bb6c96-1bac-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:56:42 GMT'
2025-04-18 01:56:43,855 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 01:56:43,856 - config - INFO - LLM 호출 시작 (배포: "gpt35-turbo-chat" # !!! 나중에 이 이름으로 GPT-3.5 Turbo 배포 필요 !!!)...
2025-04-18 01:56:44,065 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/%22gpt35-turbo-chat%22%20?api-version=2024-02-01 "HTTP/1.1 404 Resource Not Found"
2025-04-18 01:56:44,068 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}
2025-04-18 01:56:44,074 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:56:45,580 - config - INFO - --- 관계 추출 진행: (105560 vs 012450) (9/10) ---
2025-04-18 01:56:45,581 - config - INFO - '105560(105560)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:56:45,814 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:45,822 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:56:45,823 - config - INFO - Vector query 생성 완료.
2025-04-18 01:56:45,824 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:56:45,826 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:56:45,850 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35168'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'f2187d54-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:56:46,155 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'f2187d54-1bac-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:56:46 GMT'
2025-04-18 01:56:46,159 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 01:56:46,161 - config - INFO - LLM 호출 시작 (배포: "gpt35-turbo-chat" # !!! 나중에 이 이름으로 GPT-3.5 Turbo 배포 필요 !!!)...
2025-04-18 01:56:46,358 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/%22gpt35-turbo-chat%22%20?api-version=2024-02-01 "HTTP/1.1 404 Resource Not Found"
2025-04-18 01:56:46,361 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}
2025-04-18 01:56:46,366 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:56:47,870 - config - INFO - --- 관계 추출 진행: (005380 vs 012450) (10/10) ---
2025-04-18 01:56:47,872 - config - INFO - '005380(005380)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:56:48,100 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:56:48,105 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:56:48,106 - config - INFO - Vector query 생성 완료.
2025-04-18 01:56:48,107 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:56:48,109 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:56:48,134 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35193'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'f374f42a-1bac-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:56:48,393 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'f374f42a-1bac-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:56:48 GMT'
2025-04-18 01:56:48,397 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 01:56:48,398 - config - INFO - LLM 호출 시작 (배포: "gpt35-turbo-chat" # !!! 나중에 이 이름으로 GPT-3.5 Turbo 배포 필요 !!!)...
2025-04-18 01:56:48,597 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/%22gpt35-turbo-chat%22%20?api-version=2024-02-01 "HTTP/1.1 404 Resource Not Found"
2025-04-18 01:56:48,601 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}
2025-04-18 01:56:48,605 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:56:50,118 - config - INFO - ===== PART 2: 관계 추출 루프 완료 =====
2025-04-18 01:56:50,121 - config - INFO - 총 0개의 관계 정보 추출 완료.
2025-04-18 01:56:50,123 - config - WARNING - 관계 추출 실패 쌍 (10개): [(('005930', '000660'), 'LLM Call Failed'), (('005930', '105560'), 'LLM Call Failed'), (('005930', '005380'), 'LLM Call Failed'), (('005930', '012450'), 'LLM Call Failed'), (('000660', '105560'), 'LLM Call Failed'), (('000660', '005380'), 'LLM Call Failed'), (('000660', '012450'), 'LLM Call Failed'), (('105560', '005380'), 'LLM Call Failed'), (('105560', '012450'), 'LLM Call Failed'), (('005380', '012450'), 'LLM Call Failed')]...
2025-04-18 01:56:50,168 - config - INFO - ===== PART 3 준비: Matrix 생성 함수 정의 (구현 필요) =====
2025-04-18 01:57:28,535 - config - INFO - ===== PART 2 준비: 관계 추출 함수 정의 =====
2025-04-18 01:57:36,234 - config - INFO - ===== PART 2: 관계 추출 루프 시작 =====
2025-04-18 01:57:36,236 - config - INFO - 총 10개의 기업 쌍에 대해 관계 추출 시작...
2025-04-18 01:57:36,237 - config - WARNING - 테스트 실행 모드: 최대 10개의 기업 쌍만 처리합니다.
2025-04-18 01:57:36,238 - config - INFO - --- 관계 추출 진행: (005930 vs 000660) (1/10) ---
2025-04-18 01:57:36,239 - config - INFO - '005930(005930)'와 '000660(000660)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:57:37,066 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:57:37,069 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:57:37,070 - config - INFO - Vector query 생성 완료.
2025-04-18 01:57:37,071 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:57:37,072 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:57:37,096 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35159'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '10a417b0-1bad-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:57:37,457 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '10a417b0-1bad-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:57:37 GMT'
2025-04-18 01:57:37,461 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 01:57:37,463 - config - INFO - LLM 호출 시작 (배포: "gpt35-turbo-chat" # !!! 나중에 이 이름으로 GPT-3.5 Turbo 배포 필요 !!!)...
2025-04-18 01:57:37,659 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/%22gpt35-turbo-chat%22%20?api-version=2024-02-01 "HTTP/1.1 404 Resource Not Found"
2025-04-18 01:57:37,660 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}
2025-04-18 01:57:37,663 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:57:39,173 - config - INFO - --- 관계 추출 진행: (005930 vs 105560) (2/10) ---
2025-04-18 01:57:39,176 - config - INFO - '005930(005930)'와 '105560(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:57:39,403 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:57:39,408 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:57:39,409 - config - INFO - Vector query 생성 완료.
2025-04-18 01:57:39,410 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:57:39,411 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:57:39,432 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35161'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '12087df8-1bad-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:57:39,717 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '12087df8-1bad-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:57:39 GMT'
2025-04-18 01:57:39,721 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 01:57:39,723 - config - INFO - LLM 호출 시작 (배포: "gpt35-turbo-chat" # !!! 나중에 이 이름으로 GPT-3.5 Turbo 배포 필요 !!!)...
2025-04-18 01:57:39,919 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/%22gpt35-turbo-chat%22%20?api-version=2024-02-01 "HTTP/1.1 404 Resource Not Found"
2025-04-18 01:57:39,924 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}
2025-04-18 01:57:39,928 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:57:41,436 - config - INFO - --- 관계 추출 진행: (005930 vs 005380) (3/10) ---
2025-04-18 01:57:41,439 - config - INFO - '005930(005930)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:57:41,670 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:57:41,674 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:57:41,676 - config - INFO - Vector query 생성 완료.
2025-04-18 01:57:41,677 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:57:41,679 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:57:41,703 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35149'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '13630b8c-1bad-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:57:41,967 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '13630b8c-1bad-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:57:41 GMT'
2025-04-18 01:57:41,971 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 01:57:41,973 - config - INFO - LLM 호출 시작 (배포: "gpt35-turbo-chat" # !!! 나중에 이 이름으로 GPT-3.5 Turbo 배포 필요 !!!)...
2025-04-18 01:57:42,174 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/%22gpt35-turbo-chat%22%20?api-version=2024-02-01 "HTTP/1.1 404 Resource Not Found"
2025-04-18 01:57:42,177 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}
2025-04-18 01:57:42,180 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:57:43,690 - config - INFO - --- 관계 추출 진행: (005930 vs 012450) (4/10) ---
2025-04-18 01:57:43,692 - config - INFO - '005930(005930)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:57:43,923 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:57:43,927 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:57:43,928 - config - INFO - Vector query 생성 완료.
2025-04-18 01:57:43,929 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:57:43,932 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:57:43,957 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35164'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '14baf4c2-1bad-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:57:44,215 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '14baf4c2-1bad-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:57:44 GMT'
2025-04-18 01:57:44,218 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 01:57:44,219 - config - INFO - LLM 호출 시작 (배포: "gpt35-turbo-chat" # !!! 나중에 이 이름으로 GPT-3.5 Turbo 배포 필요 !!!)...
2025-04-18 01:57:44,412 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/%22gpt35-turbo-chat%22%20?api-version=2024-02-01 "HTTP/1.1 404 Resource Not Found"
2025-04-18 01:57:44,416 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}
2025-04-18 01:57:44,420 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:57:45,930 - config - INFO - --- 관계 추출 진행: (000660 vs 105560) (5/10) ---
2025-04-18 01:57:45,932 - config - INFO - '000660(000660)'와 '105560(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:57:46,165 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:57:46,169 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:57:46,170 - config - INFO - Vector query 생성 완료.
2025-04-18 01:57:46,171 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:57:46,172 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:57:46,194 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35215'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '16103fbc-1bad-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:57:46,492 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '16103fbc-1bad-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:57:46 GMT'
2025-04-18 01:57:46,497 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 01:57:46,499 - config - INFO - LLM 호출 시작 (배포: "gpt35-turbo-chat" # !!! 나중에 이 이름으로 GPT-3.5 Turbo 배포 필요 !!!)...
2025-04-18 01:57:46,696 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/%22gpt35-turbo-chat%22%20?api-version=2024-02-01 "HTTP/1.1 404 Resource Not Found"
2025-04-18 01:57:46,699 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}
2025-04-18 01:57:46,703 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:57:48,211 - config - INFO - --- 관계 추출 진행: (000660 vs 005380) (6/10) ---
2025-04-18 01:57:48,214 - config - INFO - '000660(000660)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:57:48,446 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:57:48,450 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:57:48,451 - config - INFO - Vector query 생성 완료.
2025-04-18 01:57:48,453 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:57:48,455 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:57:48,483 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35146'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '176d866c-1bad-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:57:48,745 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '176d866c-1bad-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:57:48 GMT'
2025-04-18 01:57:48,747 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 01:57:48,748 - config - INFO - LLM 호출 시작 (배포: "gpt35-turbo-chat" # !!! 나중에 이 이름으로 GPT-3.5 Turbo 배포 필요 !!!)...
2025-04-18 01:57:48,943 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/%22gpt35-turbo-chat%22%20?api-version=2024-02-01 "HTTP/1.1 404 Resource Not Found"
2025-04-18 01:57:48,946 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}
2025-04-18 01:57:48,952 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:57:50,463 - config - INFO - --- 관계 추출 진행: (000660 vs 012450) (7/10) ---
2025-04-18 01:57:50,466 - config - INFO - '000660(000660)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:57:50,694 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:57:50,697 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:57:50,699 - config - INFO - Vector query 생성 완료.
2025-04-18 01:57:50,699 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:57:50,700 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:57:50,721 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35199'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '18c308de-1bad-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:57:50,985 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '18c308de-1bad-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:57:50 GMT'
2025-04-18 01:57:50,988 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 01:57:50,990 - config - INFO - LLM 호출 시작 (배포: "gpt35-turbo-chat" # !!! 나중에 이 이름으로 GPT-3.5 Turbo 배포 필요 !!!)...
2025-04-18 01:57:51,186 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/%22gpt35-turbo-chat%22%20?api-version=2024-02-01 "HTTP/1.1 404 Resource Not Found"
2025-04-18 01:57:51,189 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}
2025-04-18 01:57:51,193 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:57:52,699 - config - INFO - --- 관계 추출 진행: (105560 vs 005380) (8/10) ---
2025-04-18 01:57:52,700 - config - INFO - '105560(105560)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:57:52,929 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:57:52,932 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:57:52,933 - config - INFO - Vector query 생성 완료.
2025-04-18 01:57:52,933 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:57:52,934 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:57:52,954 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35203'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '1a17d28c-1bad-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:57:53,241 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '1a17d28c-1bad-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:57:53 GMT'
2025-04-18 01:57:53,245 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 01:57:53,247 - config - INFO - LLM 호출 시작 (배포: "gpt35-turbo-chat" # !!! 나중에 이 이름으로 GPT-3.5 Turbo 배포 필요 !!!)...
2025-04-18 01:57:53,445 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/%22gpt35-turbo-chat%22%20?api-version=2024-02-01 "HTTP/1.1 404 Resource Not Found"
2025-04-18 01:57:53,448 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}
2025-04-18 01:57:53,453 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:57:54,963 - config - INFO - --- 관계 추출 진행: (105560 vs 012450) (9/10) ---
2025-04-18 01:57:54,965 - config - INFO - '105560(105560)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:57:55,227 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:57:55,230 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:57:55,232 - config - INFO - Vector query 생성 완료.
2025-04-18 01:57:55,233 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:57:55,235 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:57:55,261 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35168'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '1b77d0dc-1bad-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:57:55,525 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '1b77d0dc-1bad-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:57:55 GMT'
2025-04-18 01:57:55,529 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 01:57:55,531 - config - INFO - LLM 호출 시작 (배포: "gpt35-turbo-chat" # !!! 나중에 이 이름으로 GPT-3.5 Turbo 배포 필요 !!!)...
2025-04-18 01:57:55,725 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/%22gpt35-turbo-chat%22%20?api-version=2024-02-01 "HTTP/1.1 404 Resource Not Found"
2025-04-18 01:57:55,728 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}
2025-04-18 01:57:55,734 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:57:57,245 - config - INFO - --- 관계 추출 진행: (005380 vs 012450) (10/10) ---
2025-04-18 01:57:57,248 - config - INFO - '005380(005380)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 01:57:57,482 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 01:57:57,486 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 01:57:57,487 - config - INFO - Vector query 생성 완료.
2025-04-18 01:57:57,492 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 01:57:57,494 - config - INFO - Search 결과 처리 시작...
2025-04-18 01:57:57,515 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35193'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '1ccfc9f8-1bad-11f0-b9a4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 01:57:57,819 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '1ccfc9f8-1bad-11f0-b9a4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 16:57:57 GMT'
2025-04-18 01:57:57,822 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 01:57:57,822 - config - INFO - LLM 호출 시작 (배포: "gpt35-turbo-chat" # !!! 나중에 이 이름으로 GPT-3.5 Turbo 배포 필요 !!!)...
2025-04-18 01:57:58,018 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/%22gpt35-turbo-chat%22%20?api-version=2024-02-01 "HTTP/1.1 404 Resource Not Found"
2025-04-18 01:57:58,020 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}
2025-04-18 01:57:58,023 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 01:57:59,533 - config - INFO - ===== PART 2: 관계 추출 루프 완료 =====
2025-04-18 01:57:59,535 - config - INFO - 총 0개의 관계 정보 추출 완료.
2025-04-18 01:57:59,537 - config - WARNING - 관계 추출 실패 쌍 (10개): [(('005930', '000660'), 'LLM Call Failed'), (('005930', '105560'), 'LLM Call Failed'), (('005930', '005380'), 'LLM Call Failed'), (('005930', '012450'), 'LLM Call Failed'), (('000660', '105560'), 'LLM Call Failed'), (('000660', '005380'), 'LLM Call Failed'), (('000660', '012450'), 'LLM Call Failed'), (('105560', '005380'), 'LLM Call Failed'), (('105560', '012450'), 'LLM Call Failed'), (('005380', '012450'), 'LLM Call Failed')]...
2025-04-18 02:03:51,019 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-18 02:03:56,390 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-18 02:03:56,465 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 02:03:56,467 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 02:03:56,467 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-18 02:03:58,434 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-18 02:03:58,437 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-18 02:03:58,439 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 02:03:58,439 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 02:03:58,441 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 02:03:58,442 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 02:03:58,445 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'f3f1364c-1bad-11f0-bb31-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:03:59,193 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'f3f1364c-1bad-11f0-bb31-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:03:58 GMT'
2025-04-18 02:03:59,196 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-18 02:03:59,199 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-18 02:04:04,129 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-18 02:04:04,129 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-18 02:04:04,131 - config - ERROR - 회사 이름 매핑 파일 로드/처리 오류: 'utf-8' codec can't decode byte 0xd0 in position 0: invalid continuation byte
2025-04-18 02:04:04,131 - config - WARNING - 종목 코드를 회사 이름 대신 사용합니다.
2025-04-18 02:04:11,162 - config - INFO - ===== PART 2 준비: 관계 추출 함수 정의 =====
2025-04-18 02:04:24,799 - config - INFO - ===== PART 2: 관계 추출 루프 시작 =====
2025-04-18 02:04:24,800 - config - INFO - 총 10개의 기업 쌍에 대해 관계 추출 시작...
2025-04-18 02:04:24,801 - config - WARNING - 테스트 실행 모드: 최대 10개의 기업 쌍만 처리합니다.
2025-04-18 02:04:24,802 - config - INFO - --- 관계 추출 진행: (005930 vs 000660) (1/10) ---
2025-04-18 02:04:24,802 - config - INFO - '005930(005930)'와 '000660(000660)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:04:25,633 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:04:25,635 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:04:25,636 - config - INFO - Vector query 생성 완료.
2025-04-18 02:04:25,637 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:04:25,638 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:04:25,655 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35159'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '04293550-1bae-11f0-bb31-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:04:27,057 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '04293550-1bae-11f0-bb31-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:04:26 GMT'
2025-04-18 02:04:27,058 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:04:27,059 - config - INFO - LLM 호출 시작 (배포: gpt35-turbo-chat)...
2025-04-18 02:04:27,258 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt35-turbo-chat/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 02:04:27,260 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 02:04:27,260 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:04:28,769 - config - INFO - --- 관계 추출 진행: (005930 vs 105560) (2/10) ---
2025-04-18 02:04:28,771 - config - INFO - '005930(005930)'와 '105560(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:04:28,998 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:04:28,999 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:04:29,000 - config - INFO - Vector query 생성 완료.
2025-04-18 02:04:29,001 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:04:29,001 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:04:29,019 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35161'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '062a7332-1bae-11f0-bb31-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:04:29,295 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '062a7332-1bae-11f0-bb31-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:04:29 GMT'
2025-04-18 02:04:29,298 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:04:29,300 - config - INFO - LLM 호출 시작 (배포: gpt35-turbo-chat)...
2025-04-18 02:04:29,502 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt35-turbo-chat/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 02:04:29,504 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 02:04:29,505 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:04:31,016 - config - INFO - --- 관계 추출 진행: (005930 vs 005380) (3/10) ---
2025-04-18 02:04:31,019 - config - INFO - '005930(005930)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:04:31,255 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:04:31,258 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:04:31,261 - config - INFO - Vector query 생성 완료.
2025-04-18 02:04:31,262 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:04:31,264 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:04:31,287 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35149'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '07849500-1bae-11f0-bb31-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:04:31,550 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '07849500-1bae-11f0-bb31-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:04:31 GMT'
2025-04-18 02:04:31,552 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:04:31,553 - config - INFO - LLM 호출 시작 (배포: gpt35-turbo-chat)...
2025-04-18 02:04:31,753 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt35-turbo-chat/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 02:04:31,757 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 02:04:31,758 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:04:33,267 - config - INFO - --- 관계 추출 진행: (005930 vs 012450) (4/10) ---
2025-04-18 02:04:33,270 - config - INFO - '005930(005930)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:04:33,502 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:04:33,506 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:04:33,508 - config - INFO - Vector query 생성 완료.
2025-04-18 02:04:33,509 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:04:33,511 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:04:33,536 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35164'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '08dbb99c-1bae-11f0-bb31-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:04:33,802 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '08dbb99c-1bae-11f0-bb31-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:04:33 GMT'
2025-04-18 02:04:33,806 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:04:33,807 - config - INFO - LLM 호출 시작 (배포: gpt35-turbo-chat)...
2025-04-18 02:04:34,013 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt35-turbo-chat/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 02:04:34,016 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 02:04:34,017 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:04:35,528 - config - INFO - --- 관계 추출 진행: (000660 vs 105560) (5/10) ---
2025-04-18 02:04:35,530 - config - INFO - '000660(000660)'와 '105560(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:04:35,764 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:04:35,770 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:04:35,772 - config - INFO - Vector query 생성 완료.
2025-04-18 02:04:35,773 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:04:35,775 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:04:35,796 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35215'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '0a349ec6-1bae-11f0-bb31-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:04:36,140 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '0a349ec6-1bae-11f0-bb31-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:04:36 GMT'
2025-04-18 02:04:36,144 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:04:36,146 - config - INFO - LLM 호출 시작 (배포: gpt35-turbo-chat)...
2025-04-18 02:04:36,348 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt35-turbo-chat/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 02:04:36,352 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 02:04:36,354 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:04:37,864 - config - INFO - --- 관계 추출 진행: (000660 vs 005380) (6/10) ---
2025-04-18 02:04:37,867 - config - INFO - '000660(000660)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:04:38,099 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:04:38,103 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:04:38,105 - config - INFO - Vector query 생성 완료.
2025-04-18 02:04:38,106 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:04:38,108 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:04:38,131 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35146'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '0b98dd04-1bae-11f0-bb31-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:04:38,392 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '0b98dd04-1bae-11f0-bb31-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:04:38 GMT'
2025-04-18 02:04:38,395 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:04:38,397 - config - INFO - LLM 호출 시작 (배포: gpt35-turbo-chat)...
2025-04-18 02:04:38,602 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt35-turbo-chat/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 02:04:38,606 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 02:04:38,607 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:04:40,114 - config - INFO - --- 관계 추출 진행: (000660 vs 012450) (7/10) ---
2025-04-18 02:04:40,116 - config - INFO - '000660(000660)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:04:40,348 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:04:40,351 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:04:40,352 - config - INFO - Vector query 생성 완료.
2025-04-18 02:04:40,353 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:04:40,354 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:04:40,373 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35199'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '0ceef788-1bae-11f0-bb31-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:04:40,632 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '0ceef788-1bae-11f0-bb31-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:04:40 GMT'
2025-04-18 02:04:40,634 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:04:40,635 - config - INFO - LLM 호출 시작 (배포: gpt35-turbo-chat)...
2025-04-18 02:04:40,837 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt35-turbo-chat/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 02:04:40,838 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 02:04:40,839 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:04:42,347 - config - INFO - --- 관계 추출 진행: (105560 vs 005380) (8/10) ---
2025-04-18 02:04:42,348 - config - INFO - '105560(105560)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:04:42,577 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:04:42,579 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:04:42,579 - config - INFO - Vector query 생성 완료.
2025-04-18 02:04:42,580 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:04:42,581 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:04:42,597 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35203'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '0e4267d2-1bae-11f0-bb31-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:04:42,887 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '0e4267d2-1bae-11f0-bb31-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:04:42 GMT'
2025-04-18 02:04:42,890 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:04:42,891 - config - INFO - LLM 호출 시작 (배포: gpt35-turbo-chat)...
2025-04-18 02:04:43,095 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt35-turbo-chat/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 02:04:43,097 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 02:04:43,098 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:04:44,608 - config - INFO - --- 관계 추출 진행: (105560 vs 012450) (9/10) ---
2025-04-18 02:04:44,609 - config - INFO - '105560(105560)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:04:44,836 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:04:44,837 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:04:44,837 - config - INFO - Vector query 생성 완료.
2025-04-18 02:04:44,838 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:04:44,838 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:04:44,852 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35168'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '0f9a5cb6-1bae-11f0-bb31-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:04:45,113 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '0f9a5cb6-1bae-11f0-bb31-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:04:45 GMT'
2025-04-18 02:04:45,117 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:04:45,119 - config - INFO - LLM 호출 시작 (배포: gpt35-turbo-chat)...
2025-04-18 02:04:45,323 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt35-turbo-chat/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 02:04:45,324 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 02:04:45,325 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:04:46,835 - config - INFO - --- 관계 추출 진행: (005380 vs 012450) (10/10) ---
2025-04-18 02:04:46,836 - config - INFO - '005380(005380)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:04:47,065 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:04:47,067 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:04:47,068 - config - INFO - Vector query 생성 완료.
2025-04-18 02:04:47,068 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:04:47,069 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:04:47,087 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35193'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '10ef71a0-1bae-11f0-bb31-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:04:47,351 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '10ef71a0-1bae-11f0-bb31-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:04:47 GMT'
2025-04-18 02:04:47,354 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:04:47,355 - config - INFO - LLM 호출 시작 (배포: gpt35-turbo-chat)...
2025-04-18 02:04:47,557 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt35-turbo-chat/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 02:04:47,558 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 02:04:47,558 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:04:49,069 - config - INFO - ===== PART 2: 관계 추출 루프 완료 =====
2025-04-18 02:04:49,071 - config - INFO - 총 0개의 관계 정보 추출 완료.
2025-04-18 02:04:49,073 - config - WARNING - 관계 추출 실패 쌍 (10개): [(('005930', '000660'), 'LLM Call Failed'), (('005930', '105560'), 'LLM Call Failed'), (('005930', '005380'), 'LLM Call Failed'), (('005930', '012450'), 'LLM Call Failed'), (('000660', '105560'), 'LLM Call Failed'), (('000660', '005380'), 'LLM Call Failed'), (('000660', '012450'), 'LLM Call Failed'), (('105560', '005380'), 'LLM Call Failed'), (('105560', '012450'), 'LLM Call Failed'), (('005380', '012450'), 'LLM Call Failed')]...
2025-04-18 02:15:18,550 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-18 02:15:20,654 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-18 02:15:20,717 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 02:15:20,719 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 02:15:20,719 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-18 02:15:24,779 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-18 02:15:24,782 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-18 02:15:24,784 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 02:15:24,785 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 02:15:24,786 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 02:15:24,787 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 02:15:24,791 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '8d096a2e-1baf-11f0-b4fb-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:15:25,533 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '8d096a2e-1baf-11f0-b4fb-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:15:25 GMT'
2025-04-18 02:15:25,536 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-18 02:15:25,538 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-18 02:15:28,120 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-18 02:15:28,120 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-18 02:15:28,122 - config - ERROR - 회사 이름 매핑 파일 로드/처리 오류: 'utf-8' codec can't decode byte 0xd0 in position 0: invalid continuation byte
2025-04-18 02:15:28,123 - config - WARNING - 종목 코드를 회사 이름 대신 사용합니다.
2025-04-18 02:15:36,944 - config - INFO - ===== PART 2 준비: 관계 추출 함수 정의 =====
2025-04-18 02:15:42,227 - config - INFO - ===== PART 2: 관계 추출 루프 시작 =====
2025-04-18 02:15:42,229 - config - INFO - 총 10개의 기업 쌍에 대해 관계 추출 시작...
2025-04-18 02:15:42,230 - config - WARNING - 테스트 실행 모드: 최대 10개의 기업 쌍만 처리합니다.
2025-04-18 02:15:42,232 - config - INFO - --- 관계 추출 진행: (005930 vs 000660) (1/10) ---
2025-04-18 02:15:42,232 - config - INFO - '005930(005930)'와 '000660(000660)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:15:43,087 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:15:43,093 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:15:43,095 - config - INFO - Vector query 생성 완료.
2025-04-18 02:15:43,096 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:15:43,101 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:15:43,123 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35159'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '97f6a0d2-1baf-11f0-b4fb-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:15:44,307 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '97f6a0d2-1baf-11f0-b4fb-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:15:43 GMT'
2025-04-18 02:15:44,308 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:15:44,308 - config - INFO - LLM 호출 시작 (배포: gpt35-turbo-chat)...
2025-04-18 02:15:44,508 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt35-turbo-chat/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 02:15:44,510 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 02:15:44,511 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:15:46,018 - config - INFO - --- 관계 추출 진행: (005930 vs 105560) (2/10) ---
2025-04-18 02:15:46,020 - config - INFO - '005930(005930)'와 '105560(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:15:46,259 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:15:46,261 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:15:46,262 - config - INFO - Vector query 생성 완료.
2025-04-18 02:15:46,263 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:15:46,263 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:15:46,287 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35161'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '99d96344-1baf-11f0-b4fb-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:15:46,544 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '99d96344-1baf-11f0-b4fb-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:15:46 GMT'
2025-04-18 02:15:46,547 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:15:46,548 - config - INFO - LLM 호출 시작 (배포: gpt35-turbo-chat)...
2025-04-18 02:15:46,753 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt35-turbo-chat/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 02:15:46,756 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 02:15:46,758 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:15:48,266 - config - INFO - --- 관계 추출 진행: (005930 vs 005380) (3/10) ---
2025-04-18 02:15:48,268 - config - INFO - '005930(005930)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:15:48,517 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:15:48,521 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:15:48,524 - config - INFO - Vector query 생성 완료.
2025-04-18 02:15:48,525 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:15:48,527 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:15:48,550 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35149'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '9b32bca4-1baf-11f0-b4fb-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:15:48,810 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '9b32bca4-1baf-11f0-b4fb-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:15:48 GMT'
2025-04-18 02:15:48,814 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:15:48,818 - config - INFO - LLM 호출 시작 (배포: gpt35-turbo-chat)...
2025-04-18 02:15:49,023 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt35-turbo-chat/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 02:15:49,027 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 02:15:49,028 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:15:50,539 - config - INFO - --- 관계 추출 진행: (005930 vs 012450) (4/10) ---
2025-04-18 02:15:50,541 - config - INFO - '005930(005930)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:15:50,781 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:15:50,785 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:15:50,787 - config - INFO - Vector query 생성 완료.
2025-04-18 02:15:50,787 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:15:50,788 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:15:50,811 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35164'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '9c8bb6aa-1baf-11f0-b4fb-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:15:51,073 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '9c8bb6aa-1baf-11f0-b4fb-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:15:50 GMT'
2025-04-18 02:15:51,080 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:15:51,083 - config - INFO - LLM 호출 시작 (배포: gpt35-turbo-chat)...
2025-04-18 02:15:51,287 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt35-turbo-chat/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 02:15:51,289 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 02:15:51,291 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:15:52,798 - config - INFO - --- 관계 추출 진행: (000660 vs 105560) (5/10) ---
2025-04-18 02:15:52,800 - config - INFO - '000660(000660)'와 '105560(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:15:53,074 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:15:53,078 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:15:53,080 - config - INFO - Vector query 생성 완료.
2025-04-18 02:15:53,082 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:15:53,084 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:15:53,111 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35215'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '9deaa7c2-1baf-11f0-b4fb-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:15:53,400 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '9deaa7c2-1baf-11f0-b4fb-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:15:53 GMT'
2025-04-18 02:15:53,404 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:15:53,407 - config - INFO - LLM 호출 시작 (배포: gpt35-turbo-chat)...
2025-04-18 02:15:53,608 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt35-turbo-chat/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 02:15:53,611 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 02:15:53,612 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:15:55,123 - config - INFO - --- 관계 추출 진행: (000660 vs 005380) (6/10) ---
2025-04-18 02:15:55,126 - config - INFO - '000660(000660)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:15:55,375 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:15:55,379 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:15:55,382 - config - INFO - Vector query 생성 완료.
2025-04-18 02:15:55,383 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:15:55,385 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:15:55,410 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35146'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '9f497e04-1baf-11f0-b4fb-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:15:55,671 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '9f497e04-1baf-11f0-b4fb-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:15:55 GMT'
2025-04-18 02:15:55,676 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:15:55,677 - config - INFO - LLM 호출 시작 (배포: gpt35-turbo-chat)...
2025-04-18 02:15:55,883 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt35-turbo-chat/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 02:15:55,886 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 02:15:55,887 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:15:57,396 - config - INFO - --- 관계 추출 진행: (000660 vs 012450) (7/10) ---
2025-04-18 02:15:57,399 - config - INFO - '000660(000660)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:15:57,630 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:15:57,634 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:15:57,636 - config - INFO - Vector query 생성 완료.
2025-04-18 02:15:57,637 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:15:57,639 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:15:57,665 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35199'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'a0a17946-1baf-11f0-b4fb-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:15:57,922 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'a0a17946-1baf-11f0-b4fb-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:15:57 GMT'
2025-04-18 02:15:57,925 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:15:57,927 - config - INFO - LLM 호출 시작 (배포: gpt35-turbo-chat)...
2025-04-18 02:15:58,129 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt35-turbo-chat/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 02:15:58,131 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 02:15:58,133 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:15:59,644 - config - INFO - --- 관계 추출 진행: (105560 vs 005380) (8/10) ---
2025-04-18 02:15:59,647 - config - INFO - '105560(105560)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:15:59,883 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:15:59,887 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:15:59,891 - config - INFO - Vector query 생성 완료.
2025-04-18 02:15:59,892 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:15:59,893 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:15:59,916 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35203'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'a1f90d4a-1baf-11f0-b4fb-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:16:00,204 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'a1f90d4a-1baf-11f0-b4fb-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:16:00 GMT'
2025-04-18 02:16:00,211 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:16:00,213 - config - INFO - LLM 호출 시작 (배포: gpt35-turbo-chat)...
2025-04-18 02:16:00,417 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt35-turbo-chat/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 02:16:00,420 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 02:16:00,421 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:16:01,926 - config - INFO - --- 관계 추출 진행: (105560 vs 012450) (9/10) ---
2025-04-18 02:16:01,928 - config - INFO - '105560(105560)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:16:02,168 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:16:02,172 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:16:02,174 - config - INFO - Vector query 생성 완료.
2025-04-18 02:16:02,176 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:16:02,178 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:16:02,201 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35168'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'a355b1fc-1baf-11f0-b4fb-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:16:02,460 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'a355b1fc-1baf-11f0-b4fb-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:16:02 GMT'
2025-04-18 02:16:02,463 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:16:02,465 - config - INFO - LLM 호출 시작 (배포: gpt35-turbo-chat)...
2025-04-18 02:16:02,670 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt35-turbo-chat/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 02:16:02,673 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 02:16:02,675 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:16:04,186 - config - INFO - --- 관계 추출 진행: (005380 vs 012450) (10/10) ---
2025-04-18 02:16:04,188 - config - INFO - '005380(005380)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:16:04,426 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:16:04,431 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:16:04,434 - config - INFO - Vector query 생성 완료.
2025-04-18 02:16:04,435 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:16:04,437 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:16:04,457 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35193'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'a4adf7a8-1baf-11f0-b4fb-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:16:04,720 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'a4adf7a8-1baf-11f0-b4fb-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:16:04 GMT'
2025-04-18 02:16:04,722 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:16:04,722 - config - INFO - LLM 호출 시작 (배포: gpt35-turbo-chat)...
2025-04-18 02:16:04,962 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt35-turbo-chat/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 02:16:04,964 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 02:16:04,965 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:16:06,475 - config - INFO - ===== PART 2: 관계 추출 루프 완료 =====
2025-04-18 02:16:06,476 - config - INFO - 총 0개의 관계 정보 추출 완료.
2025-04-18 02:16:06,477 - config - WARNING - 관계 추출 실패 쌍 (10개): [(('005930', '000660'), 'LLM Call Failed'), (('005930', '105560'), 'LLM Call Failed'), (('005930', '005380'), 'LLM Call Failed'), (('005930', '012450'), 'LLM Call Failed'), (('000660', '105560'), 'LLM Call Failed'), (('000660', '005380'), 'LLM Call Failed'), (('000660', '012450'), 'LLM Call Failed'), (('105560', '005380'), 'LLM Call Failed'), (('105560', '012450'), 'LLM Call Failed'), (('005380', '012450'), 'LLM Call Failed')]...
2025-04-18 02:33:31,227 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-18 02:33:33,990 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-18 02:33:34,051 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 02:33:34,053 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 02:33:34,054 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-18 02:33:35,558 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-18 02:33:35,560 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-18 02:33:35,562 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 02:33:35,563 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 02:33:35,564 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 02:33:35,565 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 02:33:35,568 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '1730c786-1bb2-11f0-b5c6-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:33:36,515 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '1730c786-1bb2-11f0-b5c6-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:33:36 GMT'
2025-04-18 02:33:36,518 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-18 02:33:36,519 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-18 02:33:38,334 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-18 02:33:38,334 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-18 02:33:38,336 - config - ERROR - 회사 이름 매핑 파일 로드/처리 오류: 'utf-8' codec can't decode byte 0xd0 in position 0: invalid continuation byte
2025-04-18 02:33:38,336 - config - WARNING - 종목 코드를 회사 이름 대신 사용합니다.
2025-04-18 02:33:45,259 - config - INFO - ===== PART 2 준비: 관계 추출 함수 정의 =====
2025-04-18 02:33:53,367 - config - INFO - ===== PART 2: 관계 추출 루프 시작 =====
2025-04-18 02:33:53,369 - config - INFO - 총 10개의 기업 쌍에 대해 관계 추출 시작...
2025-04-18 02:33:53,371 - config - WARNING - 테스트 실행 모드: 최대 10개의 기업 쌍만 처리합니다.
2025-04-18 02:33:53,372 - config - INFO - --- 관계 추출 진행: (005930 vs 000660) (1/10) ---
2025-04-18 02:33:53,373 - config - INFO - '005930(005930)'와 '000660(000660)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:33:54,213 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:33:54,218 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:33:54,219 - config - INFO - Vector query 생성 완료.
2025-04-18 02:33:54,220 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:33:54,222 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:33:54,242 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35159'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '22521c64-1bb2-11f0-b5c6-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:33:55,242 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '22521c64-1bb2-11f0-b5c6-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:33:55 GMT'
2025-04-18 02:33:55,246 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:33:55,247 - config - INFO - LLM 호출 시작 (배포: gpt-4o-mini)...
2025-04-18 02:33:55,452 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-18 02:33:55,454 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-18 02:33:55,474 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:33:56,988 - config - INFO - --- 관계 추출 진행: (005930 vs 105560) (2/10) ---
2025-04-18 02:33:56,990 - config - INFO - '005930(005930)'와 '105560(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:33:57,220 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:33:57,227 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:33:57,229 - config - INFO - Vector query 생성 완료.
2025-04-18 02:33:57,230 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:33:57,232 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:33:57,255 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35161'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '241dedb6-1bb2-11f0-b5c6-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:33:57,531 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '241dedb6-1bb2-11f0-b5c6-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:33:57 GMT'
2025-04-18 02:33:57,532 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:33:57,533 - config - INFO - LLM 호출 시작 (배포: gpt-4o-mini)...
2025-04-18 02:33:57,730 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-18 02:33:57,731 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-18 02:33:57,735 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:33:59,239 - config - INFO - --- 관계 추출 진행: (005930 vs 005380) (3/10) ---
2025-04-18 02:33:59,242 - config - INFO - '005930(005930)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:33:59,483 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:33:59,487 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:33:59,488 - config - INFO - Vector query 생성 완료.
2025-04-18 02:33:59,490 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:33:59,491 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:33:59,511 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35149'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '25761a1c-1bb2-11f0-b5c6-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:33:59,764 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '25761a1c-1bb2-11f0-b5c6-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:33:59 GMT'
2025-04-18 02:33:59,768 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:33:59,770 - config - INFO - LLM 호출 시작 (배포: gpt-4o-mini)...
2025-04-18 02:33:59,969 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-18 02:33:59,972 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-18 02:33:59,975 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:34:01,488 - config - INFO - --- 관계 추출 진행: (005930 vs 012450) (4/10) ---
2025-04-18 02:34:01,490 - config - INFO - '005930(005930)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:34:01,722 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:34:01,725 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:34:01,727 - config - INFO - Vector query 생성 완료.
2025-04-18 02:34:01,729 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:34:01,730 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:34:01,752 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35164'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '26cc1d80-1bb2-11f0-b5c6-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:34:02,283 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '26cc1d80-1bb2-11f0-b5c6-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:34:01 GMT'
2025-04-18 02:34:02,286 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:34:02,287 - config - INFO - LLM 호출 시작 (배포: gpt-4o-mini)...
2025-04-18 02:34:02,489 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-18 02:34:02,493 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-18 02:34:02,496 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:34:04,004 - config - INFO - --- 관계 추출 진행: (000660 vs 105560) (5/10) ---
2025-04-18 02:34:04,005 - config - INFO - '000660(000660)'와 '105560(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:34:04,236 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:34:04,240 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:34:04,242 - config - INFO - Vector query 생성 완료.
2025-04-18 02:34:04,243 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:34:04,244 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:34:04,272 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35215'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '284c943c-1bb2-11f0-b5c6-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:34:04,560 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '284c943c-1bb2-11f0-b5c6-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:34:04 GMT'
2025-04-18 02:34:04,562 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:34:04,563 - config - INFO - LLM 호출 시작 (배포: gpt-4o-mini)...
2025-04-18 02:34:04,760 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-18 02:34:04,767 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-18 02:34:04,770 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:34:06,282 - config - INFO - --- 관계 추출 진행: (000660 vs 005380) (6/10) ---
2025-04-18 02:34:06,283 - config - INFO - '000660(000660)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:34:06,515 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:34:06,520 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:34:06,521 - config - INFO - Vector query 생성 완료.
2025-04-18 02:34:06,523 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:34:06,525 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:34:06,549 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35146'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '29a820c6-1bb2-11f0-b5c6-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:34:06,810 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '29a820c6-1bb2-11f0-b5c6-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:34:06 GMT'
2025-04-18 02:34:06,812 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:34:06,813 - config - INFO - LLM 호출 시작 (배포: gpt-4o-mini)...
2025-04-18 02:34:07,011 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-18 02:34:07,013 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-18 02:34:07,015 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:34:08,523 - config - INFO - --- 관계 추출 진행: (000660 vs 012450) (7/10) ---
2025-04-18 02:34:08,525 - config - INFO - '000660(000660)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:34:08,757 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:34:08,761 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:34:08,762 - config - INFO - Vector query 생성 완료.
2025-04-18 02:34:08,764 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:34:08,766 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:34:08,791 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35199'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '2afe2b28-1bb2-11f0-b5c6-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:34:09,059 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '2afe2b28-1bb2-11f0-b5c6-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:34:08 GMT'
2025-04-18 02:34:09,062 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:34:09,063 - config - INFO - LLM 호출 시작 (배포: gpt-4o-mini)...
2025-04-18 02:34:09,264 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-18 02:34:09,267 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-18 02:34:09,272 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:34:10,783 - config - INFO - --- 관계 추출 진행: (105560 vs 005380) (8/10) ---
2025-04-18 02:34:10,784 - config - INFO - '105560(105560)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:34:11,122 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:34:11,126 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:34:11,128 - config - INFO - Vector query 생성 완료.
2025-04-18 02:34:11,128 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:34:11,132 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:34:11,156 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35203'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '2c670674-1bb2-11f0-b5c6-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:34:11,449 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '2c670674-1bb2-11f0-b5c6-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:34:11 GMT'
2025-04-18 02:34:11,451 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:34:11,452 - config - INFO - LLM 호출 시작 (배포: gpt-4o-mini)...
2025-04-18 02:34:11,652 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-18 02:34:11,654 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-18 02:34:11,657 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:34:13,161 - config - INFO - --- 관계 추출 진행: (105560 vs 012450) (9/10) ---
2025-04-18 02:34:13,163 - config - INFO - '105560(105560)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:34:13,394 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:34:13,396 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:34:13,397 - config - INFO - Vector query 생성 완료.
2025-04-18 02:34:13,398 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:34:13,399 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:34:13,417 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35168'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '2dbfff3a-1bb2-11f0-b5c6-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:34:13,684 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '2dbfff3a-1bb2-11f0-b5c6-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:34:13 GMT'
2025-04-18 02:34:13,687 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:34:13,688 - config - INFO - LLM 호출 시작 (배포: gpt-4o-mini)...
2025-04-18 02:34:13,886 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-18 02:34:13,888 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-18 02:34:13,893 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:34:15,396 - config - INFO - --- 관계 추출 진행: (005380 vs 012450) (10/10) ---
2025-04-18 02:34:15,397 - config - INFO - '005380(005380)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:34:15,631 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:34:15,634 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:34:15,635 - config - INFO - Vector query 생성 완료.
2025-04-18 02:34:15,636 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:34:15,637 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:34:15,656 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35193'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '2f159bf6-1bb2-11f0-b5c6-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:34:15,912 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '2f159bf6-1bb2-11f0-b5c6-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:34:15 GMT'
2025-04-18 02:34:15,914 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:34:15,915 - config - INFO - LLM 호출 시작 (배포: gpt-4o-mini)...
2025-04-18 02:34:16,110 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-18 02:34:16,112 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-18 02:34:16,115 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:34:17,623 - config - INFO - ===== PART 2: 관계 추출 루프 완료 =====
2025-04-18 02:34:17,625 - config - INFO - 총 0개의 관계 정보 추출 완료.
2025-04-18 02:34:17,627 - config - WARNING - 관계 추출 실패 쌍 (10개): [(('005930', '000660'), 'LLM Call Failed'), (('005930', '105560'), 'LLM Call Failed'), (('005930', '005380'), 'LLM Call Failed'), (('005930', '012450'), 'LLM Call Failed'), (('000660', '105560'), 'LLM Call Failed'), (('000660', '005380'), 'LLM Call Failed'), (('000660', '012450'), 'LLM Call Failed'), (('105560', '005380'), 'LLM Call Failed'), (('105560', '012450'), 'LLM Call Failed'), (('005380', '012450'), 'LLM Call Failed')]...
2025-04-18 02:36:40,310 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-18 02:36:42,043 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-18 02:36:42,099 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 02:36:42,102 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 02:36:42,102 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-18 02:36:43,732 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-18 02:36:43,735 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-18 02:36:43,736 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 02:36:43,737 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 02:36:43,737 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 02:36:43,738 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 02:36:43,742 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '8759bae0-1bb2-11f0-b2b8-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:36:44,474 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '8759bae0-1bb2-11f0-b2b8-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:36:44 GMT'
2025-04-18 02:36:44,476 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-18 02:36:44,477 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-18 02:36:47,000 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-18 02:36:47,000 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-18 02:36:47,002 - config - ERROR - 회사 이름 매핑 파일 로드/처리 오류: 'utf-8' codec can't decode byte 0xd0 in position 0: invalid continuation byte
2025-04-18 02:36:47,002 - config - WARNING - 종목 코드를 회사 이름 대신 사용합니다.
2025-04-18 02:36:53,017 - config - INFO - ===== PART 2 준비: 관계 추출 함수 정의 =====
2025-04-18 02:36:57,740 - config - INFO - ===== PART 2: 관계 추출 루프 시작 =====
2025-04-18 02:36:57,742 - config - INFO - 총 10개의 기업 쌍에 대해 관계 추출 시작...
2025-04-18 02:36:57,743 - config - WARNING - 테스트 실행 모드: 최대 10개의 기업 쌍만 처리합니다.
2025-04-18 02:36:57,745 - config - INFO - --- 관계 추출 진행: (005930 vs 000660) (1/10) ---
2025-04-18 02:36:57,745 - config - INFO - '005930(005930)'와 '000660(000660)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:36:58,565 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:36:58,569 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:36:58,570 - config - INFO - Vector query 생성 완료.
2025-04-18 02:36:58,572 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:36:58,573 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:36:58,593 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35159'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '9033dc68-1bb2-11f0-b2b8-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:36:59,561 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '9033dc68-1bb2-11f0-b2b8-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:36:59 GMT'
2025-04-18 02:36:59,563 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:36:59,564 - config - INFO - LLM 호출 시작 (배포: gpt-4o-mini)...
2025-04-18 02:36:59,763 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-18 02:36:59,765 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-18 02:36:59,770 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:37:01,281 - config - INFO - --- 관계 추출 진행: (005930 vs 105560) (2/10) ---
2025-04-18 02:37:01,282 - config - INFO - '005930(005930)'와 '105560(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:37:01,516 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:37:01,520 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:37:01,521 - config - INFO - Vector query 생성 완료.
2025-04-18 02:37:01,522 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:37:01,522 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:37:01,542 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35161'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '91f5d8ee-1bb2-11f0-b2b8-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:37:01,853 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '91f5d8ee-1bb2-11f0-b2b8-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:37:01 GMT'
2025-04-18 02:37:01,858 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:37:01,860 - config - INFO - LLM 호출 시작 (배포: gpt-4o-mini)...
2025-04-18 02:37:02,061 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-18 02:37:02,062 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-18 02:37:02,065 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:37:03,574 - config - INFO - --- 관계 추출 진행: (005930 vs 005380) (3/10) ---
2025-04-18 02:37:03,575 - config - INFO - '005930(005930)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:37:03,804 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:37:03,806 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:37:03,807 - config - INFO - Vector query 생성 완료.
2025-04-18 02:37:03,808 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:37:03,809 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:37:03,826 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35149'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '93526734-1bb2-11f0-b2b8-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:37:04,096 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '93526734-1bb2-11f0-b2b8-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:37:04 GMT'
2025-04-18 02:37:04,100 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:37:04,101 - config - INFO - LLM 호출 시작 (배포: gpt-4o-mini)...
2025-04-18 02:37:04,300 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-18 02:37:04,303 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-18 02:37:04,305 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:37:05,812 - config - INFO - --- 관계 추출 진행: (005930 vs 012450) (4/10) ---
2025-04-18 02:37:05,813 - config - INFO - '005930(005930)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:37:06,053 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:37:06,057 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:37:06,058 - config - INFO - Vector query 생성 완료.
2025-04-18 02:37:06,060 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:37:06,062 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:37:06,083 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35164'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '94aab8e8-1bb2-11f0-b2b8-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:37:06,354 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '94aab8e8-1bb2-11f0-b2b8-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:37:06 GMT'
2025-04-18 02:37:06,357 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:37:06,359 - config - INFO - LLM 호출 시작 (배포: gpt-4o-mini)...
2025-04-18 02:37:06,566 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-18 02:37:06,570 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-18 02:37:06,573 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:37:08,082 - config - INFO - --- 관계 추출 진행: (000660 vs 105560) (5/10) ---
2025-04-18 02:37:08,083 - config - INFO - '000660(000660)'와 '105560(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:37:08,316 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:37:08,321 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:37:08,322 - config - INFO - Vector query 생성 완료.
2025-04-18 02:37:08,323 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:37:08,324 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:37:08,341 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35215'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '960363a2-1bb2-11f0-b2b8-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:37:08,632 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '960363a2-1bb2-11f0-b2b8-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:37:08 GMT'
2025-04-18 02:37:08,636 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:37:08,637 - config - INFO - LLM 호출 시작 (배포: gpt-4o-mini)...
2025-04-18 02:37:08,838 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-18 02:37:08,841 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-18 02:37:08,846 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:37:10,354 - config - INFO - --- 관계 추출 진행: (000660 vs 005380) (6/10) ---
2025-04-18 02:37:10,356 - config - INFO - '000660(000660)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:37:10,593 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:37:10,597 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:37:10,599 - config - INFO - Vector query 생성 완료.
2025-04-18 02:37:10,604 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:37:10,606 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:37:10,629 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35146'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '97607014-1bb2-11f0-b2b8-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:37:10,887 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '97607014-1bb2-11f0-b2b8-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:37:10 GMT'
2025-04-18 02:37:10,891 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:37:10,892 - config - INFO - LLM 호출 시작 (배포: gpt-4o-mini)...
2025-04-18 02:37:11,093 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-18 02:37:11,097 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-18 02:37:11,103 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:37:12,611 - config - INFO - --- 관계 추출 진행: (000660 vs 012450) (7/10) ---
2025-04-18 02:37:12,613 - config - INFO - '000660(000660)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:37:12,864 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:37:12,870 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:37:12,872 - config - INFO - Vector query 생성 완료.
2025-04-18 02:37:12,872 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:37:12,874 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:37:12,898 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35199'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '98baa772-1bb2-11f0-b2b8-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:37:13,173 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '98baa772-1bb2-11f0-b2b8-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:37:13 GMT'
2025-04-18 02:37:13,175 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:37:13,175 - config - INFO - LLM 호출 시작 (배포: gpt-4o-mini)...
2025-04-18 02:37:13,372 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-18 02:37:13,373 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-18 02:37:13,376 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:37:14,885 - config - INFO - --- 관계 추출 진행: (105560 vs 005380) (8/10) ---
2025-04-18 02:37:14,888 - config - INFO - '105560(105560)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:37:15,122 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:37:15,125 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:37:15,128 - config - INFO - Vector query 생성 완료.
2025-04-18 02:37:15,129 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:37:15,132 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:37:15,153 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35203'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '9a12b84e-1bb2-11f0-b2b8-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:37:15,461 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '9a12b84e-1bb2-11f0-b2b8-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:37:14 GMT'
2025-04-18 02:37:15,463 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:37:15,463 - config - INFO - LLM 호출 시작 (배포: gpt-4o-mini)...
2025-04-18 02:37:15,659 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-18 02:37:15,662 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-18 02:37:15,666 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:37:17,172 - config - INFO - --- 관계 추출 진행: (105560 vs 012450) (9/10) ---
2025-04-18 02:37:17,173 - config - INFO - '105560(105560)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:37:17,411 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:37:17,415 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:37:17,416 - config - INFO - Vector query 생성 완료.
2025-04-18 02:37:17,418 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:37:17,421 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:37:17,447 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35168'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '9b70caf0-1bb2-11f0-b2b8-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:37:17,710 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '9b70caf0-1bb2-11f0-b2b8-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:37:17 GMT'
2025-04-18 02:37:17,713 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:37:17,715 - config - INFO - LLM 호출 시작 (배포: gpt-4o-mini)...
2025-04-18 02:37:17,920 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-18 02:37:17,923 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-18 02:37:17,927 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:37:19,436 - config - INFO - --- 관계 추출 진행: (005380 vs 012450) (10/10) ---
2025-04-18 02:37:19,439 - config - INFO - '005380(005380)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 02:37:19,679 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 02:37:19,683 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 02:37:19,686 - config - INFO - Vector query 생성 완료.
2025-04-18 02:37:19,688 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 02:37:19,690 - config - INFO - Search 결과 처리 시작...
2025-04-18 02:37:19,716 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35193'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '9ccaf6c8-1bb2-11f0-b2b8-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 02:37:19,988 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '9ccaf6c8-1bb2-11f0-b2b8-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 17 Apr 2025 17:37:19 GMT'
2025-04-18 02:37:19,997 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 02:37:20,000 - config - INFO - LLM 호출 시작 (배포: gpt-4o-mini)...
2025-04-18 02:37:20,200 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-02-01 "HTTP/1.1 404 DeploymentNotFound"
2025-04-18 02:37:20,207 - config - ERROR - LLM 호출 중 예외 발생: Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
2025-04-18 02:37:20,215 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 02:37:21,724 - config - INFO - ===== PART 2: 관계 추출 루프 완료 =====
2025-04-18 02:37:21,726 - config - INFO - 총 0개의 관계 정보 추출 완료.
2025-04-18 02:37:21,728 - config - WARNING - 관계 추출 실패 쌍 (10개): [(('005930', '000660'), 'LLM Call Failed'), (('005930', '105560'), 'LLM Call Failed'), (('005930', '005380'), 'LLM Call Failed'), (('005930', '012450'), 'LLM Call Failed'), (('000660', '105560'), 'LLM Call Failed'), (('000660', '005380'), 'LLM Call Failed'), (('000660', '012450'), 'LLM Call Failed'), (('105560', '005380'), 'LLM Call Failed'), (('105560', '012450'), 'LLM Call Failed'), (('005380', '012450'), 'LLM Call Failed')]...
2025-04-18 13:29:44,200 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-18 13:29:47,263 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-18 13:29:47,329 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 13:29:47,330 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 13:29:47,331 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-18 13:29:55,141 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-18 13:29:58,615 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-18 13:29:58,671 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 13:29:58,673 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 13:29:58,673 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-18 13:30:00,361 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-18 13:30:00,364 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-18 13:30:00,365 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 13:30:00,366 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 13:30:00,367 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 13:30:00,368 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 13:30:00,372 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'ca5ccbb0-1c0d-11f0-94ca-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 13:30:01,504 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'ca5ccbb0-1c0d-11f0-94ca-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 04:30:01 GMT'
2025-04-18 13:30:01,505 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-18 13:30:01,506 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-18 13:30:04,594 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-18 13:30:04,595 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-18 13:30:04,598 - config - ERROR - 회사 이름 매핑 파일 로드/처리 오류: 'utf-8' codec can't decode byte 0xd0 in position 0: invalid continuation byte
2025-04-18 13:30:04,598 - config - WARNING - 종목 코드를 회사 이름 대신 사용합니다.
2025-04-18 13:30:19,817 - config - INFO - ===== PART 2 준비: 관계 추출 함수 정의 =====
2025-04-18 13:30:25,140 - config - INFO - ===== PART 2: 관계 추출 루프 시작 =====
2025-04-18 13:30:25,141 - config - INFO - 총 10개의 기업 쌍에 대해 관계 추출 시작...
2025-04-18 13:30:25,143 - config - WARNING - 테스트 실행 모드: 최대 10개의 기업 쌍만 처리합니다.
2025-04-18 13:30:25,144 - config - INFO - --- 관계 추출 진행: (005930 vs 000660) (1/10) ---
2025-04-18 13:30:25,145 - config - INFO - '005930(005930)'와 '000660(000660)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 13:30:26,477 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 13:30:26,479 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 13:30:26,480 - config - INFO - Vector query 생성 완료.
2025-04-18 13:30:26,480 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 13:30:26,482 - config - INFO - Search 결과 처리 시작...
2025-04-18 13:30:26,498 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35159'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'd9ef627c-1c0d-11f0-94ca-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 13:30:27,449 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd9ef627c-1c0d-11f0-94ca-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 04:30:27 GMT'
2025-04-18 13:30:27,450 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 13:30:27,451 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 13:30:27,654 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 13:30:27,657 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 13:30:27,657 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 13:30:29,168 - config - INFO - --- 관계 추출 진행: (005930 vs 105560) (2/10) ---
2025-04-18 13:30:29,171 - config - INFO - '005930(005930)'와 '105560(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 13:30:29,408 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 13:30:29,410 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 13:30:29,411 - config - INFO - Vector query 생성 완료.
2025-04-18 13:30:29,412 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 13:30:29,413 - config - INFO - Search 결과 처리 시작...
2025-04-18 13:30:29,431 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35161'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'dbaee542-1c0d-11f0-94ca-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 13:30:29,693 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'dbaee542-1c0d-11f0-94ca-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 04:30:29 GMT'
2025-04-18 13:30:29,698 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 13:30:29,700 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 13:30:29,907 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 13:30:29,908 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 13:30:29,909 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 13:30:31,421 - config - INFO - --- 관계 추출 진행: (005930 vs 005380) (3/10) ---
2025-04-18 13:30:31,423 - config - INFO - '005930(005930)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 13:30:31,655 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 13:30:31,659 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 13:30:31,660 - config - INFO - Vector query 생성 완료.
2025-04-18 13:30:31,661 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 13:30:31,662 - config - INFO - Search 결과 처리 시작...
2025-04-18 13:30:31,682 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35149'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'dd067734-1c0d-11f0-94ca-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 13:30:31,941 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'dd067734-1c0d-11f0-94ca-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 04:30:31 GMT'
2025-04-18 13:30:31,944 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 13:30:31,946 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 13:30:32,154 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 13:30:32,157 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 13:30:32,157 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 13:30:33,666 - config - INFO - --- 관계 추출 진행: (005930 vs 012450) (4/10) ---
2025-04-18 13:30:33,669 - config - INFO - '005930(005930)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 13:30:33,911 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 13:30:33,914 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 13:30:33,916 - config - INFO - Vector query 생성 완료.
2025-04-18 13:30:33,917 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 13:30:33,919 - config - INFO - Search 결과 처리 시작...
2025-04-18 13:30:33,944 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35164'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'de5f95b6-1c0d-11f0-94ca-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 13:30:34,212 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'de5f95b6-1c0d-11f0-94ca-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 04:30:34 GMT'
2025-04-18 13:30:34,216 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 13:30:34,217 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 13:30:34,420 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 13:30:34,422 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 13:30:34,423 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 13:30:35,931 - config - INFO - --- 관계 추출 진행: (000660 vs 105560) (5/10) ---
2025-04-18 13:30:35,934 - config - INFO - '000660(000660)'와 '105560(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 13:30:36,167 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 13:30:36,171 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 13:30:36,172 - config - INFO - Vector query 생성 완료.
2025-04-18 13:30:36,177 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 13:30:36,178 - config - INFO - Search 결과 처리 시작...
2025-04-18 13:30:36,202 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35215'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'dfb810be-1c0d-11f0-94ca-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 13:30:36,485 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'dfb810be-1c0d-11f0-94ca-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 04:30:36 GMT'
2025-04-18 13:30:36,489 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 13:30:36,490 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 13:30:36,700 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 13:30:36,704 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 13:30:36,705 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 13:30:38,218 - config - INFO - --- 관계 추출 진행: (000660 vs 005380) (6/10) ---
2025-04-18 13:30:38,222 - config - INFO - '000660(000660)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 13:30:38,458 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 13:30:38,462 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 13:30:38,466 - config - INFO - Vector query 생성 완료.
2025-04-18 13:30:38,468 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 13:30:38,469 - config - INFO - Search 결과 처리 시작...
2025-04-18 13:30:38,492 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35146'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'e1157d7a-1c0d-11f0-94ca-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 13:30:38,760 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'e1157d7a-1c0d-11f0-94ca-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 04:30:38 GMT'
2025-04-18 13:30:38,764 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 13:30:38,766 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 13:30:38,969 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 13:30:38,972 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 13:30:38,973 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 13:30:40,482 - config - INFO - --- 관계 추출 진행: (000660 vs 012450) (7/10) ---
2025-04-18 13:30:40,485 - config - INFO - '000660(000660)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 13:30:40,719 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 13:30:40,722 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 13:30:40,723 - config - INFO - Vector query 생성 완료.
2025-04-18 13:30:40,725 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 13:30:40,726 - config - INFO - Search 결과 처리 시작...
2025-04-18 13:30:40,749 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35199'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'e26dfaf8-1c0d-11f0-94ca-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 13:30:41,091 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'e26dfaf8-1c0d-11f0-94ca-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 04:30:40 GMT'
2025-04-18 13:30:41,095 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 13:30:41,096 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 13:30:41,301 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 13:30:41,303 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 13:30:41,304 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 13:30:42,815 - config - INFO - --- 관계 추출 진행: (105560 vs 005380) (8/10) ---
2025-04-18 13:30:42,817 - config - INFO - '105560(105560)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 13:30:43,052 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 13:30:43,054 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 13:30:43,054 - config - INFO - Vector query 생성 완료.
2025-04-18 13:30:43,055 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 13:30:43,055 - config - INFO - Search 결과 처리 시작...
2025-04-18 13:30:43,071 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35203'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'e3d02ba0-1c0d-11f0-94ca-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 13:30:43,351 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'e3d02ba0-1c0d-11f0-94ca-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 04:30:43 GMT'
2025-04-18 13:30:43,358 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 13:30:43,362 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 13:30:43,565 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 13:30:43,567 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 13:30:43,568 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 13:30:45,079 - config - INFO - --- 관계 추출 진행: (105560 vs 012450) (9/10) ---
2025-04-18 13:30:45,081 - config - INFO - '105560(105560)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 13:30:46,311 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 13:30:46,317 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 13:30:46,319 - config - INFO - Vector query 생성 완료.
2025-04-18 13:30:46,321 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 13:30:46,323 - config - INFO - Search 결과 처리 시작...
2025-04-18 13:30:46,347 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35168'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'e5c40c42-1c0d-11f0-94ca-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 13:30:46,612 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'e5c40c42-1c0d-11f0-94ca-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 04:30:46 GMT'
2025-04-18 13:30:46,616 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 13:30:46,617 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 13:30:46,887 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 13:30:46,890 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 13:30:46,894 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 13:30:48,404 - config - INFO - --- 관계 추출 진행: (005380 vs 012450) (10/10) ---
2025-04-18 13:30:48,406 - config - INFO - '005380(005380)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 13:30:48,772 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 13:30:48,775 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 13:30:48,776 - config - INFO - Vector query 생성 완료.
2025-04-18 13:30:48,777 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 13:30:48,778 - config - INFO - Search 결과 처리 시작...
2025-04-18 13:30:48,797 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35193'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'e739ee16-1c0d-11f0-94ca-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 13:30:49,079 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'e739ee16-1c0d-11f0-94ca-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 04:30:48 GMT'
2025-04-18 13:30:49,082 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 13:30:49,083 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 13:30:49,333 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 13:30:49,336 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 13:30:49,338 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 13:30:50,853 - config - INFO - ===== PART 2: 관계 추출 루프 완료 =====
2025-04-18 13:30:50,855 - config - INFO - 총 0개의 관계 정보 추출 완료.
2025-04-18 13:30:50,856 - config - WARNING - 관계 추출 실패 쌍 (10개): [(('005930', '000660'), 'LLM Call Failed'), (('005930', '105560'), 'LLM Call Failed'), (('005930', '005380'), 'LLM Call Failed'), (('005930', '012450'), 'LLM Call Failed'), (('000660', '105560'), 'LLM Call Failed'), (('000660', '005380'), 'LLM Call Failed'), (('000660', '012450'), 'LLM Call Failed'), (('105560', '005380'), 'LLM Call Failed'), (('105560', '012450'), 'LLM Call Failed'), (('005380', '012450'), 'LLM Call Failed')]...
2025-04-18 14:03:10,701 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-18 14:03:13,804 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-18 14:03:13,865 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 14:03:13,867 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 14:03:13,868 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-18 14:03:16,152 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-18 14:03:16,154 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-18 14:03:16,155 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 14:03:16,156 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 14:03:16,156 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 14:03:16,157 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 14:03:16,161 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '6ff22c56-1c12-11f0-afce-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:03:16,888 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '6ff22c56-1c12-11f0-afce-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:03:16 GMT'
2025-04-18 14:03:16,889 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-18 14:03:16,889 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-18 14:03:19,112 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-18 14:03:19,112 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-18 14:03:19,114 - config - ERROR - 회사 이름 매핑 파일 로드/처리 오류: 'utf-8' codec can't decode byte 0xd0 in position 0: invalid continuation byte
2025-04-18 14:03:19,114 - config - WARNING - 종목 코드를 회사 이름 대신 사용합니다.
2025-04-18 14:03:26,491 - config - INFO - ===== PART 2 준비: 관계 추출 함수 정의 =====
2025-04-18 14:03:32,362 - config - INFO - ===== PART 2 준비: 관계 추출 함수 정의 =====
2025-04-18 14:03:39,768 - config - INFO - ===== PART 2: 관계 추출 루프 시작 =====
2025-04-18 14:03:39,769 - config - INFO - 총 10개의 기업 쌍에 대해 관계 추출 시작...
2025-04-18 14:03:39,771 - config - WARNING - 테스트 실행 모드: 최대 10개의 기업 쌍만 처리합니다.
2025-04-18 14:03:39,774 - config - INFO - --- 관계 추출 진행: (005930 vs 000660) (1/10) ---
2025-04-18 14:03:39,774 - config - INFO - '005930(005930)'와 '000660(000660)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:03:40,639 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 14:03:40,641 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:03:40,641 - config - INFO - Vector query 생성 완료.
2025-04-18 14:03:40,642 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:03:40,642 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:03:40,653 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35159'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '7e8b5954-1c12-11f0-afce-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:03:41,624 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '7e8b5954-1c12-11f0-afce-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:03:41 GMT'
2025-04-18 14:03:41,629 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:03:41,631 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:03:41,847 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 14:03:41,851 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:03:41,853 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:03:43,365 - config - INFO - --- 관계 추출 진행: (005930 vs 105560) (2/10) ---
2025-04-18 14:03:43,367 - config - INFO - '005930(005930)'와 '105560(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:03:43,613 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 14:03:43,615 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:03:43,616 - config - INFO - Vector query 생성 완료.
2025-04-18 14:03:43,616 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:03:43,617 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:03:43,634 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35161'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '80523de8-1c12-11f0-afce-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:03:43,892 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '80523de8-1c12-11f0-afce-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:03:43 GMT'
2025-04-18 14:03:43,895 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:03:43,896 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:03:44,106 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 14:03:44,108 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:03:44,108 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:03:45,620 - config - INFO - --- 관계 추출 진행: (005930 vs 005380) (3/10) ---
2025-04-18 14:03:45,622 - config - INFO - '005930(005930)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:03:45,872 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 14:03:45,877 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:03:45,879 - config - INFO - Vector query 생성 완료.
2025-04-18 14:03:45,881 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:03:45,883 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:03:45,907 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35149'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '81acf34a-1c12-11f0-afce-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:03:46,175 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '81acf34a-1c12-11f0-afce-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:03:46 GMT'
2025-04-18 14:03:46,180 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:03:46,182 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:03:46,392 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 14:03:46,394 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:03:46,395 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:03:47,905 - config - INFO - --- 관계 추출 진행: (005930 vs 012450) (4/10) ---
2025-04-18 14:03:47,906 - config - INFO - '005930(005930)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:03:48,148 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 14:03:48,153 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:03:48,156 - config - INFO - Vector query 생성 완료.
2025-04-18 14:03:48,157 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:03:48,159 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:03:48,185 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35164'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '83088c90-1c12-11f0-afce-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:03:48,444 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '83088c90-1c12-11f0-afce-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:03:47 GMT'
2025-04-18 14:03:48,448 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:03:48,449 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:03:48,663 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 14:03:48,666 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:03:48,667 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:03:50,175 - config - INFO - --- 관계 추출 진행: (000660 vs 105560) (5/10) ---
2025-04-18 14:03:50,178 - config - INFO - '000660(000660)'와 '105560(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:03:50,425 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 14:03:50,428 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:03:50,430 - config - INFO - Vector query 생성 완료.
2025-04-18 14:03:50,430 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:03:50,431 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:03:50,450 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35215'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '84623cee-1c12-11f0-afce-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:03:50,746 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '84623cee-1c12-11f0-afce-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:03:50 GMT'
2025-04-18 14:03:50,750 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:03:50,752 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:03:52,431 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 14:03:52,434 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:03:52,435 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:03:53,949 - config - INFO - --- 관계 추출 진행: (000660 vs 005380) (6/10) ---
2025-04-18 14:03:53,952 - config - INFO - '000660(000660)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:03:54,730 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 14:03:54,735 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:03:54,737 - config - INFO - Vector query 생성 완료.
2025-04-18 14:03:54,738 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:03:54,743 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:03:54,765 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35146'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '86f4a8ac-1c12-11f0-afce-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:03:55,079 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '86f4a8ac-1c12-11f0-afce-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:03:54 GMT'
2025-04-18 14:03:55,085 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:03:55,087 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:03:55,545 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 14:03:55,546 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:03:55,547 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:03:57,058 - config - INFO - --- 관계 추출 진행: (000660 vs 012450) (7/10) ---
2025-04-18 14:03:57,060 - config - INFO - '000660(000660)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:03:57,297 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 14:03:57,301 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:03:57,303 - config - INFO - Vector query 생성 완료.
2025-04-18 14:03:57,304 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:03:57,305 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:03:57,325 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35199'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '887b3aec-1c12-11f0-afce-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:03:57,613 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '887b3aec-1c12-11f0-afce-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:03:57 GMT'
2025-04-18 14:03:57,616 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:03:57,617 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:03:57,830 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 14:03:57,832 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:03:57,833 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:03:59,344 - config - INFO - --- 관계 추출 진행: (105560 vs 005380) (8/10) ---
2025-04-18 14:03:59,347 - config - INFO - '105560(105560)'와 '005380(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:03:59,592 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 14:03:59,601 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:03:59,603 - config - INFO - Vector query 생성 완료.
2025-04-18 14:03:59,605 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:03:59,607 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:03:59,626 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35203'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '89da620a-1c12-11f0-afce-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:03:59,889 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '89da620a-1c12-11f0-afce-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:03:59 GMT'
2025-04-18 14:03:59,893 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:03:59,895 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:04:00,105 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 14:04:00,108 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:04:00,110 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:04:01,622 - config - INFO - --- 관계 추출 진행: (105560 vs 012450) (9/10) ---
2025-04-18 14:04:01,625 - config - INFO - '105560(105560)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:04:01,878 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 14:04:01,883 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:04:01,886 - config - INFO - Vector query 생성 완료.
2025-04-18 14:04:01,887 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:04:01,890 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:04:01,913 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35168'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '8b37557c-1c12-11f0-afce-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:04:02,168 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '8b37557c-1c12-11f0-afce-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:04:02 GMT'
2025-04-18 14:04:02,172 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:04:02,173 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:04:02,384 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 14:04:02,390 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:04:02,392 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:04:03,902 - config - INFO - --- 관계 추출 진행: (005380 vs 012450) (10/10) ---
2025-04-18 14:04:03,905 - config - INFO - '005380(005380)'와 '012450(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:04:04,152 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-04-18 14:04:04,157 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:04:04,161 - config - INFO - Vector query 생성 완료.
2025-04-18 14:04:04,163 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:04:04,165 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:04:04,188 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35193'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '8c9264ac-1c12-11f0-afce-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:04:04,571 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '8c9264ac-1c12-11f0-afce-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:04:04 GMT'
2025-04-18 14:04:04,575 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:04:04,576 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:04:04,798 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 14:04:04,801 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:04:04,802 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:04:06,316 - config - INFO - ===== PART 2: 관계 추출 루프 완료 =====
2025-04-18 14:04:06,319 - config - INFO - 총 0개의 관계 정보 추출 완료.
2025-04-18 14:04:06,320 - config - WARNING - 관계 추출 실패 쌍 (10개): [(('005930', '000660'), 'LLM Call Failed'), (('005930', '105560'), 'LLM Call Failed'), (('005930', '005380'), 'LLM Call Failed'), (('005930', '012450'), 'LLM Call Failed'), (('000660', '105560'), 'LLM Call Failed'), (('000660', '005380'), 'LLM Call Failed'), (('000660', '012450'), 'LLM Call Failed'), (('105560', '005380'), 'LLM Call Failed'), (('105560', '012450'), 'LLM Call Failed'), (('005380', '012450'), 'LLM Call Failed')]...
2025-04-18 14:08:49,111 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-18 14:08:51,704 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-18 14:08:51,765 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 14:08:51,767 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 14:08:51,767 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-18 14:08:54,091 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-18 14:08:54,094 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-18 14:08:54,095 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 14:08:54,097 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 14:08:54,098 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 14:08:54,098 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 14:08:54,102 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '395fc54e-1c13-11f0-9f29-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:08:54,853 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '395fc54e-1c13-11f0-9f29-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:08:54 GMT'
2025-04-18 14:08:54,854 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-18 14:08:54,855 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-18 14:08:57,204 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-18 14:08:57,204 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-18 14:08:57,206 - config - ERROR - 회사 이름 매핑 파일 로드/처리 오류: 'utf-8' codec can't decode byte 0xd0 in position 0: invalid continuation byte
2025-04-18 14:08:57,206 - config - WARNING - 종목 코드를 회사 이름 대신 사용합니다.
2025-04-18 14:11:18,660 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-18 14:11:18,661 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-18 14:11:19,232 - config - ERROR - 회사 이름 매핑 파일 로드/처리 오류: 'cp949' codec can't decode byte 0xb1 in position 5: illegal multibyte sequence
2025-04-18 14:11:19,233 - config - WARNING - 종목 코드를 회사 이름 대신 사용합니다.
2025-04-18 14:11:24,616 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-18 14:11:24,617 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-18 14:11:24,619 - config - ERROR - 회사 이름 매핑 파일 로드/처리 오류: 'cp949' codec can't decode byte 0xb1 in position 5: illegal multibyte sequence
2025-04-18 14:11:24,621 - config - WARNING - 종목 코드를 회사 이름 대신 사용합니다.
2025-04-18 14:11:27,079 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-18 14:11:27,080 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-18 14:11:27,083 - config - ERROR - 회사 이름 매핑 파일 로드/처리 오류: 'cp949' codec can't decode byte 0xb1 in position 5: illegal multibyte sequence
2025-04-18 14:11:27,084 - config - WARNING - 종목 코드를 회사 이름 대신 사용합니다.
2025-04-18 14:12:10,908 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-18 14:12:10,909 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-18 14:12:10,913 - config - ERROR - 회사 이름 매핑 파일 로드/처리 오류: 'euc_kr' codec can't decode byte 0xb1 in position 5: illegal multibyte sequence
2025-04-18 14:12:10,913 - config - WARNING - 종목 코드를 회사 이름 대신 사용합니다.
2025-04-18 14:12:40,153 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-18 14:12:40,154 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-18 14:12:40,156 - config - ERROR - 회사 이름 매핑 파일 로드/처리 오류: 'cp949' codec can't decode byte 0xb1 in position 5: illegal multibyte sequence
2025-04-18 14:12:40,157 - config - WARNING - 종목 코드를 회사 이름 대신 사용합니다.
2025-04-18 14:24:49,321 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-18 14:24:49,322 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-18 14:24:52,460 - config - INFO - 회사 이름 매핑 로드 성공: 100개 기업
2025-04-18 14:25:27,814 - config - INFO - ===== PART 2 준비: 관계 추출 함수 정의 =====
2025-04-18 14:25:33,764 - config - INFO - ===== PART 3 준비: Matrix 생성 함수 정의 (구현 필요) =====
2025-04-18 14:25:44,759 - config - INFO - ===== PART 2 준비: 관계 추출 함수 정의 =====
2025-04-18 14:26:00,762 - config - INFO - ===== PART 2: 관계 추출 루프 시작 =====
2025-04-18 14:26:00,764 - config - INFO - 총 10개의 기업 쌍에 대해 관계 추출 시작...
2025-04-18 14:26:00,765 - config - WARNING - 테스트 실행 모드: 최대 10개의 기업 쌍만 처리합니다.
2025-04-18 14:26:00,768 - config - INFO - --- 관계 추출 진행: (005930 vs 000660) (1/10) ---
2025-04-18 14:26:00,768 - config - INFO - '삼성전자(005930)'와 'SK하이닉스(000660)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:26:04,731 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 14:26:04,736 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:26:04,738 - config - INFO - Vector query 생성 완료.
2025-04-18 14:26:04,740 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:26:04,744 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:26:04,765 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35258'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '9fb290fe-1c15-11f0-9f29-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:26:05,929 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '9fb290fe-1c15-11f0-9f29-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:26:05 GMT'
2025-04-18 14:26:05,933 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:26:05,936 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:26:06,232 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 400 Bad Request"
2025-04-18 14:26:06,238 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:26:06,239 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:26:07,747 - config - INFO - --- 관계 추출 진행: (005930 vs 105560) (2/10) ---
2025-04-18 14:26:07,749 - config - INFO - '삼성전자(005930)'와 'KB금융(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:26:07,976 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 14:26:07,980 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:26:07,983 - config - INFO - Vector query 생성 완료.
2025-04-18 14:26:07,985 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:26:07,988 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:26:08,012 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35227'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'a1a20778-1c15-11f0-9f29-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:26:08,281 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'a1a20778-1c15-11f0-9f29-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:26:08 GMT'
2025-04-18 14:26:08,286 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:26:08,293 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:26:08,498 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 400 Bad Request"
2025-04-18 14:26:08,499 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:26:08,499 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:26:10,009 - config - INFO - --- 관계 추출 진행: (005930 vs 005380) (3/10) ---
2025-04-18 14:26:10,014 - config - INFO - '삼성전자(005930)'와 '현대차(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:26:10,369 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 14:26:10,373 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:26:10,375 - config - INFO - Vector query 생성 완료.
2025-04-18 14:26:10,378 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:26:10,379 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:26:10,404 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35232'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'a30f07aa-1c15-11f0-9f29-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:26:10,741 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'a30f07aa-1c15-11f0-9f29-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:26:10 GMT'
2025-04-18 14:26:10,744 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:26:10,745 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:26:10,945 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 400 Bad Request"
2025-04-18 14:26:10,948 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:26:10,949 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:26:12,462 - config - INFO - --- 관계 추출 진행: (005930 vs 012450) (4/10) ---
2025-04-18 14:26:12,464 - config - INFO - '삼성전자(005930)'와 '한화에어로스페이스(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:26:12,697 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 14:26:12,701 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:26:12,703 - config - INFO - Vector query 생성 완료.
2025-04-18 14:26:12,705 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:26:12,706 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:26:12,731 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35269'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'a47209da-1c15-11f0-9f29-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:26:13,015 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'a47209da-1c15-11f0-9f29-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:26:12 GMT'
2025-04-18 14:26:13,019 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:26:13,021 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:26:13,223 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 400 Bad Request"
2025-04-18 14:26:13,226 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:26:13,227 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:26:14,737 - config - INFO - --- 관계 추출 진행: (000660 vs 105560) (5/10) ---
2025-04-18 14:26:14,739 - config - INFO - 'SK하이닉스(000660)'와 'KB금융(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:26:14,972 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 14:26:14,975 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:26:14,978 - config - INFO - Vector query 생성 완료.
2025-04-18 14:26:14,979 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:26:14,980 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:26:15,003 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35258'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'a5ccb6c2-1c15-11f0-9f29-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:26:15,268 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'a5ccb6c2-1c15-11f0-9f29-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:26:15 GMT'
2025-04-18 14:26:15,273 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:26:15,274 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:26:15,474 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 400 Bad Request"
2025-04-18 14:26:15,478 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:26:15,480 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:26:16,989 - config - INFO - --- 관계 추출 진행: (000660 vs 005380) (6/10) ---
2025-04-18 14:26:16,992 - config - INFO - 'SK하이닉스(000660)'와 '현대차(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:26:17,739 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 14:26:17,741 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:26:17,742 - config - INFO - Vector query 생성 완료.
2025-04-18 14:26:17,744 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:26:17,745 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:26:17,765 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35254'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'a77221ce-1c15-11f0-9f29-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:26:18,265 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'a77221ce-1c15-11f0-9f29-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:26:17 GMT'
2025-04-18 14:26:18,270 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:26:18,272 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:26:18,789 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 400 Bad Request"
2025-04-18 14:26:18,792 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:26:18,793 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:26:20,303 - config - INFO - --- 관계 추출 진행: (000660 vs 012450) (7/10) ---
2025-04-18 14:26:20,307 - config - INFO - 'SK하이닉스(000660)'와 '한화에어로스페이스(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:26:20,885 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 14:26:20,889 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:26:20,891 - config - INFO - Vector query 생성 완료.
2025-04-18 14:26:20,892 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:26:20,894 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:26:20,914 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35297'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'a952b08a-1c15-11f0-9f29-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:26:21,413 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'a952b08a-1c15-11f0-9f29-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:26:21 GMT'
2025-04-18 14:26:21,415 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:26:21,416 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:26:21,735 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 400 Bad Request"
2025-04-18 14:26:21,738 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:26:21,740 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:26:23,253 - config - INFO - --- 관계 추출 진행: (105560 vs 005380) (8/10) ---
2025-04-18 14:26:23,255 - config - INFO - 'KB금융(105560)'와 '현대차(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:26:24,030 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 14:26:24,034 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:26:24,037 - config - INFO - Vector query 생성 완료.
2025-04-18 14:26:24,038 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:26:24,040 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:26:24,060 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35229'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'ab32b706-1c15-11f0-9f29-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:26:24,563 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'ab32b706-1c15-11f0-9f29-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:26:24 GMT'
2025-04-18 14:26:24,566 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:26:24,567 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:26:24,970 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 400 Bad Request"
2025-04-18 14:26:24,973 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:26:24,974 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:26:26,486 - config - INFO - --- 관계 추출 진행: (105560 vs 012450) (9/10) ---
2025-04-18 14:26:26,487 - config - INFO - 'KB금융(105560)'와 '한화에어로스페이스(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:26:26,719 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 14:26:26,725 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:26:26,730 - config - INFO - Vector query 생성 완료.
2025-04-18 14:26:26,732 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:26:26,735 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:26:26,757 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35272'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'acce494a-1c15-11f0-9f29-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:26:27,047 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'acce494a-1c15-11f0-9f29-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:26:26 GMT'
2025-04-18 14:26:27,052 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:26:27,054 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:26:27,256 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 400 Bad Request"
2025-04-18 14:26:27,259 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:26:27,260 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:26:28,772 - config - INFO - --- 관계 추출 진행: (005380 vs 012450) (10/10) ---
2025-04-18 14:26:28,774 - config - INFO - '현대차(005380)'와 '한화에어로스페이스(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:26:29,076 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 14:26:29,078 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:26:29,078 - config - INFO - Vector query 생성 완료.
2025-04-18 14:26:29,079 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:26:29,080 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:26:29,105 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35287'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'ae347fe8-1c15-11f0-9f29-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:26:29,480 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'ae347fe8-1c15-11f0-9f29-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:26:28 GMT'
2025-04-18 14:26:29,485 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:26:29,486 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:26:29,686 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 400 Bad Request"
2025-04-18 14:26:29,688 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:26:29,689 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:26:31,200 - config - INFO - ===== PART 2: 관계 추출 루프 완료 =====
2025-04-18 14:26:31,201 - config - INFO - 총 0개의 관계 정보 추출 완료.
2025-04-18 14:26:31,202 - config - WARNING - 관계 추출 실패 쌍 (10개): [(('005930', '000660'), 'LLM Call Failed'), (('005930', '105560'), 'LLM Call Failed'), (('005930', '005380'), 'LLM Call Failed'), (('005930', '012450'), 'LLM Call Failed'), (('000660', '105560'), 'LLM Call Failed'), (('000660', '005380'), 'LLM Call Failed'), (('000660', '012450'), 'LLM Call Failed'), (('105560', '005380'), 'LLM Call Failed'), (('105560', '012450'), 'LLM Call Failed'), (('005380', '012450'), 'LLM Call Failed')]...
2025-04-18 14:27:09,517 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-18 14:27:09,679 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-18 14:27:09,732 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 14:27:09,734 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 14:27:09,735 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-18 14:27:10,488 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-18 14:27:10,490 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-18 14:27:10,491 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 14:27:10,491 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 14:27:10,492 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 14:27:10,493 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 14:27:10,495 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'c6e01fe8-1c15-11f0-9655-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:27:12,680 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'c6e01fe8-1c15-11f0-9655-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:27:12 GMT'
2025-04-18 14:27:12,682 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-18 14:27:12,683 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-18 14:27:13,740 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-18 14:27:13,741 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-18 14:27:13,804 - config - INFO - 회사 이름 매핑 로드 성공: 100개 기업
2025-04-18 14:27:22,562 - config - INFO - ===== PART 2 준비: 관계 추출 함수 정의 =====
2025-04-18 14:27:23,556 - config - INFO - ===== PART 2: 관계 추출 루프 시작 =====
2025-04-18 14:27:23,556 - config - INFO - 총 10개의 기업 쌍에 대해 관계 추출 시작...
2025-04-18 14:27:23,557 - config - WARNING - 테스트 실행 모드: 최대 10개의 기업 쌍만 처리합니다.
2025-04-18 14:27:23,558 - config - INFO - --- 관계 추출 진행: (005930 vs 000660) (1/10) ---
2025-04-18 14:27:23,558 - config - INFO - '삼성전자(005930)'와 'SK하이닉스(000660)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:27:24,398 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 14:27:24,403 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:27:24,404 - config - INFO - Vector query 생성 완료.
2025-04-18 14:27:24,405 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:27:24,406 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:27:24,426 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35258'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'cf2dc72c-1c15-11f0-9655-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:27:25,436 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'cf2dc72c-1c15-11f0-9655-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:27:25 GMT'
2025-04-18 14:27:25,437 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:27:25,438 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:27:25,700 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 400 Bad Request"
2025-04-18 14:27:25,702 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:27:25,703 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:27:27,214 - config - INFO - --- 관계 추출 진행: (005930 vs 105560) (2/10) ---
2025-04-18 14:27:27,217 - config - INFO - '삼성전자(005930)'와 'KB금융(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:27:27,486 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 14:27:27,490 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:27:27,495 - config - INFO - Vector query 생성 완료.
2025-04-18 14:27:27,496 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:27:27,498 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:27:27,522 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35227'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'd1062bfc-1c15-11f0-9655-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:27:27,807 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd1062bfc-1c15-11f0-9655-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:27:27 GMT'
2025-04-18 14:27:27,812 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:27:27,815 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:27:28,012 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 400 Bad Request"
2025-04-18 14:27:28,015 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:27:28,016 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:27:29,527 - config - INFO - --- 관계 추출 진행: (005930 vs 005380) (3/10) ---
2025-04-18 14:27:29,529 - config - INFO - '삼성전자(005930)'와 '현대차(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:27:29,764 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 14:27:29,768 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:27:29,771 - config - INFO - Vector query 생성 완료.
2025-04-18 14:27:29,772 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:27:29,774 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:27:29,800 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35232'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'd261e41e-1c15-11f0-9655-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:27:30,155 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd261e41e-1c15-11f0-9655-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:27:30 GMT'
2025-04-18 14:27:30,158 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:27:30,162 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:27:30,420 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 400 Bad Request"
2025-04-18 14:27:30,424 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:27:30,426 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:27:31,934 - config - INFO - --- 관계 추출 진행: (005930 vs 012450) (4/10) ---
2025-04-18 14:27:31,936 - config - INFO - '삼성전자(005930)'와 '한화에어로스페이스(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:27:32,204 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 14:27:32,207 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:27:32,209 - config - INFO - Vector query 생성 완료.
2025-04-18 14:27:32,211 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:27:32,213 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:27:32,239 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35269'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'd3d5f9b6-1c15-11f0-9655-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:27:32,522 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd3d5f9b6-1c15-11f0-9655-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:27:32 GMT'
2025-04-18 14:27:32,528 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:27:32,531 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:27:32,725 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 400 Bad Request"
2025-04-18 14:27:32,739 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:27:32,741 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:27:34,258 - config - INFO - --- 관계 추출 진행: (000660 vs 105560) (5/10) ---
2025-04-18 14:27:34,263 - config - INFO - 'SK하이닉스(000660)'와 'KB금융(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:27:34,812 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 14:27:34,815 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:27:34,817 - config - INFO - Vector query 생성 완료.
2025-04-18 14:27:34,818 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:27:34,820 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:27:34,846 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35258'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'd563c04c-1c15-11f0-9655-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:27:35,337 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd563c04c-1c15-11f0-9655-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:27:35 GMT'
2025-04-18 14:27:35,340 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:27:35,341 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:27:35,864 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 400 Bad Request"
2025-04-18 14:27:35,867 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:27:35,869 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:27:37,380 - config - INFO - --- 관계 추출 진행: (000660 vs 005380) (6/10) ---
2025-04-18 14:27:37,383 - config - INFO - 'SK하이닉스(000660)'와 '현대차(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:27:37,606 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 14:27:37,610 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:27:37,612 - config - INFO - Vector query 생성 완료.
2025-04-18 14:27:37,617 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:27:37,618 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:27:37,639 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35254'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'd70df426-1c15-11f0-9655-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:27:37,901 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd70df426-1c15-11f0-9655-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:27:37 GMT'
2025-04-18 14:27:37,905 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:27:37,907 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:27:38,109 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 400 Bad Request"
2025-04-18 14:27:38,111 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:27:38,113 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:27:39,624 - config - INFO - --- 관계 추출 진행: (000660 vs 012450) (7/10) ---
2025-04-18 14:27:39,626 - config - INFO - 'SK하이닉스(000660)'와 '한화에어로스페이스(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:27:39,853 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 14:27:39,857 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:27:39,859 - config - INFO - Vector query 생성 완료.
2025-04-18 14:27:39,860 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:27:39,862 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:27:39,886 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35297'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'd864ddb2-1c15-11f0-9655-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:27:40,167 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd864ddb2-1c15-11f0-9655-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:27:40 GMT'
2025-04-18 14:27:40,170 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:27:40,172 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:27:40,365 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 400 Bad Request"
2025-04-18 14:27:40,368 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:27:40,370 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:27:41,877 - config - INFO - --- 관계 추출 진행: (105560 vs 005380) (8/10) ---
2025-04-18 14:27:41,880 - config - INFO - 'KB금융(105560)'와 '현대차(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:27:42,103 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 14:27:42,106 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:27:42,107 - config - INFO - Vector query 생성 완료.
2025-04-18 14:27:42,109 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:27:42,111 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:27:42,133 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35229'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'd9bbb4ce-1c15-11f0-9655-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:27:42,458 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd9bbb4ce-1c15-11f0-9655-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:27:42 GMT'
2025-04-18 14:27:42,463 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:27:42,464 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:27:42,665 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 400 Bad Request"
2025-04-18 14:27:42,668 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:27:42,669 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:27:44,182 - config - INFO - --- 관계 추출 진행: (105560 vs 012450) (9/10) ---
2025-04-18 14:27:44,184 - config - INFO - 'KB금융(105560)'와 '한화에어로스페이스(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:27:44,431 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 14:27:44,436 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:27:44,438 - config - INFO - Vector query 생성 완료.
2025-04-18 14:27:44,439 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:27:44,441 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:27:44,462 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35272'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'db1f1d92-1c15-11f0-9655-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:27:44,745 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'db1f1d92-1c15-11f0-9655-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:27:44 GMT'
2025-04-18 14:27:44,748 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:27:44,750 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:27:44,982 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 400 Bad Request"
2025-04-18 14:27:44,986 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:27:44,988 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:27:46,498 - config - INFO - --- 관계 추출 진행: (005380 vs 012450) (10/10) ---
2025-04-18 14:27:46,500 - config - INFO - '현대차(005380)'와 '한화에어로스페이스(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 14:27:46,873 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 14:27:46,876 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 14:27:46,877 - config - INFO - Vector query 생성 완료.
2025-04-18 14:27:46,878 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 14:27:46,878 - config - INFO - Search 결과 처리 시작...
2025-04-18 14:27:46,897 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35287'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'dc92a9a0-1c15-11f0-9655-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:27:47,199 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'dc92a9a0-1c15-11f0-9655-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:27:47 GMT'
2025-04-18 14:27:47,203 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 14:27:47,204 - config - INFO - LLM 호출 시작 (배포: gpt-35-turbo)...
2025-04-18 14:27:47,514 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 400 Bad Request"
2025-04-18 14:27:47,517 - config - ERROR - LLM 잘못된 요청 오류: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, gpt-35-turbo. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}. 모델이 JSON 모드를 지원하는지, API 버전이 호환되는지 확인하세요.
2025-04-18 14:27:47,518 - config - WARNING - LLM 호출에 실패했습니다. 다음 쌍으로 건너뜁니다.
2025-04-18 14:27:49,029 - config - INFO - ===== PART 2: 관계 추출 루프 완료 =====
2025-04-18 14:27:49,034 - config - INFO - 총 0개의 관계 정보 추출 완료.
2025-04-18 14:27:49,036 - config - WARNING - 관계 추출 실패 쌍 (10개): [(('005930', '000660'), 'LLM Call Failed'), (('005930', '105560'), 'LLM Call Failed'), (('005930', '005380'), 'LLM Call Failed'), (('005930', '012450'), 'LLM Call Failed'), (('000660', '105560'), 'LLM Call Failed'), (('000660', '005380'), 'LLM Call Failed'), (('000660', '012450'), 'LLM Call Failed'), (('105560', '005380'), 'LLM Call Failed'), (('105560', '012450'), 'LLM Call Failed'), (('005380', '012450'), 'LLM Call Failed')]...
2025-04-18 14:57:49,348 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-18 14:57:50,132 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-18 14:57:50,827 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-18 14:57:50,886 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 14:57:50,888 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 14:57:50,888 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-18 14:57:51,974 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-18 14:57:51,975 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-18 14:57:51,976 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 14:57:51,976 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 14:57:51,977 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 14:57:51,977 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 14:57:51,979 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '107c35c0-1c1a-11f0-b519-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 14:57:52,726 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '107c35c0-1c1a-11f0-b519-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 05:57:52 GMT'
2025-04-18 14:57:52,730 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-18 14:57:52,733 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-18 14:57:59,299 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-18 14:57:59,299 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-18 14:57:59,395 - config - INFO - 회사 이름 매핑 로드 성공: 100개 기업
2025-04-18 14:58:08,072 - config - INFO - ===== PART 2 준비: 관계 추출 함수 정의 (Batch API용) =====
2025-04-18 14:58:12,126 - config - INFO - ===== PART 2: 관계 추출 Batch API 워크플로우 시작 =====
2025-04-18 14:58:12,128 - config - INFO - 총 10개의 기업 쌍에 대해 Batch 입력 생성 시작...
2025-04-18 14:58:12,128 - config - INFO - Batch 입력 파일 생성 중: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/batch_input_20250418_145812.jsonl
2025-04-18 14:58:12,129 - config - INFO - 입력 데이터 생성 중... (1/10): 005930 vs 000660
2025-04-18 14:58:12,129 - config - INFO - '삼성전자(005930)' vs 'SK하이닉스(000660)' 관련 청크 검색 (Top 5)...
2025-04-18 14:58:12,129 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 14:58:12,130 - config - INFO - 입력 데이터 생성 중... (2/10): 005930 vs 105560
2025-04-18 14:58:12,130 - config - INFO - '삼성전자(005930)' vs 'KB금융(105560)' 관련 청크 검색 (Top 5)...
2025-04-18 14:58:12,130 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 14:58:12,131 - config - INFO - 입력 데이터 생성 중... (3/10): 005930 vs 005380
2025-04-18 14:58:12,131 - config - INFO - '삼성전자(005930)' vs '현대차(005380)' 관련 청크 검색 (Top 5)...
2025-04-18 14:58:12,131 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 14:58:12,132 - config - INFO - 입력 데이터 생성 중... (4/10): 005930 vs 012450
2025-04-18 14:58:12,132 - config - INFO - '삼성전자(005930)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 14:58:12,132 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 14:58:12,133 - config - INFO - 입력 데이터 생성 중... (5/10): 000660 vs 105560
2025-04-18 14:58:12,134 - config - INFO - 'SK하이닉스(000660)' vs 'KB금융(105560)' 관련 청크 검색 (Top 5)...
2025-04-18 14:58:12,134 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 14:58:12,134 - config - INFO - 입력 데이터 생성 중... (6/10): 000660 vs 005380
2025-04-18 14:58:12,135 - config - INFO - 'SK하이닉스(000660)' vs '현대차(005380)' 관련 청크 검색 (Top 5)...
2025-04-18 14:58:12,135 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 14:58:12,135 - config - INFO - 입력 데이터 생성 중... (7/10): 000660 vs 012450
2025-04-18 14:58:12,136 - config - INFO - 'SK하이닉스(000660)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 14:58:12,137 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 14:58:12,137 - config - INFO - 입력 데이터 생성 중... (8/10): 105560 vs 005380
2025-04-18 14:58:12,138 - config - INFO - 'KB금융(105560)' vs '현대차(005380)' 관련 청크 검색 (Top 5)...
2025-04-18 14:58:12,138 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 14:58:12,138 - config - INFO - 입력 데이터 생성 중... (9/10): 105560 vs 012450
2025-04-18 14:58:12,139 - config - INFO - 'KB금융(105560)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 14:58:12,139 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 14:58:12,139 - config - INFO - 입력 데이터 생성 중... (10/10): 005380 vs 012450
2025-04-18 14:58:12,139 - config - INFO - '현대차(005380)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 14:58:12,140 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 14:58:12,140 - config - INFO - Batch 입력 파일 생성 완료. 총 10개 요청 작성.
2025-04-18 14:58:12,141 - config - INFO - 생성된 Batch 입력 파일 업로드 시작...
2025-04-18 14:58:13,716 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/files?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 14:58:13,718 - config - ERROR - Batch 입력 파일 업로드 오류: Error code: 400 - {'error': {'code': 'invalidPayload', 'message': 'Invalid value for purpose.'}}
2025-04-18 14:58:13,722 - config - INFO - 임시 파일 정리 시도...
2025-04-18 14:58:13,723 - config - INFO - 로컬 입력 파일 삭제됨: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/batch_input_20250418_145812.jsonl
2025-04-18 14:58:13,724 - config - INFO - ===== PART 2: 관계 추출 Batch API 워크플로우 완료 =====
2025-04-18 15:00:10,591 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-18 15:00:11,453 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-18 15:00:11,533 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 15:00:11,535 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 15:00:11,535 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-18 15:00:12,449 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-18 15:00:12,451 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-18 15:00:12,453 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:00:12,454 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:00:12,454 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:00:12,455 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:00:12,457 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '643792fe-1c1a-11f0-a6b0-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 15:00:13,188 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '643792fe-1c1a-11f0-a6b0-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 06:00:12 GMT'
2025-04-18 15:00:13,192 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-18 15:00:13,195 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-18 15:00:14,036 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-18 15:00:14,036 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-18 15:00:14,120 - config - INFO - 회사 이름 매핑 로드 성공: 100개 기업
2025-04-18 15:00:31,990 - config - INFO - ===== PART 2 준비: 관계 추출 함수 정의 (Batch API용) =====
2025-04-18 15:00:34,520 - config - INFO - ===== PART 2: 관계 추출 Batch API 워크플로우 시작 =====
2025-04-18 15:00:34,522 - config - INFO - 총 10개의 기업 쌍에 대해 Batch 입력 생성 시작...
2025-04-18 15:00:34,524 - config - INFO - Batch 입력 파일 생성 중: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/batch_input_20250418_150034.jsonl
2025-04-18 15:00:34,526 - config - INFO - 입력 데이터 생성 중... (1/10): 005930 vs 000660
2025-04-18 15:00:34,527 - config - INFO - '삼성전자(005930)' vs 'SK하이닉스(000660)' 관련 청크 검색 (Top 5)...
2025-04-18 15:00:34,527 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:00:34,528 - config - INFO - 입력 데이터 생성 중... (2/10): 005930 vs 105560
2025-04-18 15:00:34,528 - config - INFO - '삼성전자(005930)' vs 'KB금융(105560)' 관련 청크 검색 (Top 5)...
2025-04-18 15:00:34,529 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:00:34,530 - config - INFO - 입력 데이터 생성 중... (3/10): 005930 vs 005380
2025-04-18 15:00:34,530 - config - INFO - '삼성전자(005930)' vs '현대차(005380)' 관련 청크 검색 (Top 5)...
2025-04-18 15:00:34,531 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:00:34,532 - config - INFO - 입력 데이터 생성 중... (4/10): 005930 vs 012450
2025-04-18 15:00:34,533 - config - INFO - '삼성전자(005930)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 15:00:34,533 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:00:34,534 - config - INFO - 입력 데이터 생성 중... (5/10): 000660 vs 105560
2025-04-18 15:00:34,534 - config - INFO - 'SK하이닉스(000660)' vs 'KB금융(105560)' 관련 청크 검색 (Top 5)...
2025-04-18 15:00:34,535 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:00:34,535 - config - INFO - 입력 데이터 생성 중... (6/10): 000660 vs 005380
2025-04-18 15:00:34,536 - config - INFO - 'SK하이닉스(000660)' vs '현대차(005380)' 관련 청크 검색 (Top 5)...
2025-04-18 15:00:34,536 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:00:34,537 - config - INFO - 입력 데이터 생성 중... (7/10): 000660 vs 012450
2025-04-18 15:00:34,537 - config - INFO - 'SK하이닉스(000660)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 15:00:34,538 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:00:34,538 - config - INFO - 입력 데이터 생성 중... (8/10): 105560 vs 005380
2025-04-18 15:00:34,539 - config - INFO - 'KB금융(105560)' vs '현대차(005380)' 관련 청크 검색 (Top 5)...
2025-04-18 15:00:34,539 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:00:34,539 - config - INFO - 입력 데이터 생성 중... (9/10): 105560 vs 012450
2025-04-18 15:00:34,540 - config - INFO - 'KB금융(105560)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 15:00:34,540 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:00:34,540 - config - INFO - 입력 데이터 생성 중... (10/10): 005380 vs 012450
2025-04-18 15:00:34,541 - config - INFO - '현대차(005380)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 15:00:34,542 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:00:34,542 - config - INFO - Batch 입력 파일 생성 완료. 총 10개 요청 작성.
2025-04-18 15:00:34,542 - config - INFO - 생성된 Batch 입력 파일 업로드 시작...
2025-04-18 15:00:35,935 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/files?api-version=2024-02-01 "HTTP/1.1 400 Bad Request"
2025-04-18 15:00:35,937 - config - ERROR - Batch 입력 파일 업로드 오류: Error code: 400 - {'error': {'code': 'invalidPayload', 'message': 'Invalid value for purpose.'}}
2025-04-18 15:00:35,942 - config - INFO - 임시 파일 정리 시도...
2025-04-18 15:00:35,943 - config - INFO - 로컬 입력 파일 삭제됨: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/batch_input_20250418_150034.jsonl
2025-04-18 15:00:35,943 - config - INFO - ===== PART 2: 관계 추출 Batch API 워크플로우 완료 =====
2025-04-18 15:03:43,726 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-18 15:04:00,975 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-18 15:04:00,977 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-18 15:04:00,980 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:04:00,980 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:04:00,981 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:04:00,981 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:04:00,983 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'ec6de178-1c1a-11f0-8636-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 15:04:04,856 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'ec6de178-1c1a-11f0-8636-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 06:04:04 GMT'
2025-04-18 15:04:04,858 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-18 15:04:04,859 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-18 15:04:04,881 - config - INFO - 종목 코드 100개 로드됨.
2025-04-18 15:04:05,966 - config - INFO - --- 단일 기업 테스트 시작: 005930 ---
2025-04-18 15:04:45,795 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-18 15:04:46,845 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-18 15:04:46,917 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 15:04:46,919 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 15:04:46,919 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-18 15:04:47,946 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-18 15:04:47,951 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-18 15:04:47,958 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:04:47,991 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:04:47,993 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:04:48,003 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:04:48,005 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '0874db42-1c1b-11f0-b8a7-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 15:04:48,748 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '0874db42-1c1b-11f0-b8a7-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 06:04:48 GMT'
2025-04-18 15:04:48,753 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-18 15:04:48,757 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-18 15:04:49,618 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-18 15:04:49,619 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-18 15:04:49,715 - config - INFO - 회사 이름 매핑 로드 성공: 100개 기업
2025-04-18 15:04:54,774 - config - INFO - ===== PART 2 준비: 관계 추출 함수 정의 (Batch API용) =====
2025-04-18 15:04:56,166 - config - INFO - ===== PART 2: 관계 추출 Batch API 워크플로우 시작 =====
2025-04-18 15:04:56,167 - config - INFO - 총 10개의 기업 쌍에 대해 Batch 입력 생성 시작...
2025-04-18 15:04:56,168 - config - INFO - Batch 입력 파일 생성 중: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/batch_input_20250418_150456.jsonl
2025-04-18 15:04:56,170 - config - INFO - 입력 데이터 생성 중... (1/10): 005930 vs 000660
2025-04-18 15:04:56,170 - config - INFO - '삼성전자(005930)' vs 'SK하이닉스(000660)' 관련 청크 검색 (Top 5)...
2025-04-18 15:04:56,170 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:04:56,171 - config - INFO - 입력 데이터 생성 중... (2/10): 005930 vs 105560
2025-04-18 15:04:56,172 - config - INFO - '삼성전자(005930)' vs 'KB금융(105560)' 관련 청크 검색 (Top 5)...
2025-04-18 15:04:56,173 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:04:56,174 - config - INFO - 입력 데이터 생성 중... (3/10): 005930 vs 005380
2025-04-18 15:04:56,176 - config - INFO - '삼성전자(005930)' vs '현대차(005380)' 관련 청크 검색 (Top 5)...
2025-04-18 15:04:56,177 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:04:56,178 - config - INFO - 입력 데이터 생성 중... (4/10): 005930 vs 012450
2025-04-18 15:04:56,179 - config - INFO - '삼성전자(005930)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 15:04:56,180 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:04:56,180 - config - INFO - 입력 데이터 생성 중... (5/10): 000660 vs 105560
2025-04-18 15:04:56,180 - config - INFO - 'SK하이닉스(000660)' vs 'KB금융(105560)' 관련 청크 검색 (Top 5)...
2025-04-18 15:04:56,181 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:04:56,181 - config - INFO - 입력 데이터 생성 중... (6/10): 000660 vs 005380
2025-04-18 15:04:56,181 - config - INFO - 'SK하이닉스(000660)' vs '현대차(005380)' 관련 청크 검색 (Top 5)...
2025-04-18 15:04:56,182 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:04:56,182 - config - INFO - 입력 데이터 생성 중... (7/10): 000660 vs 012450
2025-04-18 15:04:56,182 - config - INFO - 'SK하이닉스(000660)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 15:04:56,183 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:04:56,183 - config - INFO - 입력 데이터 생성 중... (8/10): 105560 vs 005380
2025-04-18 15:04:56,184 - config - INFO - 'KB금융(105560)' vs '현대차(005380)' 관련 청크 검색 (Top 5)...
2025-04-18 15:04:56,184 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:04:56,184 - config - INFO - 입력 데이터 생성 중... (9/10): 105560 vs 012450
2025-04-18 15:04:56,185 - config - INFO - 'KB금융(105560)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 15:04:56,185 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:04:56,185 - config - INFO - 입력 데이터 생성 중... (10/10): 005380 vs 012450
2025-04-18 15:04:56,185 - config - INFO - '현대차(005380)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 15:04:56,186 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:04:56,186 - config - INFO - Batch 입력 파일 생성 완료. 총 10개 요청 작성.
2025-04-18 15:04:56,187 - config - INFO - 생성된 Batch 입력 파일 업로드 시작...
2025-04-18 15:05:56,732 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/files?api-version=2024-12-01-preview "HTTP/1.1 201 Created"
2025-04-18 15:05:56,738 - config - INFO - Batch 입력 파일 업로드 성공. File ID: file-ff7f14d4d16347dc8591c572cc739838
2025-04-18 15:05:56,739 - config - INFO - Batch 작업 생성 시작...
2025-04-18 15:05:57,377 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/batches?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:05:57,389 - config - INFO - Batch 작업 생성 성공. Job ID: batch_e2cb073a-ffd5-424d-a792-1c282e2c66c3
2025-04-18 15:05:57,391 - config - INFO - Batch 작업 (batch_e2cb073a-ffd5-424d-a792-1c282e2c66c3) 완료 대기 시작...
2025-04-18 15:05:57,687 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_e2cb073a-ffd5-424d-a792-1c282e2c66c3?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:05:57,691 - config - INFO - Batch 작업 상태 확인: validating (경과 시간: 0초)
2025-04-18 15:07:01,985 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_e2cb073a-ffd5-424d-a792-1c282e2c66c3?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:07:01,995 - config - INFO - Batch 작업 상태 확인: failed (경과 시간: 65초)
2025-04-18 15:07:01,996 - config - ERROR - Batch 작업 실패 또는 종료. 상태: failed
2025-04-18 15:07:01,997 - config - ERROR - Batch 작업 오류 정보: model_not_found - A valid model deployment name could not be extracted from the input file. Please ensure that each row in the input file has a valid deployment name specified in the 'model' field, and that the deployment name is consistent across all rows. Learn more: https://aka.ms/aoai_batch/errors.
2025-04-18 15:07:02,001 - config - INFO - 임시 파일 정리 시도...
2025-04-18 15:07:02,003 - config - INFO - 로컬 입력 파일 삭제됨: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/batch_input_20250418_150456.jsonl
2025-04-18 15:07:02,004 - config - INFO - ===== PART 2: 관계 추출 Batch API 워크플로우 완료 =====
2025-04-18 15:13:00,589 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-18 15:13:01,157 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-18 15:13:01,217 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 15:13:01,219 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 15:13:01,220 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-18 15:13:02,395 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-18 15:13:02,396 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-18 15:13:02,397 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:13:02,397 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:13:02,398 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:13:02,398 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:13:02,401 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '2f239da4-1c1c-11f0-932b-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 15:13:03,134 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '2f239da4-1c1c-11f0-932b-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 06:13:03 GMT'
2025-04-18 15:13:03,135 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-18 15:13:03,136 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-18 15:13:04,322 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-18 15:13:04,323 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-18 15:13:04,414 - config - INFO - 회사 이름 매핑 로드 성공: 100개 기업
2025-04-18 15:13:10,373 - config - INFO - ===== PART 2 준비: 관계 추출 함수 정의 (Batch API용) =====
2025-04-18 15:13:11,629 - config - INFO - ===== PART 2: 관계 추출 Batch API 워크플로우 시작 =====
2025-04-18 15:13:11,630 - config - INFO - 총 10개의 기업 쌍에 대해 Batch 입력 생성 시작...
2025-04-18 15:13:11,631 - config - INFO - Batch 입력 파일 생성 중: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/batch_input_20250418_151311.jsonl
2025-04-18 15:13:11,632 - config - INFO - 입력 데이터 생성 중... (1/10): 005930 vs 000660
2025-04-18 15:13:11,632 - config - INFO - '삼성전자(005930)' vs 'SK하이닉스(000660)' 관련 청크 검색 (Top 5)...
2025-04-18 15:13:11,633 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:13:11,633 - config - INFO - 입력 데이터 생성 중... (2/10): 005930 vs 105560
2025-04-18 15:13:11,634 - config - INFO - '삼성전자(005930)' vs 'KB금융(105560)' 관련 청크 검색 (Top 5)...
2025-04-18 15:13:11,635 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:13:11,635 - config - INFO - 입력 데이터 생성 중... (3/10): 005930 vs 005380
2025-04-18 15:13:11,636 - config - INFO - '삼성전자(005930)' vs '현대차(005380)' 관련 청크 검색 (Top 5)...
2025-04-18 15:13:11,637 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:13:11,637 - config - INFO - 입력 데이터 생성 중... (4/10): 005930 vs 012450
2025-04-18 15:13:11,637 - config - INFO - '삼성전자(005930)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 15:13:11,638 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:13:11,638 - config - INFO - 입력 데이터 생성 중... (5/10): 000660 vs 105560
2025-04-18 15:13:11,638 - config - INFO - 'SK하이닉스(000660)' vs 'KB금융(105560)' 관련 청크 검색 (Top 5)...
2025-04-18 15:13:11,639 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:13:11,639 - config - INFO - 입력 데이터 생성 중... (6/10): 000660 vs 005380
2025-04-18 15:13:11,639 - config - INFO - 'SK하이닉스(000660)' vs '현대차(005380)' 관련 청크 검색 (Top 5)...
2025-04-18 15:13:11,639 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:13:11,640 - config - INFO - 입력 데이터 생성 중... (7/10): 000660 vs 012450
2025-04-18 15:13:11,640 - config - INFO - 'SK하이닉스(000660)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 15:13:11,640 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:13:11,641 - config - INFO - 입력 데이터 생성 중... (8/10): 105560 vs 005380
2025-04-18 15:13:11,641 - config - INFO - 'KB금융(105560)' vs '현대차(005380)' 관련 청크 검색 (Top 5)...
2025-04-18 15:13:11,641 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:13:11,642 - config - INFO - 입력 데이터 생성 중... (9/10): 105560 vs 012450
2025-04-18 15:13:11,642 - config - INFO - 'KB금융(105560)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 15:13:11,642 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:13:11,643 - config - INFO - 입력 데이터 생성 중... (10/10): 005380 vs 012450
2025-04-18 15:13:11,644 - config - INFO - '현대차(005380)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 15:13:11,644 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:13:11,645 - config - INFO - Batch 입력 파일 생성 완료. 총 10개 요청 작성.
2025-04-18 15:13:11,646 - config - INFO - 생성된 Batch 입력 파일 업로드 시작...
2025-04-18 15:13:12,857 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/files?api-version=2024-12-01-preview "HTTP/1.1 201 Created"
2025-04-18 15:13:12,861 - config - INFO - Batch 입력 파일 업로드 성공. File ID: file-e789da1d3278423c804507f5592db657
2025-04-18 15:13:12,865 - config - INFO - Batch 작업 생성 시작...
2025-04-18 15:13:13,491 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/batches?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:13:13,500 - config - INFO - Batch 작업 생성 성공. Job ID: batch_8ee87f46-d217-47a4-8d1b-4a9bdd62b691
2025-04-18 15:13:13,502 - config - INFO - Batch 작업 (batch_8ee87f46-d217-47a4-8d1b-4a9bdd62b691) 완료 대기 시작...
2025-04-18 15:13:13,759 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_8ee87f46-d217-47a4-8d1b-4a9bdd62b691?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:13:13,766 - config - INFO - Batch 작업 상태 확인: validating (경과 시간: 0초)
2025-04-18 15:14:17,906 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_8ee87f46-d217-47a4-8d1b-4a9bdd62b691?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:14:17,913 - config - INFO - Batch 작업 상태 확인: validating (경과 시간: 64초)
2025-04-18 15:15:22,158 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_8ee87f46-d217-47a4-8d1b-4a9bdd62b691?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:15:22,167 - config - INFO - Batch 작업 상태 확인: failed (경과 시간: 129초)
2025-04-18 15:15:22,168 - config - ERROR - Batch 작업 실패 또는 종료. 상태: failed
2025-04-18 15:15:22,169 - config - ERROR - Batch 작업 오류 정보: url_mismatch - The URL provided for requests in input file '/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview' does not match the expected batch endpoint url '/chat/completions'. Please ensure that the URLs match and try again. Learn more: https://aka.ms/aoai_batch/errors.
2025-04-18 15:15:22,174 - config - INFO - 임시 파일 정리 시도...
2025-04-18 15:15:22,176 - config - INFO - 로컬 입력 파일 삭제됨: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/batch_input_20250418_151311.jsonl
2025-04-18 15:15:22,177 - config - INFO - ===== PART 2: 관계 추출 Batch API 워크플로우 완료 =====
2025-04-18 15:18:53,415 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-18 15:18:54,047 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-18 15:18:54,138 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 15:18:54,140 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 15:18:54,141 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-18 15:18:54,883 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-18 15:18:54,885 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-18 15:18:54,886 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:18:54,887 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:18:54,888 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:18:54,888 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:18:54,891 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '013d4dee-1c1d-11f0-a3b4-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 15:18:55,659 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '013d4dee-1c1d-11f0-a3b4-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 06:18:55 GMT'
2025-04-18 15:18:55,664 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-18 15:18:55,667 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-18 15:18:56,632 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-18 15:18:56,633 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-18 15:18:56,739 - config - INFO - 회사 이름 매핑 로드 성공: 100개 기업
2025-04-18 15:19:02,413 - config - INFO - ===== PART 2 준비: 관계 추출 함수 정의 (Batch API용) =====
2025-04-18 15:19:04,092 - config - INFO - ===== PART 2: 관계 추출 Batch API 워크플로우 시작 =====
2025-04-18 15:19:04,093 - config - INFO - 총 10개의 기업 쌍에 대해 Batch 입력 생성 시작...
2025-04-18 15:19:04,095 - config - INFO - Batch 입력 파일 생성 중: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/batch_input_20250418_151904.jsonl
2025-04-18 15:19:04,096 - config - INFO - 입력 데이터 생성 중... (1/10): 005930 vs 000660
2025-04-18 15:19:04,098 - config - INFO - '삼성전자(005930)' vs 'SK하이닉스(000660)' 관련 청크 검색 (Top 5)...
2025-04-18 15:19:04,098 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:19:04,099 - config - INFO - 입력 데이터 생성 중... (2/10): 005930 vs 105560
2025-04-18 15:19:04,099 - config - INFO - '삼성전자(005930)' vs 'KB금융(105560)' 관련 청크 검색 (Top 5)...
2025-04-18 15:19:04,100 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:19:04,101 - config - INFO - 입력 데이터 생성 중... (3/10): 005930 vs 005380
2025-04-18 15:19:04,101 - config - INFO - '삼성전자(005930)' vs '현대차(005380)' 관련 청크 검색 (Top 5)...
2025-04-18 15:19:04,102 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:19:04,104 - config - INFO - 입력 데이터 생성 중... (4/10): 005930 vs 012450
2025-04-18 15:19:04,106 - config - INFO - '삼성전자(005930)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 15:19:04,106 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:19:04,107 - config - INFO - 입력 데이터 생성 중... (5/10): 000660 vs 105560
2025-04-18 15:19:04,107 - config - INFO - 'SK하이닉스(000660)' vs 'KB금융(105560)' 관련 청크 검색 (Top 5)...
2025-04-18 15:19:04,107 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:19:04,108 - config - INFO - 입력 데이터 생성 중... (6/10): 000660 vs 005380
2025-04-18 15:19:04,108 - config - INFO - 'SK하이닉스(000660)' vs '현대차(005380)' 관련 청크 검색 (Top 5)...
2025-04-18 15:19:04,109 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:19:04,109 - config - INFO - 입력 데이터 생성 중... (7/10): 000660 vs 012450
2025-04-18 15:19:04,109 - config - INFO - 'SK하이닉스(000660)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 15:19:04,110 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:19:04,112 - config - INFO - 입력 데이터 생성 중... (8/10): 105560 vs 005380
2025-04-18 15:19:04,112 - config - INFO - 'KB금융(105560)' vs '현대차(005380)' 관련 청크 검색 (Top 5)...
2025-04-18 15:19:04,112 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:19:04,113 - config - INFO - 입력 데이터 생성 중... (9/10): 105560 vs 012450
2025-04-18 15:19:04,113 - config - INFO - 'KB금융(105560)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 15:19:04,113 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:19:04,114 - config - INFO - 입력 데이터 생성 중... (10/10): 005380 vs 012450
2025-04-18 15:19:04,114 - config - INFO - '현대차(005380)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 15:19:04,114 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:19:04,115 - config - INFO - Batch 입력 파일 생성 완료. 총 10개 요청 작성.
2025-04-18 15:19:04,120 - config - INFO - 생성된 Batch 입력 파일 업로드 시작...
2025-04-18 15:19:05,397 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/files?api-version=2024-12-01-preview "HTTP/1.1 201 Created"
2025-04-18 15:19:05,400 - config - INFO - Batch 입력 파일 업로드 성공. File ID: file-f2f4d7772d9d470cb8ec8d3e4e700987
2025-04-18 15:19:05,401 - config - INFO - Batch 작업 생성 시작...
2025-04-18 15:19:06,017 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/batches?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:19:06,025 - config - INFO - Batch 작업 생성 성공. Job ID: batch_67b66c56-c358-4084-8881-db04cf4b9b77
2025-04-18 15:19:06,028 - config - INFO - Batch 작업 (batch_67b66c56-c358-4084-8881-db04cf4b9b77) 완료 대기 시작...
2025-04-18 15:19:06,490 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_67b66c56-c358-4084-8881-db04cf4b9b77?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:19:06,494 - config - INFO - Batch 작업 상태 확인: validating (경과 시간: 0초)
2025-04-18 15:20:10,909 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_67b66c56-c358-4084-8881-db04cf4b9b77?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:20:10,918 - config - INFO - Batch 작업 상태 확인: failed (경과 시간: 65초)
2025-04-18 15:20:10,920 - config - ERROR - Batch 작업 실패 또는 종료. 상태: failed
2025-04-18 15:20:10,921 - config - ERROR - Batch 작업 오류 정보: url_mismatch - The URL provided for requests in input file '/chat/completions?api-version=2024-12-01-preview' does not match the expected batch endpoint url '/chat/completions'. Please ensure that the URLs match and try again. Learn more: https://aka.ms/aoai_batch/errors.
2025-04-18 15:20:10,925 - config - INFO - 임시 파일 정리 시도...
2025-04-18 15:20:10,927 - config - INFO - 로컬 입력 파일 삭제됨: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/batch_input_20250418_151904.jsonl
2025-04-18 15:20:10,928 - config - INFO - ===== PART 2: 관계 추출 Batch API 워크플로우 완료 =====
2025-04-18 15:24:06,224 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-18 15:24:06,230 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-18 15:24:06,272 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 15:24:06,274 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 15:24:06,274 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-18 15:24:07,144 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-18 15:24:07,145 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-18 15:24:07,146 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:24:07,146 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:24:07,147 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:24:07,147 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:24:07,150 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'bb5c38f2-1c1d-11f0-af72-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 15:24:09,366 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'bb5c38f2-1c1d-11f0-af72-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 06:24:09 GMT'
2025-04-18 15:24:09,368 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-18 15:24:09,369 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-18 15:24:09,553 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-18 15:24:09,553 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-18 15:24:09,647 - config - INFO - 회사 이름 매핑 로드 성공: 100개 기업
2025-04-18 15:24:13,831 - config - INFO - ===== PART 2 준비: 관계 추출 함수 정의 (Batch API용) =====
2025-04-18 15:24:14,850 - config - INFO - ===== PART 2: 관계 추출 Batch API 워크플로우 시작 =====
2025-04-18 15:24:14,852 - config - INFO - 총 10개의 기업 쌍에 대해 Batch 입력 생성 시작...
2025-04-18 15:24:14,853 - config - INFO - Batch 입력 파일 생성 중: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/batch_input_20250418_152414.jsonl
2025-04-18 15:24:14,854 - config - INFO - 입력 데이터 생성 중... (1/10): 005930 vs 000660
2025-04-18 15:24:14,854 - config - INFO - '삼성전자(005930)' vs 'SK하이닉스(000660)' 관련 청크 검색 (Top 5)...
2025-04-18 15:24:14,855 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:24:14,856 - config - INFO - 입력 데이터 생성 중... (2/10): 005930 vs 105560
2025-04-18 15:24:14,857 - config - INFO - '삼성전자(005930)' vs 'KB금융(105560)' 관련 청크 검색 (Top 5)...
2025-04-18 15:24:14,858 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:24:14,859 - config - INFO - 입력 데이터 생성 중... (3/10): 005930 vs 005380
2025-04-18 15:24:14,860 - config - INFO - '삼성전자(005930)' vs '현대차(005380)' 관련 청크 검색 (Top 5)...
2025-04-18 15:24:14,861 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:24:14,861 - config - INFO - 입력 데이터 생성 중... (4/10): 005930 vs 012450
2025-04-18 15:24:14,862 - config - INFO - '삼성전자(005930)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 15:24:14,862 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:24:14,863 - config - INFO - 입력 데이터 생성 중... (5/10): 000660 vs 105560
2025-04-18 15:24:14,863 - config - INFO - 'SK하이닉스(000660)' vs 'KB금융(105560)' 관련 청크 검색 (Top 5)...
2025-04-18 15:24:14,864 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:24:14,865 - config - INFO - 입력 데이터 생성 중... (6/10): 000660 vs 005380
2025-04-18 15:24:14,865 - config - INFO - 'SK하이닉스(000660)' vs '현대차(005380)' 관련 청크 검색 (Top 5)...
2025-04-18 15:24:14,865 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:24:14,866 - config - INFO - 입력 데이터 생성 중... (7/10): 000660 vs 012450
2025-04-18 15:24:14,874 - config - INFO - 'SK하이닉스(000660)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 15:24:14,880 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:24:14,883 - config - INFO - 입력 데이터 생성 중... (8/10): 105560 vs 005380
2025-04-18 15:24:14,886 - config - INFO - 'KB금융(105560)' vs '현대차(005380)' 관련 청크 검색 (Top 5)...
2025-04-18 15:24:14,888 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:24:14,892 - config - INFO - 입력 데이터 생성 중... (9/10): 105560 vs 012450
2025-04-18 15:24:14,894 - config - INFO - 'KB금융(105560)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 15:24:14,895 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:24:14,896 - config - INFO - 입력 데이터 생성 중... (10/10): 005380 vs 012450
2025-04-18 15:24:14,897 - config - INFO - '현대차(005380)' vs '한화에어로스페이스(012450)' 관련 청크 검색 (Top 5)...
2025-04-18 15:24:14,897 - config - WARNING - retrieve_relevant_chunks 함수 구현 필요. 임시 데이터를 반환합니다.
2025-04-18 15:24:14,898 - config - INFO - Batch 입력 파일 생성 완료. 총 10개 요청 작성.
2025-04-18 15:24:14,898 - config - INFO - 생성된 Batch 입력 파일 업로드 시작...
2025-04-18 15:24:16,167 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/files?api-version=2024-12-01-preview "HTTP/1.1 201 Created"
2025-04-18 15:24:16,172 - config - INFO - Batch 입력 파일 업로드 성공. File ID: file-3dc565e6a7464c5898bb0c6ad2a11e10
2025-04-18 15:24:16,174 - config - INFO - Batch 작업 생성 시작...
2025-04-18 15:24:16,660 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/batches?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:24:16,663 - config - INFO - Batch 작업 생성 성공. Job ID: batch_80d2e395-a3f4-493f-9abc-d80e37531d37
2025-04-18 15:24:16,664 - config - INFO - Batch 작업 (batch_80d2e395-a3f4-493f-9abc-d80e37531d37) 완료 대기 시작...
2025-04-18 15:24:16,893 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_80d2e395-a3f4-493f-9abc-d80e37531d37?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:24:16,902 - config - INFO - Batch 작업 상태 확인: validating (경과 시간: 0초)
2025-04-18 15:25:21,513 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_80d2e395-a3f4-493f-9abc-d80e37531d37?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:25:21,519 - config - INFO - Batch 작업 상태 확인: validating (경과 시간: 65초)
2025-04-18 15:26:25,550 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_80d2e395-a3f4-493f-9abc-d80e37531d37?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:26:25,560 - config - INFO - Batch 작업 상태 확인: validating (경과 시간: 129초)
2025-04-18 15:27:29,546 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_80d2e395-a3f4-493f-9abc-d80e37531d37?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:27:29,551 - config - INFO - Batch 작업 상태 확인: validating (경과 시간: 193초)
2025-04-18 15:28:33,579 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_80d2e395-a3f4-493f-9abc-d80e37531d37?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:28:33,584 - config - INFO - Batch 작업 상태 확인: validating (경과 시간: 257초)
2025-04-18 15:29:37,583 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_80d2e395-a3f4-493f-9abc-d80e37531d37?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:29:37,588 - config - INFO - Batch 작업 상태 확인: in_progress (경과 시간: 321초)
2025-04-18 15:30:41,582 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_80d2e395-a3f4-493f-9abc-d80e37531d37?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:30:41,587 - config - INFO - Batch 작업 상태 확인: in_progress (경과 시간: 385초)
2025-04-18 15:31:45,587 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_80d2e395-a3f4-493f-9abc-d80e37531d37?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:31:45,591 - config - INFO - Batch 작업 상태 확인: in_progress (경과 시간: 449초)
2025-04-18 15:32:49,543 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_80d2e395-a3f4-493f-9abc-d80e37531d37?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:32:49,549 - config - INFO - Batch 작업 상태 확인: in_progress (경과 시간: 513초)
2025-04-18 15:33:53,673 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_80d2e395-a3f4-493f-9abc-d80e37531d37?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:33:53,679 - config - INFO - Batch 작업 상태 확인: finalizing (경과 시간: 577초)
2025-04-18 15:34:57,696 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_80d2e395-a3f4-493f-9abc-d80e37531d37?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:34:57,701 - config - INFO - Batch 작업 상태 확인: completed (경과 시간: 641초)
2025-04-18 15:34:57,703 - config - INFO - Batch 작업 성공적으로 완료!
2025-04-18 15:34:57,707 - config - INFO - Batch 결과 파일 다운로드 시작 (File ID: file-c65b6fa0-aaf5-4d2d-bba6-bad2a2b758b1)...
2025-04-18 15:34:58,060 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/files/file-c65b6fa0-aaf5-4d2d-bba6-bad2a2b758b1/content?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:34:58,065 - config - INFO - Batch 결과 파일 다운로드 성공.
2025-04-18 15:34:58,067 - config - INFO - Batch 결과 처리 및 파싱 시작...
2025-04-18 15:34:58,070 - config - INFO - LLM 응답 파싱 시도...
2025-04-18 15:34:58,074 - config - INFO - JSON 코드 블록 추출.
2025-04-18 15:34:58,076 - config - INFO - LLM 파싱 성공
2025-04-18 15:34:58,078 - config - INFO - LLM 응답 파싱 시도...
2025-04-18 15:34:58,079 - config - INFO - JSON 코드 블록 추출.
2025-04-18 15:34:58,080 - config - INFO - LLM 파싱 성공
2025-04-18 15:34:58,081 - config - INFO - LLM 응답 파싱 시도...
2025-04-18 15:34:58,082 - config - INFO - JSON 코드 블록 추출.
2025-04-18 15:34:58,082 - config - INFO - LLM 파싱 성공
2025-04-18 15:34:58,083 - config - INFO - LLM 응답 파싱 시도...
2025-04-18 15:34:58,084 - config - INFO - JSON 코드 블록 추출.
2025-04-18 15:34:58,084 - config - INFO - LLM 파싱 성공
2025-04-18 15:34:58,085 - config - INFO - LLM 응답 파싱 시도...
2025-04-18 15:34:58,091 - config - INFO - JSON 코드 블록 추출.
2025-04-18 15:34:58,093 - config - INFO - LLM 파싱 성공
2025-04-18 15:34:58,093 - config - INFO - LLM 응답 파싱 시도...
2025-04-18 15:34:58,094 - config - INFO - JSON 코드 블록 추출.
2025-04-18 15:34:58,094 - config - INFO - LLM 파싱 성공
2025-04-18 15:34:58,095 - config - INFO - LLM 응답 파싱 시도...
2025-04-18 15:34:58,095 - config - INFO - JSON 코드 블록 추출.
2025-04-18 15:34:58,096 - config - INFO - LLM 파싱 성공
2025-04-18 15:34:58,096 - config - INFO - LLM 응답 파싱 시도...
2025-04-18 15:34:58,097 - config - INFO - JSON 코드 블록 추출.
2025-04-18 15:34:58,097 - config - INFO - LLM 파싱 성공
2025-04-18 15:34:58,098 - config - INFO - LLM 응답 파싱 시도...
2025-04-18 15:34:58,098 - config - INFO - JSON 코드 블록 추출.
2025-04-18 15:34:58,099 - config - INFO - LLM 파싱 성공
2025-04-18 15:34:58,099 - config - INFO - LLM 응답 파싱 시도...
2025-04-18 15:34:58,100 - config - INFO - JSON 코드 블록 추출.
2025-04-18 15:34:58,100 - config - INFO - LLM 파싱 성공
2025-04-18 15:34:58,100 - config - INFO - Batch 결과 처리 완료. 총 10개 관계 정보 성공적으로 파싱 및 저장.
2025-04-18 15:34:58,101 - config - INFO - 임시 파일 정리 시도...
2025-04-18 15:34:58,102 - config - INFO - 로컬 입력 파일 삭제됨: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/batch_input_20250418_152414.jsonl
2025-04-18 15:34:58,103 - config - INFO - ===== PART 2: 관계 추출 Batch API 워크플로우 완료 =====
2025-04-18 15:52:23,686 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-18 15:52:24,307 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-18 15:52:24,373 - config - INFO - Azure OpenAI 클라이언트 초기화 성공
2025-04-18 15:52:24,374 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-18 15:52:24,375 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-18 15:52:25,292 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-18 15:52:25,295 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 시도...
2025-04-18 15:52:25,295 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:52:25,296 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:52:25,297 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:52:25,297 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-18 15:52:25,300 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '927'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'af896dc0-1c21-11f0-b045-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 15:52:26,020 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'af896dc0-1c21-11f0-b045-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 06:52:25 GMT'
2025-04-18 15:52:26,024 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 생성 또는 업데이트 완료.
2025-04-18 15:52:26,029 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-18 15:52:26,812 - config - INFO - 파일에서 종목 코드 100개 로드됨.
2025-04-18 15:52:26,812 - config - INFO - 처리 대상 종목 코드 5개 선택됨 (최대 5개).
2025-04-18 15:52:26,901 - config - INFO - 회사 이름 매핑 로드 성공: 100개 기업
2025-04-18 15:52:32,092 - config - INFO - ===== PART 2 준비: 관계 추출 함수 정의 (실제 구현) =====
2025-04-18 15:52:33,439 - config - INFO - ===== PART 2: 관계 추출 Batch API 워크플로우 시작 =====
2025-04-18 15:52:33,441 - config - INFO - 총 10개의 기업 쌍에 대해 Batch 입력 생성 시작...
2025-04-18 15:52:33,441 - config - INFO - Batch 입력 파일 생성 중: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/batch_input_20250418_155233.jsonl
2025-04-18 15:52:33,442 - config - INFO - 입력 데이터 생성 중... (1/10): 005930 vs 000660
2025-04-18 15:52:33,443 - config - INFO - '삼성전자(005930)' vs 'SK하이닉스(000660)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 15:52:34,358 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:52:34,360 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 15:52:34,360 - config - INFO - Vector query 생성 완료.
2025-04-18 15:52:34,361 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 15:52:34,361 - config - INFO - Search 결과 처리 시작...
2025-04-18 15:52:34,376 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34945'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'b4f25d62-1c21-11f0-b045-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 15:52:35,413 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'b4f25d62-1c21-11f0-b045-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 06:52:34 GMT'
2025-04-18 15:52:35,416 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 15:52:35,418 - config - INFO - 입력 데이터 생성 중... (2/10): 005930 vs 105560
2025-04-18 15:52:35,419 - config - INFO - '삼성전자(005930)' vs 'KB금융(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 15:52:35,654 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:52:35,657 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 15:52:35,659 - config - INFO - Vector query 생성 완료.
2025-04-18 15:52:35,661 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 15:52:35,663 - config - INFO - Search 결과 처리 시작...
2025-04-18 15:52:35,684 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34901'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'b5b9eb2a-1c21-11f0-b045-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 15:52:35,937 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'b5b9eb2a-1c21-11f0-b045-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 06:52:35 GMT'
2025-04-18 15:52:35,940 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 15:52:35,943 - config - INFO - 입력 데이터 생성 중... (3/10): 005930 vs 005380
2025-04-18 15:52:35,946 - config - INFO - '삼성전자(005930)' vs '현대차(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 15:52:36,174 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:52:36,180 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 15:52:36,182 - config - INFO - Vector query 생성 완료.
2025-04-18 15:52:36,183 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 15:52:36,187 - config - INFO - Search 결과 처리 시작...
2025-04-18 15:52:36,209 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34894'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'b60a1276-1c21-11f0-b045-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 15:52:36,463 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'b60a1276-1c21-11f0-b045-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 06:52:35 GMT'
2025-04-18 15:52:36,466 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 15:52:36,471 - config - INFO - 입력 데이터 생성 중... (4/10): 005930 vs 012450
2025-04-18 15:52:36,472 - config - INFO - '삼성전자(005930)' vs '한화에어로스페이스(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 15:52:36,699 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:52:36,704 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 15:52:36,706 - config - INFO - Vector query 생성 완료.
2025-04-18 15:52:36,710 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 15:52:36,711 - config - INFO - Search 결과 처리 시작...
2025-04-18 15:52:36,731 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34974'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'b659bc9a-1c21-11f0-b045-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 15:52:36,989 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'b659bc9a-1c21-11f0-b045-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 06:52:36 GMT'
2025-04-18 15:52:36,992 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 15:52:36,994 - config - INFO - 입력 데이터 생성 중... (5/10): 000660 vs 105560
2025-04-18 15:52:36,995 - config - INFO - 'SK하이닉스(000660)' vs 'KB금융(105560)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 15:52:37,221 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:52:37,224 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 15:52:37,229 - config - INFO - Vector query 생성 완료.
2025-04-18 15:52:37,230 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 15:52:37,232 - config - INFO - Search 결과 처리 시작...
2025-04-18 15:52:37,252 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34935'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'b6a92b5e-1c21-11f0-b045-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 15:52:37,518 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'b6a92b5e-1c21-11f0-b045-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 06:52:36 GMT'
2025-04-18 15:52:37,520 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 15:52:37,521 - config - INFO - 입력 데이터 생성 중... (6/10): 000660 vs 005380
2025-04-18 15:52:37,522 - config - INFO - 'SK하이닉스(000660)' vs '현대차(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 15:52:37,747 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:52:37,752 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 15:52:37,754 - config - INFO - Vector query 생성 완료.
2025-04-18 15:52:37,755 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 15:52:37,756 - config - INFO - Search 결과 처리 시작...
2025-04-18 15:52:37,775 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34971'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'b6f8f396-1c21-11f0-b045-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 15:52:38,032 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'b6f8f396-1c21-11f0-b045-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 06:52:38 GMT'
2025-04-18 15:52:38,034 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 15:52:38,035 - config - INFO - 입력 데이터 생성 중... (7/10): 000660 vs 012450
2025-04-18 15:52:38,036 - config - INFO - 'SK하이닉스(000660)' vs '한화에어로스페이스(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 15:52:38,263 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:52:38,269 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 15:52:38,272 - config - INFO - Vector query 생성 완료.
2025-04-18 15:52:38,273 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 15:52:38,275 - config - INFO - Search 결과 처리 시작...
2025-04-18 15:52:38,299 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34966'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'b748dbb8-1c21-11f0-b045-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 15:52:38,559 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'b748dbb8-1c21-11f0-b045-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 06:52:38 GMT'
2025-04-18 15:52:38,563 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 15:52:38,564 - config - INFO - 입력 데이터 생성 중... (8/10): 105560 vs 005380
2025-04-18 15:52:38,567 - config - INFO - 'KB금융(105560)' vs '현대차(005380)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 15:52:38,803 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:52:38,808 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 15:52:38,810 - config - INFO - Vector query 생성 완료.
2025-04-18 15:52:38,811 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 15:52:38,813 - config - INFO - Search 결과 처리 시작...
2025-04-18 15:52:38,837 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34981'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'b79af6d2-1c21-11f0-b045-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 15:52:39,131 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'b79af6d2-1c21-11f0-b045-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 06:52:39 GMT'
2025-04-18 15:52:39,134 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 15:52:39,136 - config - INFO - 입력 데이터 생성 중... (9/10): 105560 vs 012450
2025-04-18 15:52:39,137 - config - INFO - 'KB금융(105560)' vs '한화에어로스페이스(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 15:52:39,360 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:52:39,364 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 15:52:39,367 - config - INFO - Vector query 생성 완료.
2025-04-18 15:52:39,369 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 15:52:39,371 - config - INFO - Search 결과 처리 시작...
2025-04-18 15:52:39,392 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34904'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'b7efaf60-1c21-11f0-b045-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 15:52:39,646 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'b7efaf60-1c21-11f0-b045-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 06:52:39 GMT'
2025-04-18 15:52:39,649 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 15:52:39,651 - config - INFO - 입력 데이터 생성 중... (10/10): 005380 vs 012450
2025-04-18 15:52:39,653 - config - INFO - '현대차(005380)' vs '한화에어로스페이스(012450)' 관련 청크 검색 시작 (Top 5)...
2025-04-18 15:52:39,887 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:52:39,889 - config - INFO - 쿼리 텍스트 임베딩 생성 성공.
2025-04-18 15:52:39,890 - config - INFO - Vector query 생성 완료.
2025-04-18 15:52:39,890 - config - INFO - Azure AI Search API 호출 시작...
2025-04-18 15:52:39,891 - config - INFO - Search 결과 처리 시작...
2025-04-18 15:52:39,909 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34974'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'b83e933c-1c21-11f0-b045-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-18 15:52:40,162 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'b83e933c-1c21-11f0-b045-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 18 Apr 2025 06:52:40 GMT'
2025-04-18 15:52:40,166 - config - INFO - 관련 청크 5개 검색 및 중복 제거 완료 (처리된 결과 수: 5).
2025-04-18 15:52:40,169 - config - INFO - Batch 입력 파일 생성 완료. 총 10개 요청 작성.
2025-04-18 15:52:40,170 - config - INFO - 생성된 Batch 입력 파일 업로드 시작...
2025-04-18 15:52:41,039 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/files?api-version=2024-12-01-preview "HTTP/1.1 201 Created"
2025-04-18 15:52:41,040 - config - INFO - Batch 입력 파일 업로드 성공. File ID: file-ab94136ef60046a3ae25ee253c5c1d9b
2025-04-18 15:52:41,041 - config - INFO - Batch 작업 생성 시작...
2025-04-18 15:52:42,020 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/batches?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:52:42,028 - config - INFO - Batch 작업 생성 성공. Job ID: batch_e8766fff-bd23-488b-b83f-219b912d99ea
2025-04-18 15:52:42,030 - config - INFO - Batch 작업 (batch_e8766fff-bd23-488b-b83f-219b912d99ea) 완료 대기 시작...
2025-04-18 15:52:42,270 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_e8766fff-bd23-488b-b83f-219b912d99ea?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:52:42,295 - config - INFO - Batch 작업 상태 확인: validating (경과 시간: 0초)
2025-04-18 15:53:43,142 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_e8766fff-bd23-488b-b83f-219b912d99ea?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:53:43,148 - config - INFO - Batch 작업 상태 확인: validating (경과 시간: 61초)
2025-04-18 15:54:47,110 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_e8766fff-bd23-488b-b83f-219b912d99ea?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:54:47,115 - config - INFO - Batch 작업 상태 확인: validating (경과 시간: 125초)
2025-04-18 15:55:51,197 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_e8766fff-bd23-488b-b83f-219b912d99ea?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:55:51,202 - config - INFO - Batch 작업 상태 확인: validating (경과 시간: 189초)
2025-04-18 15:56:55,134 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_e8766fff-bd23-488b-b83f-219b912d99ea?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:56:55,139 - config - INFO - Batch 작업 상태 확인: in_progress (경과 시간: 253초)
2025-04-18 15:57:59,109 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_e8766fff-bd23-488b-b83f-219b912d99ea?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:57:59,114 - config - INFO - Batch 작업 상태 확인: in_progress (경과 시간: 317초)
2025-04-18 15:59:03,022 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_e8766fff-bd23-488b-b83f-219b912d99ea?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 15:59:03,026 - config - INFO - Batch 작업 상태 확인: in_progress (경과 시간: 381초)
2025-04-18 16:00:06,990 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_e8766fff-bd23-488b-b83f-219b912d99ea?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 16:00:06,994 - config - INFO - Batch 작업 상태 확인: finalizing (경과 시간: 445초)
2025-04-18 16:01:11,119 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/batches/batch_e8766fff-bd23-488b-b83f-219b912d99ea?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 16:01:11,125 - config - INFO - Batch 작업 상태 확인: completed (경과 시간: 509초)
2025-04-18 16:01:11,127 - config - INFO - Batch 작업 성공적으로 완료!
2025-04-18 16:01:11,129 - config - INFO - Batch 결과 파일 다운로드 시작 (File ID: file-0fbb21a2-79b1-47c8-8271-081fa2f3ac1c)...
2025-04-18 16:01:12,607 - httpx - INFO - HTTP Request: GET https://gptapi0417.openai.azure.com/openai/files/file-0fbb21a2-79b1-47c8-8271-081fa2f3ac1c/content?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-18 16:01:12,612 - config - INFO - Batch 결과 파일 다운로드 성공.
2025-04-18 16:01:12,613 - config - INFO - Batch 결과 처리 및 파싱 시작...
2025-04-18 16:01:12,617 - config - INFO - LLM 응답 파싱 시도...
2025-04-18 16:01:12,619 - config - INFO - JSON 코드 블록에서 내용 추출.
2025-04-18 16:01:12,621 - config - INFO - LLM 응답 파싱 및 구조 검증 성공
2025-04-18 16:01:12,622 - config - INFO - LLM 응답 파싱 시도...
2025-04-18 16:01:12,624 - config - INFO - JSON 코드 블록에서 내용 추출.
2025-04-18 16:01:12,625 - config - INFO - LLM 응답 파싱 및 구조 검증 성공
2025-04-18 16:01:12,626 - config - INFO - LLM 응답 파싱 시도...
2025-04-18 16:01:12,626 - config - INFO - JSON 코드 블록에서 내용 추출.
2025-04-18 16:01:12,627 - config - INFO - LLM 응답 파싱 및 구조 검증 성공
2025-04-18 16:01:12,628 - config - INFO - LLM 응답 파싱 시도...
2025-04-18 16:01:12,629 - config - INFO - JSON 코드 블록에서 내용 추출.
2025-04-18 16:01:12,631 - config - INFO - LLM 응답 파싱 및 구조 검증 성공
2025-04-18 16:01:12,632 - config - INFO - LLM 응답 파싱 시도...
2025-04-18 16:01:12,633 - config - INFO - JSON 코드 블록에서 내용 추출.
2025-04-18 16:01:12,634 - config - INFO - LLM 응답 파싱 및 구조 검증 성공
2025-04-18 16:01:12,634 - config - INFO - LLM 응답 파싱 시도...
2025-04-18 16:01:12,635 - config - INFO - JSON 코드 블록에서 내용 추출.
2025-04-18 16:01:12,636 - config - INFO - LLM 응답 파싱 및 구조 검증 성공
2025-04-18 16:01:12,637 - config - INFO - LLM 응답 파싱 시도...
2025-04-18 16:01:12,637 - config - INFO - JSON 코드 블록에서 내용 추출.
2025-04-18 16:01:12,638 - config - INFO - LLM 응답 파싱 및 구조 검증 성공
2025-04-18 16:01:12,638 - config - INFO - LLM 응답 파싱 시도...
2025-04-18 16:01:12,638 - config - INFO - JSON 코드 블록에서 내용 추출.
2025-04-18 16:01:12,639 - config - INFO - LLM 응답 파싱 및 구조 검증 성공
2025-04-18 16:01:12,639 - config - INFO - LLM 응답 파싱 시도...
2025-04-18 16:01:12,640 - config - INFO - JSON 코드 블록에서 내용 추출.
2025-04-18 16:01:12,640 - config - INFO - LLM 응답 파싱 및 구조 검증 성공
2025-04-18 16:01:12,641 - config - INFO - LLM 응답 파싱 시도...
2025-04-18 16:01:12,641 - config - INFO - JSON 코드 블록에서 내용 추출.
2025-04-18 16:01:12,642 - config - INFO - LLM 응답 파싱 및 구조 검증 성공
2025-04-18 16:01:12,642 - config - INFO - Batch 결과 처리 완료. 총 10개 관계 정보 성공적으로 파싱 및 저장.
2025-04-18 16:01:12,643 - config - INFO - 임시 파일 정리 시도...
2025-04-18 16:01:12,644 - config - INFO - 로컬 입력 파일 삭제됨: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/batch_input_20250418_155233.jsonl
2025-04-18 16:01:12,644 - config - INFO - ===== PART 2: 관계 추출 Batch API 워크플로우 완료 =====
2025-04-18 16:47:55,302 - config - INFO - ===== PART 3 준비: Matrix 생성 함수 정의 =====
2025-04-18 16:48:09,946 - config - INFO - ===== PART 3: 인접 행렬 생성 및 저장 시작 =====
2025-04-18 16:48:09,949 - config - INFO - 추출된 관계(10개 쌍) 기반 ['Competition', 'Ownership', 'Supply'] 인접 행렬 생성 시작 (연결강도 사용: False)...
2025-04-18 16:48:09,956 - config - INFO - 인접 행렬 생성 완료 (7개 관계 값 설정). 생성된 행렬 종류: ['Competition', 'Ownership', 'Supply']
2025-04-18 16:48:09,961 - config - INFO - 인접 행렬 저장 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/output_matrices/Competition_adj_matrix_5x5.npz
2025-04-18 16:48:09,962 - config - INFO - 'Competition' 인접 행렬 저장 완료 (파일: /Users/nsj/Desktop/kospi_relation_rag_pipeline/output_matrices/Competition_adj_matrix_5x5.npz, 값 개수: 2)
2025-04-18 16:48:09,964 - config - INFO - 인접 행렬 저장 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/output_matrices/Ownership_adj_matrix_5x5.npz
2025-04-18 16:48:09,965 - config - INFO - 'Ownership' 인접 행렬 저장 완료 (파일: /Users/nsj/Desktop/kospi_relation_rag_pipeline/output_matrices/Ownership_adj_matrix_5x5.npz, 값 개수: 5)
2025-04-18 16:48:09,965 - config - WARNING - 'Supply' 관계 정보가 없어 해당 행렬을 저장하지 않습니다 (모든 값이 0).
2025-04-18 16:48:09,966 - config - INFO - --- 총 2개의 인접 행렬 저장 완료 ---
2025-04-18 16:48:09,966 - config - INFO - ===== 전체 파이프라인 노트북 실행 완료 =====
2025-04-18 16:50:40,100 - config - INFO - ===== 생성된 인접 행렬 내용 확인 =====
2025-04-18 16:50:40,103 - config - INFO - --- 행렬: Competition (크기: (5, 5), 값 개수: 2) ---
2025-04-18 16:50:40,107 - config - INFO - --- 행렬: Ownership (크기: (5, 5), 값 개수: 5) ---
2025-04-18 16:50:40,108 - config - INFO - --- 행렬: Supply (크기: (5, 5), 값 개수: 0) ---
2025-04-19 17:17:58,419 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-19 17:18:08,672 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-19 17:18:08,780 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-19 17:18:08,869 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-19 17:18:08,870 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-19 17:18:12,428 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-19 17:18:12,465 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-19 17:18:12,468 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-19 17:18:12,475 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-19 17:18:12,617 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-19 17:18:12,619 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-19 17:18:12,619 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:18:12,620 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:18:12,620 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:18:12,621 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:18:12,621 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:18:12,621 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:18:12,621 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:18:12,622 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:18:12,622 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:18:12,622 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:18:12,623 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:18:12,623 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:18:12,623 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:18:12,624 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:18:12,626 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'd5fecf4c-1cf6-11f0-94af-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-19 17:18:14,390 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 201
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'ETag': '"0x8DD7F1ABB3439DF"'
    'Location': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd5fecf4c-1cf6-11f0-94af-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Sat, 19 Apr 2025 08:18:14 GMT'
2025-04-19 17:18:14,391 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-19 17:18:14,392 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-19 17:18:14,952 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-19 17:18:14,952 - config - INFO - 테스트 대상 기업 설정: ['005930']
2025-04-19 17:18:14,953 - config - WARNING - 최종적으로 회사 이름(한글) 매핑 로드에 실패했습니다.
2025-04-19 17:18:14,964 - config - INFO - ===== PART 1: 데이터 인덱싱 시작 (1개 기업) =====
2025-04-19 17:18:14,966 - config - INFO - --- 인덱싱 시작 (단일 기업): 005930(005930) ---
2025-04-19 17:18:14,970 - config - INFO - PDF 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/005930.pdf
2025-04-19 17:18:14,970 - config - INFO - DI 클라이언트 초기화 성공
2025-04-19 17:18:14,971 - config - INFO - 바이트 데이터 분석 시작 (콘텐츠 길이: 7263840)
2025-04-19 17:18:14,971 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED&outputContentFormat=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Length': '7263840'
    'content-type': 'application/octet-stream'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'd764b07c-1cf6-11f0-94af-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-19 17:18:19,490 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 202
Response headers:
    'Content-Length': '0'
    'Operation-Location': 'REDACTED'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Sat, 19 Apr 2025 08:18:18 GMT'
2025-04-19 17:18:19,493 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/7ce40d77-2101-49c3-9733-6ff6ecd57f7c?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'd764b07c-1cf6-11f0-94af-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-19 17:18:19,873 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Sat, 19 Apr 2025 08:18:18 GMT'
2025-04-19 17:18:20,881 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/7ce40d77-2101-49c3-9733-6ff6ecd57f7c?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'd764b07c-1cf6-11f0-94af-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-19 17:18:21,140 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Sat, 19 Apr 2025 08:18:20 GMT'
2025-04-19 17:18:22,146 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/7ce40d77-2101-49c3-9733-6ff6ecd57f7c?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'd764b07c-1cf6-11f0-94af-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-19 17:18:22,489 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Sat, 19 Apr 2025 08:18:21 GMT'
2025-04-19 17:18:23,494 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/7ce40d77-2101-49c3-9733-6ff6ecd57f7c?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'd764b07c-1cf6-11f0-94af-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-19 17:18:23,858 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Sat, 19 Apr 2025 08:18:22 GMT'
2025-04-19 17:18:24,860 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/7ce40d77-2101-49c3-9733-6ff6ecd57f7c?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'd764b07c-1cf6-11f0-94af-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-19 17:18:35,608 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '3042398'
    'Content-Type': 'application/json; charset=utf-8'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Sat, 19 Apr 2025 08:18:24 GMT'
2025-04-19 17:18:36,596 - config - INFO - DI 분석 완료 (바이트 데이터)
2025-04-19 17:18:37,110 - config - INFO - 타겟 정보 추출 및 포맷팅 시작...
2025-04-19 17:18:37,111 - config - ERROR - --- 처리 중 예외 발생 (005930): module 'core.document_processor' has no attribute 'extract_and_format_targeted_data' ---
2025-04-19 17:18:37,113 - config - INFO - --- 인덱싱 완료: 005930 (상태: 예외 발생, 처리된 청크 수: 0) ---
2025-04-19 17:18:37,114 - config - INFO - ===== PART 1: 데이터 인덱싱 완료 =====
2025-04-19 17:28:34,922 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-19 17:28:42,991 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-19 17:28:43,079 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-19 17:28:43,165 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-19 17:28:43,166 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-19 17:28:48,669 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-19 17:28:48,672 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-19 17:28:48,674 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:28:48,675 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:28:48,676 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:28:48,677 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:28:48,678 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:28:48,679 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:28:48,679 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:28:48,680 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:28:48,680 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:28:48,681 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:28:48,683 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:28:48,683 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:28:48,684 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:28:48,684 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 17:28:48,692 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '511eb04c-1cf8-11f0-930b-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-19 17:28:49,601 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '511eb04c-1cf8-11f0-930b-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Sat, 19 Apr 2025 08:28:49 GMT'
2025-04-19 17:28:49,605 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-19 17:28:49,606 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-19 17:28:59,527 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-19 17:28:59,528 - config - INFO - 테스트 대상 기업 설정: ['005930']
2025-04-19 17:28:59,529 - config - WARNING - 최종적으로 회사 이름(한글) 매핑 로드에 실패했습니다.
2025-04-19 17:43:31,978 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-19 17:43:31,980 - config - INFO - 테스트 대상 기업 설정: ['005930']
2025-04-19 17:43:32,198 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-19 17:43:32,199 - config - INFO - DEBUG: 엑셀에서 읽어온 컬럼명: ['stock_code', 'company_name_ko', 'company_name_en']
2025-04-19 17:43:32,206 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-19 17:43:32,207 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-19 17:43:54,951 - config - INFO - ===== PART 1: 데이터 인덱싱 시작 (1개 기업) =====
2025-04-19 17:43:54,954 - config - INFO - --- 인덱싱 시작 (단일 기업): 삼성전자(005930) ---
2025-04-19 17:43:54,958 - config - INFO - PDF 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/005930.pdf
2025-04-19 17:43:54,960 - config - ERROR - DI 클라이언트 초기화 실패: name 'DocumentIntelligenceClient' is not defined
2025-04-19 17:43:54,960 - config - ERROR - DI 클라이언트 초기화 실패 또는 분석할 콘텐츠 없음.
2025-04-19 17:43:55,466 - config - ERROR - DI 분석 실패. 종료합니다.
2025-04-19 17:43:55,468 - config - INFO - --- 인덱싱 완료: 005930 (상태: DI 실패, 처리된 청크 수: 0) ---
2025-04-19 17:43:55,470 - config - INFO - ===== PART 1: 데이터 인덱싱 완료 =====
2025-04-19 18:00:37,888 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-19 18:00:41,784 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-19 18:00:41,853 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-19 18:00:41,942 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-19 18:00:41,943 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-19 18:00:44,735 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-19 18:00:44,741 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-19 18:00:44,744 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 18:00:44,745 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 18:00:44,746 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 18:00:44,748 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 18:00:44,749 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 18:00:44,750 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 18:00:44,751 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 18:00:44,752 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 18:00:44,754 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 18:00:44,755 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 18:00:44,756 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 18:00:44,756 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 18:00:44,757 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 18:00:44,758 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-19 18:00:44,764 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'c7301eac-1cfc-11f0-800c-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-19 18:00:46,070 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'c7301eac-1cfc-11f0-800c-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Sat, 19 Apr 2025 09:00:45 GMT'
2025-04-19 18:00:46,072 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-19 18:00:46,073 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-19 18:00:53,242 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-19 18:00:53,243 - config - INFO - 테스트 대상 기업 설정: ['005930']
2025-04-19 18:00:53,351 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-19 18:00:53,352 - config - INFO - DEBUG: 엑셀에서 읽어온 컬럼명: ['stock_code', 'company_name_ko', 'company_name_en']
2025-04-19 18:00:53,353 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-19 18:00:53,354 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-19 18:00:57,579 - config - INFO - ===== PART 1: 데이터 인덱싱 시작 (1개 기업) =====
2025-04-19 18:00:57,582 - config - INFO - --- 인덱싱 시작 (단일 기업): 삼성전자(005930) ---
2025-04-19 18:00:57,586 - config - INFO - PDF 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/005930.pdf
2025-04-19 18:00:57,587 - config - INFO - DI 클라이언트 초기화 성공
2025-04-19 18:00:57,588 - config - INFO - Document Intelligence 분석 시작 (콘텐츠 길이: 7263840)...
2025-04-19 18:00:57,589 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Length': '7263840'
    'content-type': 'application/octet-stream'
    'Accept': 'application/json'
    'x-ms-client-request-id': 'ced50c94-1cfc-11f0-800c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-19 18:01:04,481 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 202
Response headers:
    'Content-Length': '0'
    'Operation-Location': 'REDACTED'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Sat, 19 Apr 2025 09:01:03 GMT'
2025-04-19 18:01:04,484 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/d6aa16a6-8d78-4c64-bfd8-23a2b47237e1?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'ced50c94-1cfc-11f0-800c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-19 18:01:04,723 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Sat, 19 Apr 2025 09:01:04 GMT'
2025-04-19 18:01:05,728 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/d6aa16a6-8d78-4c64-bfd8-23a2b47237e1?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'ced50c94-1cfc-11f0-800c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-19 18:01:06,000 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Sat, 19 Apr 2025 09:01:05 GMT'
2025-04-19 18:01:07,006 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/d6aa16a6-8d78-4c64-bfd8-23a2b47237e1?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'ced50c94-1cfc-11f0-800c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-19 18:01:07,303 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Sat, 19 Apr 2025 09:01:06 GMT'
2025-04-19 18:01:08,311 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/d6aa16a6-8d78-4c64-bfd8-23a2b47237e1?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'ced50c94-1cfc-11f0-800c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-19 18:01:08,619 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Sat, 19 Apr 2025 09:01:07 GMT'
2025-04-19 18:01:09,625 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/d6aa16a6-8d78-4c64-bfd8-23a2b47237e1?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': 'ced50c94-1cfc-11f0-800c-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-19 18:01:20,163 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '3007705'
    'Content-Type': 'application/json; charset=utf-8'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Sat, 19 Apr 2025 09:01:09 GMT'
2025-04-19 18:01:21,207 - config - INFO - Document Intelligence 분석 완료.
2025-04-19 18:01:21,720 - config - INFO - 타겟 정보 추출 및 포맷팅 시작...
2025-04-19 18:01:21,722 - config - INFO - '/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/005930.pdf'(삼성전자) 구조/콘텐츠 기반 정보 추출 시작...
2025-04-19 18:01:21,723 - config - INFO - 총 46개 테이블 발견. 타겟 테이블 처리...
2025-04-19 18:01:21,748 - config - INFO - '주주명/관계/지분율' 테이블 파싱 성공 (16 행, Page: 14, TableIdx: 38)
2025-04-19 18:01:21,756 - config - INFO - '관계사 현황' 추정 테이블 발견 (Table Index: 28, Page: 7)
2025-04-19 18:01:21,776 - config - INFO - '관계사 현황' 추정 테이블 발견 (Table Index: 29, Page: 8)
2025-04-19 18:01:21,784 - config - INFO - '경쟁사 비교' 테이블 발견 (Table Index: 11, Page: 2)
2025-04-19 18:01:21,790 - config - INFO - '경쟁사 비교' 테이블 발견 (Table Index: 44, Page: 17)
2025-04-19 18:01:21,791 - config - INFO - '경쟁사 비교' 테이블 발견 (Table Index: 45, Page: 17)
2025-04-19 18:01:21,792 - config - INFO - 총 2806개 문단에서 관련 정보 검색...
2025-04-19 18:01:21,822 - config - INFO - '/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/005930.pdf'에서 최종 88개 구조화된 데이터 조각 추출 완료.
2025-04-19 18:01:21,823 - config - INFO - 타겟 정보 추출 완료: 88개 데이터 조각 생성
2025-04-19 18:01:21,823 - config - INFO - 임베딩 생성 시작 (총 88개 조각)...
2025-04-19 18:01:22,773 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:23,074 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:23,334 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:23,595 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:23,854 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:24,121 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:24,386 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:24,658 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:24,913 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:25,178 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:25,437 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:25,704 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:25,966 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:26,224 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:26,486 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:26,749 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:27,007 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:27,270 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:27,534 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:27,799 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:28,067 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:28,342 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:28,598 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:28,857 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:29,120 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:29,382 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:29,649 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:29,921 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:30,188 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:30,449 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:30,713 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:30,979 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:31,395 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:31,685 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:31,945 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:32,213 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:32,477 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:32,742 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:33,002 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:33,264 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:33,523 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:33,783 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:34,039 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:34,368 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:34,626 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:34,892 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:35,158 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:35,418 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:35,676 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:35,948 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:36,208 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:36,928 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:37,184 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:37,455 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:37,735 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:37,999 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:38,708 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:39,025 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:39,357 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:39,624 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:39,886 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:40,307 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:40,598 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:40,892 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:41,148 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:41,407 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:41,670 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:41,929 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:42,185 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:42,448 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:42,707 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:42,963 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:43,221 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:43,480 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:43,753 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:44,017 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:44,277 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:44,534 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:44,802 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:45,064 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:45,327 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:45,612 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:45,889 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:46,147 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:46,404 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:46,678 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:46,947 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:47,213 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-19 18:01:47,246 - config - INFO - 임베딩 생성 완료 (88 / 88 성공)
2025-04-19 18:01:47,246 - config - INFO - AI Search 업로드 시작 (88개 문서)...
2025-04-19 18:01:47,247 - config - INFO - AI Search 업로드 문서 준비: 총 88개 (Source: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/005930.pdf)
2025-04-19 18:01:47,248 - config - INFO - 총 88개 문서 AI Search 업로드 시도...
2025-04-19 18:01:47,325 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '3095399'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'ec7a458e-1cfc-11f0-800c-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-19 18:01:50,869 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'ec7a458e-1cfc-11f0-800c-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Sat, 19 Apr 2025 09:01:50 GMT'
2025-04-19 18:01:50,877 - config - INFO - AI Search 문서 업로드 완료: 88 / 88 성공 (Source: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/005930.pdf)
2025-04-19 18:01:50,878 - config - INFO - AI Search 업로드 완료.
2025-04-19 18:01:50,880 - config - INFO - --- 인덱싱 완료: 005930 (상태: 성공, 처리된 청크 수: 88) ---
2025-04-19 18:01:50,882 - config - INFO - ===== PART 1: 데이터 인덱싱 완료 =====
2025-04-20 16:36:00,318 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-20 16:36:05,756 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-20 16:36:05,832 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-20 16:36:05,915 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-20 16:36:05,916 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-20 16:36:11,102 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-20 16:36:11,105 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-20 16:36:11,107 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:36:11,109 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:36:11,110 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:36:11,110 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:36:11,111 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:36:11,112 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:36:11,114 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:36:11,114 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:36:11,115 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:36:11,115 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:36:11,116 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:36:11,117 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:36:11,117 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:36:11,119 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:36:11,122 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '2179a0fa-1dba-11f0-a49f-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-20 16:36:11,991 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '2179a0fa-1dba-11f0-a49f-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Sun, 20 Apr 2025 07:36:11 GMT'
2025-04-20 16:36:11,994 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-20 16:36:11,996 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-20 16:36:16,526 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-20 16:36:16,526 - config - INFO - 테스트 대상 기업 설정: ['005930']
2025-04-20 16:36:16,703 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-20 16:36:16,703 - config - INFO - DEBUG: 엑셀에서 읽어온 컬럼명: ['stock_code', 'company_name_ko', 'company_name_en']
2025-04-20 16:36:16,708 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-20 16:36:16,710 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-20 16:57:59,102 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-20 16:58:01,589 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-20 16:58:01,659 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-20 16:58:01,751 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-20 16:58:01,752 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-20 16:58:03,352 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-20 16:58:03,360 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-20 16:58:03,362 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:58:03,363 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:58:03,364 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:58:03,365 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:58:03,367 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:58:03,368 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:58:03,370 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:58:03,372 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:58:03,375 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:58:03,376 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:58:03,377 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:58:03,377 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:58:03,379 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:58:03,379 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 16:58:03,384 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '2fa4cc9c-1dbd-11f0-9049-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-20 16:58:04,276 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '2fa4cc9c-1dbd-11f0-9049-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Sun, 20 Apr 2025 07:58:04 GMT'
2025-04-20 16:58:04,283 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-20 16:58:04,299 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-20 16:58:07,246 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-20 16:58:07,247 - config - INFO - 테스트 대상 기업 설정: ['005930']
2025-04-20 16:58:07,363 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-20 16:58:07,363 - config - INFO - DEBUG: 엑셀에서 읽어온 컬럼명: ['stock_code', 'company_name_ko', 'company_name_en']
2025-04-20 16:58:07,365 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-20 16:58:07,368 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-20 16:58:18,575 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-20 17:02:43,333 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-20 17:02:44,648 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-20 17:02:45,238 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-20 17:02:45,337 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-20 17:02:45,384 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-20 17:02:45,385 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-20 17:02:46,169 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-20 17:02:46,173 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-20 17:02:46,175 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:02:46,184 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:02:46,195 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:02:46,207 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:02:46,211 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:02:46,215 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:02:46,218 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:02:46,221 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:02:46,223 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:02:46,225 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:02:46,226 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:02:46,226 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:02:46,227 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:02:46,227 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:02:46,232 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'd83bf998-1dbd-11f0-a643-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-20 17:02:47,135 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd83bf998-1dbd-11f0-a643-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Sun, 20 Apr 2025 08:02:47 GMT'
2025-04-20 17:02:47,140 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-20 17:02:47,142 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-20 17:02:49,090 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-20 17:02:49,091 - config - INFO - 테스트 대상 기업 설정: ['005930']
2025-04-20 17:02:49,182 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-20 17:02:49,183 - config - INFO - DEBUG: 엑셀에서 읽어온 컬럼명: ['stock_code', 'company_name_ko', 'company_name_en']
2025-04-20 17:02:49,184 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-20 17:02:49,185 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-20 17:02:52,560 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-20 17:02:52,788 - config - INFO - DART API 키 로드.
2025-04-20 17:02:52,789 - config - INFO - ===== PART 1: 데이터 인덱싱 시작 (1개 기업) - DART 섹션 추출/분석 =====
2025-04-20 17:02:52,790 - config - INFO - --- 인덱싱 시작: 삼성전자(005930) ---
2025-04-20 17:02:52,790 - config - WARNING - dart-fss 사용 불가 또는 corp_code 조회 실패.
2025-04-20 17:12:52,150 - config - INFO - DART API 키 로드.
2025-04-20 17:12:52,152 - config - INFO - ===== PART 1: 데이터 인덱싱 시작 (1개 기업) - DART 섹션 추출/분석 =====
2025-04-20 17:12:52,155 - config - INFO - --- 인덱싱 시작: 삼성전자(005930) ---
2025-04-20 17:12:52,156 - config - WARNING - dart-fss 사용 불가 또는 corp_code 조회 실패.
2025-04-20 17:12:52,156 - config - INFO - --- 인덱싱 완료: 005930 (상태: DART HTML 없음, 처리된 청크 수: 0) ---
2025-04-20 17:12:52,157 - config - INFO - ===== PART 1: 데이터 인덱싱 완료 =====
2025-04-20 17:18:20,179 - config - INFO - DART API 키 로드.
2025-04-20 17:18:20,181 - config - INFO - ===== PART 1: 데이터 인덱싱 시작 (1개 기업) - DART 섹션 추출/분석 =====
2025-04-20 17:18:20,183 - config - INFO - --- 인덱싱 시작: 삼성전자(005930) ---
2025-04-20 17:18:20,185 - config - INFO - find_corp_code 호출됨: stock_code=005930
2025-04-20 17:18:20,185 - config - ERROR - dart.find_corp_code 중 오류: module 'dart_fss' has no attribute 'find_corp_code'
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_10183/3684157735.py", line 33, in find_corp_code
    corps = dart.find_corp_code(stock_code)
            ^^^^^^^^^^^^^^^^^^^
AttributeError: module 'dart_fss' has no attribute 'find_corp_code'
2025-04-20 17:18:20,187 - config - WARNING - dart-fss 사용 불가 또는 corp_code 조회 실패.
2025-04-20 17:18:20,187 - config - INFO - --- 인덱싱 완료: 005930 (상태: DART HTML 없음, 처리된 청크 수: 0) ---
2025-04-20 17:18:20,188 - config - INFO - ===== PART 1: 데이터 인덱싱 완료 =====
2025-04-20 17:43:19,917 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-20 17:43:22,324 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-20 17:43:22,413 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-20 17:43:22,500 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-20 17:43:22,500 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-20 17:43:26,146 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-20 17:43:26,152 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-20 17:43:26,154 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:43:26,155 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:43:26,156 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:43:26,157 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:43:26,157 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:43:26,158 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:43:26,159 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:43:26,160 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:43:26,161 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:43:26,162 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:43:26,162 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:43:26,163 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:43:26,164 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:43:26,165 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 17:43:26,198 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '86913bb6-1dc3-11f0-a4b0-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-20 17:43:27,017 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '86913bb6-1dc3-11f0-a4b0-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Sun, 20 Apr 2025 08:43:26 GMT'
2025-04-20 17:43:27,020 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-20 17:43:27,023 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-20 17:43:30,358 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-20 17:43:30,359 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-20 17:43:30,359 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-20 17:43:30,360 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-20 17:43:30,486 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-20 17:43:30,490 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-20 17:43:30,492 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-20 17:43:39,676 - config - WARNING - dart-fss 라이브러리가 로드되지 않아 corp_code 맵을 생성할 수 없습니다. Cell [6] 실행 시 오류가 발생할 수 있습니다.
2025-04-20 17:49:00,928 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-20 17:49:01,173 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-20 17:49:01,173 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-20 17:49:08,546 - config - ERROR - Cell [5a]: DART 기업 목록 로딩 또는 맵 생성 실패: list indices must be integers or slices, not list
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_12859/1798488382.py", line 27, in <module>
    all_corps_filtered = all_corps[['corp_code', 'stock_code']].dropna(subset=['stock_code', 'corp_code'])
                         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/dart_fss/corp/corp_list.py", line 285, in __getitem__
    return corps[item]
           ~~~~~^^^^^^
TypeError: list indices must be integers or slices, not list
2025-04-20 17:51:33,088 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-20 17:51:33,090 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-20 17:51:33,091 - config - ERROR - Cell [5a]: dart.get_corp_list() 결과에서 .to_dataframe() 호출 실패. dart-fss 버전 호환성 문제일 수 있습니다: 'CorpList' object has no attribute 'to_dataframe'
2025-04-20 17:51:42,030 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-20 17:51:42,032 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-20 17:51:42,033 - config - ERROR - Cell [5a]: dart.get_corp_list() 결과에서 .to_dataframe() 호출 실패. dart-fss 버전 호환성 문제일 수 있습니다: 'CorpList' object has no attribute 'to_dataframe'
2025-04-20 17:53:03,221 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-20 17:53:03,223 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-20 17:53:03,224 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-20 17:53:03,225 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-20 17:53:03,301 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-20 17:53:03,304 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-20 17:53:03,314 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-20 17:53:10,029 - config - INFO - ===== PART 1 (추가): 데이터 인덱싱 시작 (5개 기업) - DART 섹션 추출/분석 =====
2025-04-20 17:53:10,073 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-20 17:53:10,074 - config - ERROR - --- DART 처리 중 예외 발생 (005930): name 'dart_utils' is not defined ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_12859/1943962487.py", line 44, in <module>
    rcept_no = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR))
               ^^^^^^^^^^
NameError: name 'dart_utils' is not defined
2025-04-20 17:53:10,079 - config - INFO - --- DART 처리 완료: 005930 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 17:53:10,586 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-20 17:53:10,588 - config - ERROR - --- DART 처리 중 예외 발생 (000660): name 'dart_utils' is not defined ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_12859/1943962487.py", line 44, in <module>
    rcept_no = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR))
               ^^^^^^^^^^
NameError: name 'dart_utils' is not defined
2025-04-20 17:53:10,601 - config - INFO - --- DART 처리 완료: 000660 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 17:53:11,109 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-20 17:53:11,111 - config - ERROR - --- DART 처리 중 예외 발생 (105560): name 'dart_utils' is not defined ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_12859/1943962487.py", line 44, in <module>
    rcept_no = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR))
               ^^^^^^^^^^
NameError: name 'dart_utils' is not defined
2025-04-20 17:53:11,125 - config - INFO - --- DART 처리 완료: 105560 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 17:53:11,632 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-20 17:53:11,633 - config - ERROR - --- DART 처리 중 예외 발생 (005380): name 'dart_utils' is not defined ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_12859/1943962487.py", line 44, in <module>
    rcept_no = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR))
               ^^^^^^^^^^
NameError: name 'dart_utils' is not defined
2025-04-20 17:53:11,640 - config - INFO - --- DART 처리 완료: 005380 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 17:53:12,146 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-20 17:53:12,150 - config - ERROR - --- DART 처리 중 예외 발생 (012450): name 'dart_utils' is not defined ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_12859/1943962487.py", line 44, in <module>
    rcept_no = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR))
               ^^^^^^^^^^
NameError: name 'dart_utils' is not defined
2025-04-20 17:53:12,159 - config - INFO - --- DART 처리 완료: 012450 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 17:53:12,662 - config - INFO - ===== PART 1 (추가): DART 데이터 인덱싱 완료 (성공: 0, 실패: 5) =====
2025-04-20 17:53:12,663 - config - WARNING - DART 처리 실패 목록: [{'code': '005930', 'reason': "Unhandled Exception: name 'dart_utils' is not defined"}, {'code': '000660', 'reason': "Unhandled Exception: name 'dart_utils' is not defined"}, {'code': '105560', 'reason': "Unhandled Exception: name 'dart_utils' is not defined"}, {'code': '005380', 'reason': "Unhandled Exception: name 'dart_utils' is not defined"}, {'code': '012450', 'reason': "Unhandled Exception: name 'dart_utils' is not defined"}]
2025-04-20 17:54:57,837 - config - INFO - ===== PART 1 (추가): 데이터 인덱싱 시작 (5개 기업) - DART 섹션 추출/분석 =====
2025-04-20 17:54:57,877 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-20 17:54:58,574 - config - ERROR - 00126380 보고서 검색 오류: 'SearchResults' object has no attribute 'page'
2025-04-20 17:55:03,857 - config - ERROR - 00126380 보고서 검색 오류: 'SearchResults' object has no attribute 'page'
2025-04-20 17:55:09,146 - config - ERROR - 00126380 보고서 검색 오류: 'SearchResults' object has no attribute 'page'
2025-04-20 17:55:09,147 - config - ERROR - --- DART 처리 중 예외 발생 (005930): RetryError[<Future at 0x12168e540 state=finished raised AttributeError>] ---
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 33, in find_latest_annual_report
    latest_report = reports.page
                    ^^^^^^^^^^^^
AttributeError: 'SearchResults' object has no attribute 'page'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_12859/2921040904.py", line 52, in <module>
    rcept_no = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 338, in wrapped_f
    return copy(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 421, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x12168e540 state=finished raised AttributeError>]
2025-04-20 17:55:09,153 - config - INFO - --- DART 처리 완료: 005930 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 17:55:09,658 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-20 17:55:09,931 - config - ERROR - 00164779 보고서 검색 오류: 'SearchResults' object has no attribute 'page'
2025-04-20 17:55:15,190 - config - ERROR - 00164779 보고서 검색 오류: 'SearchResults' object has no attribute 'page'
2025-04-20 17:55:20,456 - config - ERROR - 00164779 보고서 검색 오류: 'SearchResults' object has no attribute 'page'
2025-04-20 17:55:20,458 - config - ERROR - --- DART 처리 중 예외 발생 (000660): RetryError[<Future at 0x121c266c0 state=finished raised AttributeError>] ---
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 33, in find_latest_annual_report
    latest_report = reports.page
                    ^^^^^^^^^^^^
AttributeError: 'SearchResults' object has no attribute 'page'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_12859/2921040904.py", line 52, in <module>
    rcept_no = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 338, in wrapped_f
    return copy(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 421, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x121c266c0 state=finished raised AttributeError>]
2025-04-20 17:55:20,461 - config - INFO - --- DART 처리 완료: 000660 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 17:55:20,968 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-20 17:55:21,225 - config - ERROR - 00688996 보고서 검색 오류: 'SearchResults' object has no attribute 'page'
2025-04-20 17:55:26,623 - config - ERROR - 00688996 보고서 검색 오류: 'SearchResults' object has no attribute 'page'
2025-04-20 17:55:31,905 - config - ERROR - 00688996 보고서 검색 오류: 'SearchResults' object has no attribute 'page'
2025-04-20 17:55:31,907 - config - ERROR - --- DART 처리 중 예외 발생 (105560): RetryError[<Future at 0x121ed7470 state=finished raised AttributeError>] ---
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 33, in find_latest_annual_report
    latest_report = reports.page
                    ^^^^^^^^^^^^
AttributeError: 'SearchResults' object has no attribute 'page'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_12859/2921040904.py", line 52, in <module>
    rcept_no = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 338, in wrapped_f
    return copy(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 421, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x121ed7470 state=finished raised AttributeError>]
2025-04-20 17:55:31,912 - config - INFO - --- DART 처리 완료: 105560 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 17:55:32,420 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-20 17:55:32,698 - config - ERROR - 00164742 보고서 검색 오류: 'SearchResults' object has no attribute 'page'
2025-04-20 17:55:37,970 - config - ERROR - 00164742 보고서 검색 오류: 'SearchResults' object has no attribute 'page'
2025-04-20 17:55:43,403 - config - ERROR - 00164742 보고서 검색 오류: 'SearchResults' object has no attribute 'page'
2025-04-20 17:55:43,404 - config - ERROR - --- DART 처리 중 예외 발생 (005380): RetryError[<Future at 0x12168fc20 state=finished raised AttributeError>] ---
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 33, in find_latest_annual_report
    latest_report = reports.page
                    ^^^^^^^^^^^^
AttributeError: 'SearchResults' object has no attribute 'page'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_12859/2921040904.py", line 52, in <module>
    rcept_no = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 338, in wrapped_f
    return copy(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 421, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x12168fc20 state=finished raised AttributeError>]
2025-04-20 17:55:43,407 - config - INFO - --- DART 처리 완료: 005380 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 17:55:43,912 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-20 17:55:44,197 - config - ERROR - 00126566 보고서 검색 오류: 'SearchResults' object has no attribute 'page'
2025-04-20 17:55:49,461 - config - ERROR - 00126566 보고서 검색 오류: 'SearchResults' object has no attribute 'page'
2025-04-20 17:55:54,717 - config - ERROR - 00126566 보고서 검색 오류: 'SearchResults' object has no attribute 'page'
2025-04-20 17:55:54,720 - config - ERROR - --- DART 처리 중 예외 발생 (012450): RetryError[<Future at 0x12356f6e0 state=finished raised AttributeError>] ---
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 33, in find_latest_annual_report
    latest_report = reports.page
                    ^^^^^^^^^^^^
AttributeError: 'SearchResults' object has no attribute 'page'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_12859/2921040904.py", line 52, in <module>
    rcept_no = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 338, in wrapped_f
    return copy(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 421, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x12356f6e0 state=finished raised AttributeError>]
2025-04-20 17:55:54,727 - config - INFO - --- DART 처리 완료: 012450 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 17:55:55,235 - config - INFO - ===== PART 1 (추가): DART 데이터 인덱싱 완료 (성공: 0, 실패: 5) =====
2025-04-20 17:55:55,241 - config - WARNING - DART 처리 실패 목록: [{'code': '005930', 'reason': 'Unhandled Exception: RetryError[<Future at 0x12168e540 state=finished raised AttributeError>]'}, {'code': '000660', 'reason': 'Unhandled Exception: RetryError[<Future at 0x121c266c0 state=finished raised AttributeError>]'}, {'code': '105560', 'reason': 'Unhandled Exception: RetryError[<Future at 0x121ed7470 state=finished raised AttributeError>]'}, {'code': '005380', 'reason': 'Unhandled Exception: RetryError[<Future at 0x12168fc20 state=finished raised AttributeError>]'}, {'code': '012450', 'reason': 'Unhandled Exception: RetryError[<Future at 0x12356f6e0 state=finished raised AttributeError>]'}]
2025-04-20 18:00:15,794 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-20 18:00:15,801 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-20 18:00:15,877 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-20 18:00:15,922 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-20 18:00:15,922 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-20 18:00:16,376 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-20 18:00:16,378 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-20 18:00:16,380 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:00:16,381 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:00:16,382 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:00:16,382 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:00:16,383 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:00:16,383 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:00:16,383 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:00:16,384 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:00:16,384 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:00:16,385 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:00:16,385 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:00:16,385 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:00:16,386 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:00:16,386 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:00:16,388 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'e0b0114c-1dc5-11f0-b1db-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-20 18:00:17,397 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'e0b0114c-1dc5-11f0-b1db-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Sun, 20 Apr 2025 09:00:17 GMT'
2025-04-20 18:00:17,401 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-20 18:00:17,403 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-20 18:00:18,343 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-20 18:00:18,344 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-20 18:00:18,345 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-20 18:00:18,345 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-20 18:00:18,443 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-20 18:00:18,445 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-20 18:00:18,447 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-20 18:00:22,300 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-20 18:00:22,549 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-20 18:00:22,550 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-20 18:00:31,094 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-20 18:00:31,094 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-20 18:00:31,146 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-20 18:00:31,148 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-20 18:00:31,153 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-20 18:00:43,414 - config - INFO - ===== PART 1 (추가): 데이터 인덱싱 시작 (5개 기업) - DART 섹션 추출/분석 =====
2025-04-20 18:00:43,451 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-20 18:00:43,813 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-20 18:00:53,820 - config - ERROR - --- DART 처리 중 예외 발생 (005930): RetryError[<Future at 0x122516ff0 state=finished raised TypeError>] ---
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
TypeError: download_report_file() got an unexpected keyword argument 'api_key'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_13989/2921040904.py", line 56, in <module>
    zip_file_path = dart_utils.download_report_file(rcept_no, dart_download_path, api_key=DART_API_KEY) # API 키 전달 확인
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 338, in wrapped_f
    return copy(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 421, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x122516ff0 state=finished raised TypeError>]
2025-04-20 18:00:53,826 - config - INFO - --- DART 처리 완료: 005930 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:00:54,333 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-20 18:00:54,610 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-20 18:01:04,617 - config - ERROR - --- DART 처리 중 예외 발생 (000660): RetryError[<Future at 0x1225429f0 state=finished raised TypeError>] ---
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
TypeError: download_report_file() got an unexpected keyword argument 'api_key'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_13989/2921040904.py", line 56, in <module>
    zip_file_path = dart_utils.download_report_file(rcept_no, dart_download_path, api_key=DART_API_KEY) # API 키 전달 확인
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 338, in wrapped_f
    return copy(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 421, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x1225429f0 state=finished raised TypeError>]
2025-04-20 18:01:04,620 - config - INFO - --- DART 처리 완료: 000660 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:01:05,129 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-20 18:01:05,388 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-20 18:01:15,400 - config - ERROR - --- DART 처리 중 예외 발생 (105560): RetryError[<Future at 0x122541ac0 state=finished raised TypeError>] ---
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
TypeError: download_report_file() got an unexpected keyword argument 'api_key'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_13989/2921040904.py", line 56, in <module>
    zip_file_path = dart_utils.download_report_file(rcept_no, dart_download_path, api_key=DART_API_KEY) # API 키 전달 확인
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 338, in wrapped_f
    return copy(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 421, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x122541ac0 state=finished raised TypeError>]
2025-04-20 18:01:15,403 - config - INFO - --- DART 처리 완료: 105560 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:01:15,905 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-20 18:01:16,167 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-20 18:01:26,179 - config - ERROR - --- DART 처리 중 예외 발생 (005380): RetryError[<Future at 0x1238ffd40 state=finished raised TypeError>] ---
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
TypeError: download_report_file() got an unexpected keyword argument 'api_key'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_13989/2921040904.py", line 56, in <module>
    zip_file_path = dart_utils.download_report_file(rcept_no, dart_download_path, api_key=DART_API_KEY) # API 키 전달 확인
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 338, in wrapped_f
    return copy(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 421, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x1238ffd40 state=finished raised TypeError>]
2025-04-20 18:01:26,182 - config - INFO - --- DART 처리 완료: 005380 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:01:26,687 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-20 18:01:26,954 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-20 18:01:36,964 - config - ERROR - --- DART 처리 중 예외 발생 (012450): RetryError[<Future at 0x1238ffe30 state=finished raised TypeError>] ---
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
TypeError: download_report_file() got an unexpected keyword argument 'api_key'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_13989/2921040904.py", line 56, in <module>
    zip_file_path = dart_utils.download_report_file(rcept_no, dart_download_path, api_key=DART_API_KEY) # API 키 전달 확인
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 338, in wrapped_f
    return copy(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 421, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x1238ffe30 state=finished raised TypeError>]
2025-04-20 18:01:36,966 - config - INFO - --- DART 처리 완료: 012450 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:01:37,472 - config - INFO - ===== PART 1 (추가): DART 데이터 인덱싱 완료 (성공: 0, 실패: 5) =====
2025-04-20 18:01:37,474 - config - WARNING - DART 처리 실패 목록: [{'code': '005930', 'reason': 'Unhandled Exception: RetryError[<Future at 0x122516ff0 state=finished raised TypeError>]'}, {'code': '000660', 'reason': 'Unhandled Exception: RetryError[<Future at 0x1225429f0 state=finished raised TypeError>]'}, {'code': '105560', 'reason': 'Unhandled Exception: RetryError[<Future at 0x122541ac0 state=finished raised TypeError>]'}, {'code': '005380', 'reason': 'Unhandled Exception: RetryError[<Future at 0x1238ffd40 state=finished raised TypeError>]'}, {'code': '012450', 'reason': 'Unhandled Exception: RetryError[<Future at 0x1238ffe30 state=finished raised TypeError>]'}]
2025-04-20 18:07:27,095 - config - INFO - ===== PART 1 (추가): 데이터 인덱싱 시작 (5개 기업) - DART 섹션 추출/분석 =====
2025-04-20 18:07:27,104 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-20 18:07:27,605 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-20 18:07:27,607 - config - ERROR - 다운로드 오류 20241114002642: module 'dart_fss.filings' has no attribute 'download'
2025-04-20 18:07:32,613 - config - ERROR - 다운로드 오류 20241114002642: module 'dart_fss.filings' has no attribute 'download'
2025-04-20 18:07:37,616 - config - ERROR - 다운로드 오류 20241114002642: module 'dart_fss.filings' has no attribute 'download'
2025-04-20 18:07:37,617 - config - ERROR - --- DART 처리 중 예외 발생 (005930): RetryError[<Future at 0x12068f290 state=finished raised AttributeError>] ---
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 59, in download_report_file
    file_path = dart.filings.download(rcept_no, path=download_path)
                ^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'dart_fss.filings' has no attribute 'download'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_13989/2595732613.py", line 56, in <module>
    zip_file_path = dart_utils.download_report_file(rcept_no, dart_download_path) # API 키 전달 확인
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 338, in wrapped_f
    return copy(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 421, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x12068f290 state=finished raised AttributeError>]
2025-04-20 18:07:37,621 - config - INFO - --- DART 처리 완료: 005930 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:07:38,126 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-20 18:07:38,499 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-20 18:07:38,501 - config - ERROR - 다운로드 오류 20241114001712: module 'dart_fss.filings' has no attribute 'download'
2025-04-20 18:07:43,507 - config - ERROR - 다운로드 오류 20241114001712: module 'dart_fss.filings' has no attribute 'download'
2025-04-20 18:07:44,867 - config - WARNING - 사용자에 의해 실행 중단됨.
2025-04-20 18:07:44,868 - config - INFO - --- DART 처리 완료: 000660 (상태: 사용자 중단, 처리된 청크 수: 0) ---
2025-04-20 18:18:54,946 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-20 18:18:55,140 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-20 18:18:55,252 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-20 18:18:55,331 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-20 18:18:55,331 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-20 18:18:56,198 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-20 18:18:56,199 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-20 18:18:56,201 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:18:56,202 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:18:56,203 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:18:56,203 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:18:56,204 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:18:56,204 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:18:56,205 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:18:56,205 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:18:56,205 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:18:56,206 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:18:56,206 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:18:56,206 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:18:56,207 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:18:56,207 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:18:56,209 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '7c273cac-1dc8-11f0-bbe7-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-20 18:18:57,321 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '7c273cac-1dc8-11f0-bbe7-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Sun, 20 Apr 2025 09:18:57 GMT'
2025-04-20 18:18:57,325 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-20 18:18:57,327 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-20 18:18:57,939 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-20 18:18:57,940 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-20 18:18:57,940 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-20 18:18:57,941 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-20 18:18:58,038 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-20 18:18:58,040 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-20 18:18:58,041 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-20 18:19:02,517 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-20 18:19:02,754 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-20 18:19:02,755 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-20 18:19:10,337 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-20 18:19:10,338 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-20 18:19:10,389 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-20 18:19:10,391 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-20 18:19:10,396 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-20 18:19:10,420 - config - INFO - ===== PART 1 (추가): 데이터 인덱싱 시작 (5개 기업) - DART 섹션 추출/분석 =====
2025-04-20 18:19:10,449 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-20 18:19:10,450 - config - ERROR - --- DART 처리 중 예외 발생 (005930): name 'TARGET_REPORT_CODES' is not defined ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_14760/2556833102.py", line 54, in <module>
    report_object = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR), report_codes=TARGET_REPORT_CODES)
                                                                                                   ^^^^^^^^^^^^^^^^^^^
NameError: name 'TARGET_REPORT_CODES' is not defined
2025-04-20 18:19:10,459 - config - INFO - --- DART 처리 완료: 005930 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:19:10,966 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-20 18:19:10,968 - config - ERROR - --- DART 처리 중 예외 발생 (000660): name 'TARGET_REPORT_CODES' is not defined ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_14760/2556833102.py", line 54, in <module>
    report_object = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR), report_codes=TARGET_REPORT_CODES)
                                                                                                   ^^^^^^^^^^^^^^^^^^^
NameError: name 'TARGET_REPORT_CODES' is not defined
2025-04-20 18:19:10,990 - config - INFO - --- DART 처리 완료: 000660 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:19:11,496 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-20 18:19:11,497 - config - ERROR - --- DART 처리 중 예외 발생 (105560): name 'TARGET_REPORT_CODES' is not defined ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_14760/2556833102.py", line 54, in <module>
    report_object = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR), report_codes=TARGET_REPORT_CODES)
                                                                                                   ^^^^^^^^^^^^^^^^^^^
NameError: name 'TARGET_REPORT_CODES' is not defined
2025-04-20 18:19:11,517 - config - INFO - --- DART 처리 완료: 105560 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:19:12,025 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-20 18:19:12,028 - config - ERROR - --- DART 처리 중 예외 발생 (005380): name 'TARGET_REPORT_CODES' is not defined ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_14760/2556833102.py", line 54, in <module>
    report_object = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR), report_codes=TARGET_REPORT_CODES)
                                                                                                   ^^^^^^^^^^^^^^^^^^^
NameError: name 'TARGET_REPORT_CODES' is not defined
2025-04-20 18:19:12,047 - config - INFO - --- DART 처리 완료: 005380 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:19:12,556 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-20 18:19:12,557 - config - ERROR - --- DART 처리 중 예외 발생 (012450): name 'TARGET_REPORT_CODES' is not defined ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_14760/2556833102.py", line 54, in <module>
    report_object = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR), report_codes=TARGET_REPORT_CODES)
                                                                                                   ^^^^^^^^^^^^^^^^^^^
NameError: name 'TARGET_REPORT_CODES' is not defined
2025-04-20 18:19:12,578 - config - INFO - --- DART 처리 완료: 012450 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:19:13,087 - config - INFO - ===== PART 1 (추가): DART 데이터 인덱싱 완료 (성공: 0, 실패: 5) =====
2025-04-20 18:19:13,092 - config - WARNING - DART 처리 실패 목록: [{'code': '005930', 'reason': "Unhandled Exception: name 'TARGET_REPORT_CODES' is not defined"}, {'code': '000660', 'reason': "Unhandled Exception: name 'TARGET_REPORT_CODES' is not defined"}, {'code': '105560', 'reason': "Unhandled Exception: name 'TARGET_REPORT_CODES' is not defined"}, {'code': '005380', 'reason': "Unhandled Exception: name 'TARGET_REPORT_CODES' is not defined"}, {'code': '012450', 'reason': "Unhandled Exception: name 'TARGET_REPORT_CODES' is not defined"}]
2025-04-20 18:27:36,850 - config - INFO - ===== PART 1 (추가): 데이터 인덱싱 시작 (5개 기업) - DART 섹션 추출/분석 =====
2025-04-20 18:27:36,864 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-20 18:27:37,197 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-20 18:27:37,598 - config - ERROR - 다운로드 오류 20241114002642: Report 객체에 download 메소드가 없습니다. ('Report' object has no attribute 'download')
2025-04-20 18:27:42,605 - config - ERROR - 다운로드 오류 20241114002642: Report 객체에 download 메소드가 없습니다. ('Report' object has no attribute 'download')
2025-04-20 18:27:47,613 - config - ERROR - 다운로드 오류 20241114002642: Report 객체에 download 메소드가 없습니다. ('Report' object has no attribute 'download')
2025-04-20 18:27:47,615 - config - ERROR - --- DART 처리 중 예외 발생 (005930): RetryError[<Future at 0x122883f50 state=finished raised AttributeError>] ---
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 69, in download_report_file
    file_path = report_obj.download(path=download_path)
                ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/dart_fss/filings/reports.py", line 98, in __getattr__
    raise AttributeError(error)
AttributeError: 'Report' object has no attribute 'download'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_14760/299376321.py", line 69, in <module>
    zip_file_path = dart_utils.download_report_file(report_object, dart_download_path)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 338, in wrapped_f
    return copy(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 421, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x122883f50 state=finished raised AttributeError>]
2025-04-20 18:27:47,623 - config - INFO - --- DART 처리 완료: 005930 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:27:48,631 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-20 18:27:48,947 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-20 18:27:49,255 - config - ERROR - 다운로드 오류 20241114001712: Report 객체에 download 메소드가 없습니다. ('Report' object has no attribute 'download')
2025-04-20 18:27:54,262 - config - ERROR - 다운로드 오류 20241114001712: Report 객체에 download 메소드가 없습니다. ('Report' object has no attribute 'download')
2025-04-20 18:27:59,266 - config - ERROR - 다운로드 오류 20241114001712: Report 객체에 download 메소드가 없습니다. ('Report' object has no attribute 'download')
2025-04-20 18:27:59,268 - config - ERROR - --- DART 처리 중 예외 발생 (000660): RetryError[<Future at 0x122351cd0 state=finished raised AttributeError>] ---
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 69, in download_report_file
    file_path = report_obj.download(path=download_path)
                ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/dart_fss/filings/reports.py", line 98, in __getattr__
    raise AttributeError(error)
AttributeError: 'Report' object has no attribute 'download'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_14760/299376321.py", line 69, in <module>
    zip_file_path = dart_utils.download_report_file(report_object, dart_download_path)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 338, in wrapped_f
    return copy(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 421, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x122351cd0 state=finished raised AttributeError>]
2025-04-20 18:27:59,277 - config - INFO - --- DART 처리 완료: 000660 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:28:00,282 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-20 18:28:00,541 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-20 18:28:00,798 - config - ERROR - 다운로드 오류 20241230000609: Report 객체에 download 메소드가 없습니다. ('Report' object has no attribute 'download')
2025-04-20 18:28:05,804 - config - ERROR - 다운로드 오류 20241230000609: Report 객체에 download 메소드가 없습니다. ('Report' object has no attribute 'download')
2025-04-20 18:28:10,815 - config - ERROR - 다운로드 오류 20241230000609: Report 객체에 download 메소드가 없습니다. ('Report' object has no attribute 'download')
2025-04-20 18:28:10,817 - config - ERROR - --- DART 처리 중 예외 발생 (105560): RetryError[<Future at 0x125932e70 state=finished raised AttributeError>] ---
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 69, in download_report_file
    file_path = report_obj.download(path=download_path)
                ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/dart_fss/filings/reports.py", line 98, in __getattr__
    raise AttributeError(error)
AttributeError: 'Report' object has no attribute 'download'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_14760/299376321.py", line 69, in <module>
    zip_file_path = dart_utils.download_report_file(report_object, dart_download_path)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 338, in wrapped_f
    return copy(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 421, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x125932e70 state=finished raised AttributeError>]
2025-04-20 18:28:10,821 - config - INFO - --- DART 처리 완료: 105560 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:28:11,828 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-20 18:28:12,099 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-20 18:28:12,538 - config - ERROR - 다운로드 오류 20241114002593: Report 객체에 download 메소드가 없습니다. ('Report' object has no attribute 'download')
2025-04-20 18:28:17,544 - config - ERROR - 다운로드 오류 20241114002593: Report 객체에 download 메소드가 없습니다. ('Report' object has no attribute 'download')
2025-04-20 18:28:22,548 - config - ERROR - 다운로드 오류 20241114002593: Report 객체에 download 메소드가 없습니다. ('Report' object has no attribute 'download')
2025-04-20 18:28:22,550 - config - ERROR - --- DART 처리 중 예외 발생 (005380): RetryError[<Future at 0x124e2d790 state=finished raised AttributeError>] ---
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 69, in download_report_file
    file_path = report_obj.download(path=download_path)
                ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/dart_fss/filings/reports.py", line 98, in __getattr__
    raise AttributeError(error)
AttributeError: 'Report' object has no attribute 'download'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_14760/299376321.py", line 69, in <module>
    zip_file_path = dart_utils.download_report_file(report_object, dart_download_path)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 338, in wrapped_f
    return copy(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 421, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x124e2d790 state=finished raised AttributeError>]
2025-04-20 18:28:22,556 - config - INFO - --- DART 처리 완료: 005380 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:28:23,564 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-20 18:28:23,812 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-20 18:28:24,099 - config - ERROR - 다운로드 오류 20241113000565: Report 객체에 download 메소드가 없습니다. ('Report' object has no attribute 'download')
2025-04-20 18:28:29,105 - config - ERROR - 다운로드 오류 20241113000565: Report 객체에 download 메소드가 없습니다. ('Report' object has no attribute 'download')
2025-04-20 18:28:34,110 - config - ERROR - 다운로드 오류 20241113000565: Report 객체에 download 메소드가 없습니다. ('Report' object has no attribute 'download')
2025-04-20 18:28:34,113 - config - ERROR - --- DART 처리 중 예외 발생 (012450): RetryError[<Future at 0x1250b09e0 state=finished raised AttributeError>] ---
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 69, in download_report_file
    file_path = report_obj.download(path=download_path)
                ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/dart_fss/filings/reports.py", line 98, in __getattr__
    raise AttributeError(error)
AttributeError: 'Report' object has no attribute 'download'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_14760/299376321.py", line 69, in <module>
    zip_file_path = dart_utils.download_report_file(report_object, dart_download_path)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 338, in wrapped_f
    return copy(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 421, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x1250b09e0 state=finished raised AttributeError>]
2025-04-20 18:28:34,119 - config - INFO - --- DART 처리 완료: 012450 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:28:35,127 - config - INFO - ===== PART 1 (추가): DART 데이터 인덱싱 완료 (성공: 0, 실패: 5) =====
2025-04-20 18:28:35,129 - config - WARNING - DART 처리 실패 목록: [{'code': '005930', 'reason': 'Unhandled Exception: RetryError[<Future at 0x122883f50 state=finished raised AttributeError>]'}, {'code': '000660', 'reason': 'Unhandled Exception: RetryError[<Future at 0x122351cd0 state=finished raised AttributeError>]'}, {'code': '105560', 'reason': 'Unhandled Exception: RetryError[<Future at 0x125932e70 state=finished raised AttributeError>]'}, {'code': '005380', 'reason': 'Unhandled Exception: RetryError[<Future at 0x124e2d790 state=finished raised AttributeError>]'}, {'code': '012450', 'reason': 'Unhandled Exception: RetryError[<Future at 0x1250b09e0 state=finished raised AttributeError>]'}]
2025-04-20 18:30:48,572 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-20 18:30:48,840 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-20 18:30:48,923 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-20 18:30:49,002 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-20 18:30:49,003 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-20 18:30:49,674 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-20 18:30:49,675 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-20 18:30:49,676 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:30:49,676 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:30:49,677 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:30:49,677 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:30:49,677 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:30:49,678 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:30:49,678 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:30:49,679 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:30:49,681 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:30:49,682 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:30:49,683 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:30:49,683 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:30:49,684 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:30:49,684 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:30:49,687 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '256b3bfa-1dca-11f0-9918-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-20 18:30:50,668 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '256b3bfa-1dca-11f0-9918-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Sun, 20 Apr 2025 09:30:50 GMT'
2025-04-20 18:30:50,673 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-20 18:30:50,675 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-20 18:30:52,038 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-20 18:30:52,039 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-20 18:30:52,039 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-20 18:30:52,039 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-20 18:30:52,137 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-20 18:30:52,139 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-20 18:30:52,140 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-20 18:30:54,422 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-20 18:30:54,650 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-20 18:30:54,651 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-20 18:31:03,913 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-20 18:31:03,913 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-20 18:31:03,965 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-20 18:31:03,967 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-20 18:31:03,973 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-20 18:31:03,996 - config - INFO - ===== PART 1 (추가): 데이터 인덱싱 시작 (5개 기업) - DART 섹션 추출/분석 =====
2025-04-20 18:31:04,023 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-20 18:31:04,311 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-20 18:31:04,700 - config - INFO - 다운로드 시도: 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-20 18:31:04,701 - config - ERROR - 다운로드 오류 20241114002642: dart 객체에 download 함수/메소드가 없습니다. dart-fss 버전(0.4.13) 확인 필요. (module 'dart_fss' has no attribute 'download')
2025-04-20 18:31:09,707 - config - INFO - 다운로드 시도: 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-20 18:31:09,709 - config - ERROR - 다운로드 오류 20241114002642: dart 객체에 download 함수/메소드가 없습니다. dart-fss 버전(0.4.13) 확인 필요. (module 'dart_fss' has no attribute 'download')
2025-04-20 18:31:14,711 - config - INFO - 다운로드 시도: 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-20 18:31:14,713 - config - ERROR - 다운로드 오류 20241114002642: dart 객체에 download 함수/메소드가 없습니다. dart-fss 버전(0.4.13) 확인 필요. (module 'dart_fss' has no attribute 'download')
2025-04-20 18:31:14,713 - config - ERROR - --- DART 처리 중 예외 발생 (005930): RetryError[<Future at 0x126d2d430 state=finished raised AttributeError>] ---
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 81, in download_report_file
    file_path = dart.download(rcept_no=rcept_no, path=download_path)
                ^^^^^^^^^^^^^
AttributeError: module 'dart_fss' has no attribute 'download'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_15437/299376321.py", line 69, in <module>
    zip_file_path = dart_utils.download_report_file(report_object, dart_download_path)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 338, in wrapped_f
    return copy(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 421, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x126d2d430 state=finished raised AttributeError>]
2025-04-20 18:31:14,720 - config - INFO - --- DART 처리 완료: 005930 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:31:15,725 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-20 18:31:16,068 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-20 18:31:16,370 - config - INFO - 다운로드 시도: 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-20 18:31:16,371 - config - ERROR - 다운로드 오류 20241114001712: dart 객체에 download 함수/메소드가 없습니다. dart-fss 버전(0.4.13) 확인 필요. (module 'dart_fss' has no attribute 'download')
2025-04-20 18:31:21,377 - config - INFO - 다운로드 시도: 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-20 18:31:21,380 - config - ERROR - 다운로드 오류 20241114001712: dart 객체에 download 함수/메소드가 없습니다. dart-fss 버전(0.4.13) 확인 필요. (module 'dart_fss' has no attribute 'download')
2025-04-20 18:31:26,385 - config - INFO - 다운로드 시도: 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-20 18:31:26,387 - config - ERROR - 다운로드 오류 20241114001712: dart 객체에 download 함수/메소드가 없습니다. dart-fss 버전(0.4.13) 확인 필요. (module 'dart_fss' has no attribute 'download')
2025-04-20 18:31:26,388 - config - ERROR - --- DART 처리 중 예외 발생 (000660): RetryError[<Future at 0x124d02540 state=finished raised AttributeError>] ---
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 81, in download_report_file
    file_path = dart.download(rcept_no=rcept_no, path=download_path)
                ^^^^^^^^^^^^^
AttributeError: module 'dart_fss' has no attribute 'download'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_15437/299376321.py", line 69, in <module>
    zip_file_path = dart_utils.download_report_file(report_object, dart_download_path)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 338, in wrapped_f
    return copy(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 421, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x124d02540 state=finished raised AttributeError>]
2025-04-20 18:31:26,393 - config - INFO - --- DART 처리 완료: 000660 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:31:27,399 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-20 18:31:27,681 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-20 18:31:28,100 - config - INFO - 다운로드 시도: 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-20 18:31:28,101 - config - ERROR - 다운로드 오류 20241230000609: dart 객체에 download 함수/메소드가 없습니다. dart-fss 버전(0.4.13) 확인 필요. (module 'dart_fss' has no attribute 'download')
2025-04-20 18:31:33,107 - config - INFO - 다운로드 시도: 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-20 18:31:33,109 - config - ERROR - 다운로드 오류 20241230000609: dart 객체에 download 함수/메소드가 없습니다. dart-fss 버전(0.4.13) 확인 필요. (module 'dart_fss' has no attribute 'download')
2025-04-20 18:31:38,112 - config - INFO - 다운로드 시도: 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-20 18:31:38,113 - config - ERROR - 다운로드 오류 20241230000609: dart 객체에 download 함수/메소드가 없습니다. dart-fss 버전(0.4.13) 확인 필요. (module 'dart_fss' has no attribute 'download')
2025-04-20 18:31:38,113 - config - ERROR - --- DART 처리 중 예외 발생 (105560): RetryError[<Future at 0x12555aa50 state=finished raised AttributeError>] ---
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 81, in download_report_file
    file_path = dart.download(rcept_no=rcept_no, path=download_path)
                ^^^^^^^^^^^^^
AttributeError: module 'dart_fss' has no attribute 'download'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_15437/299376321.py", line 69, in <module>
    zip_file_path = dart_utils.download_report_file(report_object, dart_download_path)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 338, in wrapped_f
    return copy(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 421, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x12555aa50 state=finished raised AttributeError>]
2025-04-20 18:31:38,115 - config - INFO - --- DART 처리 완료: 105560 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:31:39,123 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-20 18:31:39,398 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-20 18:31:39,729 - config - INFO - 다운로드 시도: 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-20 18:31:39,730 - config - ERROR - 다운로드 오류 20241114002593: dart 객체에 download 함수/메소드가 없습니다. dart-fss 버전(0.4.13) 확인 필요. (module 'dart_fss' has no attribute 'download')
2025-04-20 18:31:44,736 - config - INFO - 다운로드 시도: 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-20 18:31:44,742 - config - ERROR - 다운로드 오류 20241114002593: dart 객체에 download 함수/메소드가 없습니다. dart-fss 버전(0.4.13) 확인 필요. (module 'dart_fss' has no attribute 'download')
2025-04-20 18:31:49,748 - config - INFO - 다운로드 시도: 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-20 18:31:49,750 - config - ERROR - 다운로드 오류 20241114002593: dart 객체에 download 함수/메소드가 없습니다. dart-fss 버전(0.4.13) 확인 필요. (module 'dart_fss' has no attribute 'download')
2025-04-20 18:31:49,751 - config - ERROR - --- DART 처리 중 예외 발생 (005380): RetryError[<Future at 0x122155a30 state=finished raised AttributeError>] ---
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 81, in download_report_file
    file_path = dart.download(rcept_no=rcept_no, path=download_path)
                ^^^^^^^^^^^^^
AttributeError: module 'dart_fss' has no attribute 'download'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_15437/299376321.py", line 69, in <module>
    zip_file_path = dart_utils.download_report_file(report_object, dart_download_path)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 338, in wrapped_f
    return copy(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 421, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x122155a30 state=finished raised AttributeError>]
2025-04-20 18:31:49,755 - config - INFO - --- DART 처리 완료: 005380 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:31:50,763 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-20 18:31:51,145 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-20 18:31:51,446 - config - INFO - 다운로드 시도: 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-20 18:31:51,448 - config - ERROR - 다운로드 오류 20241113000565: dart 객체에 download 함수/메소드가 없습니다. dart-fss 버전(0.4.13) 확인 필요. (module 'dart_fss' has no attribute 'download')
2025-04-20 18:31:56,454 - config - INFO - 다운로드 시도: 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-20 18:31:56,456 - config - ERROR - 다운로드 오류 20241113000565: dart 객체에 download 함수/메소드가 없습니다. dart-fss 버전(0.4.13) 확인 필요. (module 'dart_fss' has no attribute 'download')
2025-04-20 18:32:01,463 - config - INFO - 다운로드 시도: 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-20 18:32:01,465 - config - ERROR - 다운로드 오류 20241113000565: dart 객체에 download 함수/메소드가 없습니다. dart-fss 버전(0.4.13) 확인 필요. (module 'dart_fss' has no attribute 'download')
2025-04-20 18:32:01,466 - config - ERROR - --- DART 처리 중 예외 발생 (012450): RetryError[<Future at 0x125675a00 state=finished raised AttributeError>] ---
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 81, in download_report_file
    file_path = dart.download(rcept_no=rcept_no, path=download_path)
                ^^^^^^^^^^^^^
AttributeError: module 'dart_fss' has no attribute 'download'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_15437/299376321.py", line 69, in <module>
    zip_file_path = dart_utils.download_report_file(report_object, dart_download_path)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 338, in wrapped_f
    return copy(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/RAG_env/lib/python3.12/site-packages/tenacity/__init__.py", line 421, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x125675a00 state=finished raised AttributeError>]
2025-04-20 18:32:01,469 - config - INFO - --- DART 처리 완료: 012450 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:32:02,476 - config - INFO - ===== PART 1 (추가): DART 데이터 인덱싱 완료 (성공: 0, 실패: 5) =====
2025-04-20 18:32:02,477 - config - WARNING - DART 처리 실패 목록: [{'code': '005930', 'reason': 'Unhandled Exception: RetryError[<Future at 0x126d2d430 state=finished raised AttributeError>]'}, {'code': '000660', 'reason': 'Unhandled Exception: RetryError[<Future at 0x124d02540 state=finished raised AttributeError>]'}, {'code': '105560', 'reason': 'Unhandled Exception: RetryError[<Future at 0x12555aa50 state=finished raised AttributeError>]'}, {'code': '005380', 'reason': 'Unhandled Exception: RetryError[<Future at 0x122155a30 state=finished raised AttributeError>]'}, {'code': '012450', 'reason': 'Unhandled Exception: RetryError[<Future at 0x125675a00 state=finished raised AttributeError>]'}]
2025-04-20 18:38:33,315 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-20 18:38:35,934 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-20 18:38:35,995 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-20 18:38:36,080 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-20 18:38:36,080 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-20 18:38:38,420 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-20 18:38:38,421 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-20 18:38:38,422 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:38:38,423 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:38:38,423 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:38:38,424 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:38:38,425 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:38:38,426 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:38:38,426 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:38:38,427 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:38:38,427 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:38:38,428 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:38:38,428 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:38:38,459 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:38:38,460 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:38:38,460 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 18:38:38,469 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '3cd4ee5c-1dcb-11f0-b18a-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-20 18:38:39,429 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '3cd4ee5c-1dcb-11f0-b18a-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Sun, 20 Apr 2025 09:38:39 GMT'
2025-04-20 18:38:39,433 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-20 18:38:39,435 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-20 18:38:42,620 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-20 18:38:42,621 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-20 18:38:42,622 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-20 18:38:42,622 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-20 18:38:42,722 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-20 18:38:42,723 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-20 18:38:42,725 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-20 18:38:53,566 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-20 18:38:53,836 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-20 18:38:53,836 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-20 18:39:01,888 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-20 18:39:01,889 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-20 18:39:01,943 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-20 18:39:01,945 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-20 18:39:01,950 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-20 18:39:01,980 - config - INFO - ===== PART 1 (추가): 데이터 인덱싱 시작 (5개 기업) - DART 섹션 추출/분석 =====
2025-04-20 18:39:02,009 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-20 18:39:02,279 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-20 18:39:02,656 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-20 18:39:03,049 - config - INFO - 보고서 20241114002642 다운로드 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-20 18:39:03,050 - config - ERROR - --- DART 처리 중 예외 발생 (005930): module 'core.dart_utils' has no attribute 'extract_html_from_zip' ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_15991/3137905460.py", line 72, in <module>
    html_bytes = dart_utils.extract_html_from_zip(zip_file_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'core.dart_utils' has no attribute 'extract_html_from_zip'
2025-04-20 18:39:03,052 - config - INFO - --- DART 처리 완료: 005930 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:39:04,060 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-20 18:39:04,312 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-20 18:39:04,663 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-20 18:39:04,908 - config - INFO - 보고서 20241114001712 다운로드 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-20 18:39:04,908 - config - ERROR - --- DART 처리 중 예외 발생 (000660): module 'core.dart_utils' has no attribute 'extract_html_from_zip' ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_15991/3137905460.py", line 72, in <module>
    html_bytes = dart_utils.extract_html_from_zip(zip_file_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'core.dart_utils' has no attribute 'extract_html_from_zip'
2025-04-20 18:39:04,910 - config - INFO - --- DART 처리 완료: 000660 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:39:05,916 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-20 18:39:06,207 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-20 18:39:06,467 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-20 18:39:06,752 - config - INFO - 보고서 20241230000609 다운로드 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-20 18:39:06,753 - config - ERROR - --- DART 처리 중 예외 발생 (105560): module 'core.dart_utils' has no attribute 'extract_html_from_zip' ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_15991/3137905460.py", line 72, in <module>
    html_bytes = dart_utils.extract_html_from_zip(zip_file_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'core.dart_utils' has no attribute 'extract_html_from_zip'
2025-04-20 18:39:06,756 - config - INFO - --- DART 처리 완료: 105560 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:39:07,759 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-20 18:39:08,028 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-20 18:39:08,335 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-20 18:39:08,605 - config - INFO - 보고서 20241114002593 다운로드 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-20 18:39:08,610 - config - ERROR - --- DART 처리 중 예외 발생 (005380): module 'core.dart_utils' has no attribute 'extract_html_from_zip' ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_15991/3137905460.py", line 72, in <module>
    html_bytes = dart_utils.extract_html_from_zip(zip_file_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'core.dart_utils' has no attribute 'extract_html_from_zip'
2025-04-20 18:39:08,616 - config - INFO - --- DART 처리 완료: 005380 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:39:09,623 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-20 18:39:09,878 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-20 18:39:10,159 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-20 18:39:10,454 - config - INFO - 보고서 20241113000565 다운로드 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-20 18:39:10,454 - config - ERROR - --- DART 처리 중 예외 발생 (012450): module 'core.dart_utils' has no attribute 'extract_html_from_zip' ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_15991/3137905460.py", line 72, in <module>
    html_bytes = dart_utils.extract_html_from_zip(zip_file_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'core.dart_utils' has no attribute 'extract_html_from_zip'
2025-04-20 18:39:10,457 - config - INFO - --- DART 처리 완료: 012450 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 18:39:11,465 - config - INFO - ===== PART 1 (추가): DART 데이터 인덱싱 완료 (성공: 0, 실패: 5) =====
2025-04-20 18:39:11,470 - config - WARNING - DART 처리 실패 목록: [{'code': '005930', 'reason': "Unhandled Exception: module 'core.dart_utils' has no attribute 'extract_html_from_zip'"}, {'code': '000660', 'reason': "Unhandled Exception: module 'core.dart_utils' has no attribute 'extract_html_from_zip'"}, {'code': '105560', 'reason': "Unhandled Exception: module 'core.dart_utils' has no attribute 'extract_html_from_zip'"}, {'code': '005380', 'reason': "Unhandled Exception: module 'core.dart_utils' has no attribute 'extract_html_from_zip'"}, {'code': '012450', 'reason': "Unhandled Exception: module 'core.dart_utils' has no attribute 'extract_html_from_zip'"}]
2025-04-20 19:17:27,914 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-20 19:17:29,205 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-20 19:17:29,485 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-20 19:17:29,586 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-20 19:17:29,650 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-20 19:17:29,655 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-20 19:17:29,680 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-20 19:17:29,681 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-20 19:17:29,683 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 19:17:29,684 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 19:17:29,685 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 19:17:29,686 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 19:17:29,687 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 19:17:29,689 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 19:17:29,689 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 19:17:29,690 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 19:17:29,690 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 19:17:29,690 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 19:17:29,691 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 19:17:29,691 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 19:17:29,692 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 19:17:29,693 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-20 19:17:29,694 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'aa5a7e1a-1dd0-11f0-8e84-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-20 19:17:30,546 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'aa5a7e1a-1dd0-11f0-8e84-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Sun, 20 Apr 2025 10:17:29 GMT'
2025-04-20 19:17:30,549 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-20 19:17:30,550 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-20 19:17:30,873 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-20 19:17:30,874 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-20 19:17:30,874 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-20 19:17:30,875 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-20 19:17:30,991 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-20 19:17:30,996 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-20 19:17:30,997 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-20 19:17:33,089 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-20 19:17:33,336 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-20 19:17:33,337 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-20 19:17:40,422 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-20 19:17:40,423 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-20 19:17:40,471 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-20 19:17:40,473 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-20 19:17:40,481 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-20 19:17:40,503 - config - INFO - ===== PART 1 (추가): 데이터 인덱싱 시작 (5개 기업) - DART 섹션 추출/분석 =====
2025-04-20 19:17:40,530 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-20 19:17:40,809 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-20 19:17:41,209 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-20 19:17:41,584 - config - INFO - 보고서 20241114002642 다운로드 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-20 19:17:41,585 - config - ERROR - --- DART 처리 중 예외 발생 (005930): module 'core.dart_utils' has no attribute 'extract_html_from_zip' ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_17819/3137905460.py", line 72, in <module>
    html_bytes = dart_utils.extract_html_from_zip(zip_file_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'core.dart_utils' has no attribute 'extract_html_from_zip'
2025-04-20 19:17:41,589 - config - INFO - --- DART 처리 완료: 005930 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 19:17:42,598 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-20 19:17:42,862 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-20 19:17:43,203 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-20 19:17:43,450 - config - INFO - 보고서 20241114001712 다운로드 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-20 19:17:43,451 - config - ERROR - --- DART 처리 중 예외 발생 (000660): module 'core.dart_utils' has no attribute 'extract_html_from_zip' ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_17819/3137905460.py", line 72, in <module>
    html_bytes = dart_utils.extract_html_from_zip(zip_file_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'core.dart_utils' has no attribute 'extract_html_from_zip'
2025-04-20 19:17:43,454 - config - INFO - --- DART 처리 완료: 000660 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 19:17:44,462 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-20 19:17:44,723 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-20 19:17:45,003 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-20 19:17:45,271 - config - INFO - 보고서 20241230000609 다운로드 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-20 19:17:45,272 - config - ERROR - --- DART 처리 중 예외 발생 (105560): module 'core.dart_utils' has no attribute 'extract_html_from_zip' ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_17819/3137905460.py", line 72, in <module>
    html_bytes = dart_utils.extract_html_from_zip(zip_file_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'core.dart_utils' has no attribute 'extract_html_from_zip'
2025-04-20 19:17:45,275 - config - INFO - --- DART 처리 완료: 105560 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 19:17:46,283 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-20 19:17:46,541 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-20 19:17:46,874 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-20 19:17:47,152 - config - INFO - 보고서 20241114002593 다운로드 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-20 19:17:47,154 - config - ERROR - --- DART 처리 중 예외 발생 (005380): module 'core.dart_utils' has no attribute 'extract_html_from_zip' ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_17819/3137905460.py", line 72, in <module>
    html_bytes = dart_utils.extract_html_from_zip(zip_file_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'core.dart_utils' has no attribute 'extract_html_from_zip'
2025-04-20 19:17:47,157 - config - INFO - --- DART 처리 완료: 005380 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 19:17:48,163 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-20 19:17:48,425 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-20 19:17:48,709 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-20 19:17:49,043 - config - INFO - 보고서 20241113000565 다운로드 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-20 19:17:49,045 - config - ERROR - --- DART 처리 중 예외 발생 (012450): module 'core.dart_utils' has no attribute 'extract_html_from_zip' ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_17819/3137905460.py", line 72, in <module>
    html_bytes = dart_utils.extract_html_from_zip(zip_file_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'core.dart_utils' has no attribute 'extract_html_from_zip'
2025-04-20 19:17:49,048 - config - INFO - --- DART 처리 완료: 012450 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-20 19:17:50,055 - config - INFO - ===== PART 1 (추가): DART 데이터 인덱싱 완료 (성공: 0, 실패: 5) =====
2025-04-20 19:17:50,056 - config - WARNING - DART 처리 실패 목록: [{'code': '005930', 'reason': "Unhandled Exception: module 'core.dart_utils' has no attribute 'extract_html_from_zip'"}, {'code': '000660', 'reason': "Unhandled Exception: module 'core.dart_utils' has no attribute 'extract_html_from_zip'"}, {'code': '105560', 'reason': "Unhandled Exception: module 'core.dart_utils' has no attribute 'extract_html_from_zip'"}, {'code': '005380', 'reason': "Unhandled Exception: module 'core.dart_utils' has no attribute 'extract_html_from_zip'"}, {'code': '012450', 'reason': "Unhandled Exception: module 'core.dart_utils' has no attribute 'extract_html_from_zip'"}]
2025-04-21 00:58:58,806 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 00:58:59,295 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 00:58:59,369 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 00:58:59,448 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 00:58:59,449 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 00:59:00,333 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 00:59:00,338 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 00:59:00,344 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 00:59:00,347 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 00:59:00,349 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 00:59:00,350 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 00:59:00,351 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 00:59:00,352 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 00:59:00,353 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 00:59:00,353 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 00:59:00,354 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 00:59:00,354 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 00:59:00,355 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 00:59:00,355 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 00:59:00,356 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 00:59:00,356 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 00:59:00,359 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '5fbdca4e-1e00-11f0-8e87-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 00:59:01,097 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '5fbdca4e-1e00-11f0-8e87-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Sun, 20 Apr 2025 15:59:00 GMT'
2025-04-21 00:59:01,102 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 00:59:01,105 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 00:59:02,339 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 00:59:02,340 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 00:59:02,341 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 00:59:02,341 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 00:59:02,429 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 00:59:02,430 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 00:59:02,431 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 00:59:05,871 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 00:59:06,085 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 00:59:06,085 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 00:59:13,317 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 00:59:13,318 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 00:59:13,368 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 00:59:13,371 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 00:59:13,378 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 00:59:20,209 - config - INFO - ===== PART 1 (추가): 데이터 인덱싱 시작 (5개 기업) - DART 섹션 추출/분석 =====
2025-04-21 00:59:20,240 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 00:59:20,525 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 00:59:21,096 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 00:59:21,422 - config - INFO - 보고서 20241114002642 다운로드 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 00:59:21,431 - config - ERROR - ZIP 파일(/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip) 내에서 유효한 HTML 파일을 찾을 수 없습니다.
2025-04-21 00:59:21,431 - config - ERROR - 005930: ZIP에서 HTML 추출 실패.
2025-04-21 00:59:21,432 - config - INFO - --- DART 처리 완료: 005930 (상태: DART HTML 없음, 처리된 청크 수: 0) ---
2025-04-21 00:59:22,437 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 00:59:22,707 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 00:59:23,020 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 00:59:23,328 - config - INFO - 보고서 20241114001712 다운로드 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 00:59:23,338 - config - ERROR - ZIP 파일(/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip) 내에서 유효한 HTML 파일을 찾을 수 없습니다.
2025-04-21 00:59:23,339 - config - ERROR - 000660: ZIP에서 HTML 추출 실패.
2025-04-21 00:59:23,340 - config - INFO - --- DART 처리 완료: 000660 (상태: DART HTML 없음, 처리된 청크 수: 0) ---
2025-04-21 00:59:24,358 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 00:59:24,610 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 00:59:24,878 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 00:59:25,641 - config - INFO - 보고서 20241230000609 다운로드 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 00:59:25,655 - config - ERROR - ZIP 파일(/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip) 내에서 유효한 HTML 파일을 찾을 수 없습니다.
2025-04-21 00:59:25,656 - config - ERROR - 105560: ZIP에서 HTML 추출 실패.
2025-04-21 00:59:25,657 - config - INFO - --- DART 처리 완료: 105560 (상태: DART HTML 없음, 처리된 청크 수: 0) ---
2025-04-21 00:59:26,664 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 00:59:26,938 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 00:59:27,238 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 00:59:27,586 - config - INFO - 보고서 20241114002593 다운로드 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 00:59:27,601 - config - ERROR - ZIP 파일(/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip) 내에서 유효한 HTML 파일을 찾을 수 없습니다.
2025-04-21 00:59:27,602 - config - ERROR - 005380: ZIP에서 HTML 추출 실패.
2025-04-21 00:59:27,603 - config - INFO - --- DART 처리 완료: 005380 (상태: DART HTML 없음, 처리된 청크 수: 0) ---
2025-04-21 00:59:28,610 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 00:59:28,872 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 00:59:29,222 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 00:59:29,769 - config - INFO - 보고서 20241113000565 다운로드 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 00:59:29,787 - config - ERROR - ZIP 파일(/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip) 내에서 유효한 HTML 파일을 찾을 수 없습니다.
2025-04-21 00:59:29,789 - config - ERROR - 012450: ZIP에서 HTML 추출 실패.
2025-04-21 00:59:29,790 - config - INFO - --- DART 처리 완료: 012450 (상태: DART HTML 없음, 처리된 청크 수: 0) ---
2025-04-21 00:59:30,800 - config - INFO - ===== PART 1 (추가): DART 데이터 인덱싱 완료 (성공: 0, 실패: 5) =====
2025-04-21 00:59:30,802 - config - WARNING - DART 처리 실패 목록: [{'code': '005930', 'reason': 'DART HTML 없음'}, {'code': '000660', 'reason': 'DART HTML 없음'}, {'code': '105560', 'reason': 'DART HTML 없음'}, {'code': '005380', 'reason': 'DART HTML 없음'}, {'code': '012450', 'reason': 'DART HTML 없음'}]
2025-04-21 01:04:49,406 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 01:04:53,466 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 01:04:53,522 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 01:04:53,597 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 01:04:53,598 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 01:04:56,353 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 01:04:56,355 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 01:04:56,356 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:04:56,357 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:04:56,358 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:04:56,358 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:04:56,359 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:04:56,360 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:04:56,360 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:04:56,361 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:04:56,361 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:04:56,362 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:04:56,363 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:04:56,374 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:04:56,385 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:04:56,386 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:04:56,388 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '33f39410-1e01-11f0-adde-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 01:04:57,199 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '33f39410-1e01-11f0-adde-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Sun, 20 Apr 2025 16:04:57 GMT'
2025-04-21 01:04:57,202 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 01:04:57,203 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 01:04:59,645 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 01:04:59,645 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 01:04:59,646 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 01:04:59,646 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 01:04:59,734 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 01:04:59,736 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 01:04:59,737 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 01:05:07,833 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 01:05:08,052 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 01:05:08,053 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 01:05:17,359 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 01:05:17,360 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 01:05:17,408 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 01:05:17,410 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 01:05:17,415 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 01:05:19,320 - config - INFO - ===== PART 1 (추가): 데이터 인덱싱 시작 (5개 기업) - DART 섹션 추출/분석 =====
2025-04-21 01:05:19,349 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 01:05:19,629 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 01:05:20,048 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 01:05:20,315 - config - INFO - 보고서 20241114002642 다운로드 및 검증(크기, ZIP유효성) 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 01:05:20,351 - config - ERROR - ZIP 파일(/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip) 내에서 유효한 HTML 파일을 찾을 수 없습니다.
2025-04-21 01:05:20,352 - config - ERROR - 005930: ZIP에서 HTML 추출 실패.
2025-04-21 01:05:20,352 - config - INFO - --- DART 처리 완료: 005930 (상태: DART HTML 없음, 처리된 청크 수: 0) ---
2025-04-21 01:05:21,364 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 01:05:21,638 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 01:05:21,953 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 01:05:22,199 - config - INFO - 보고서 20241114001712 다운로드 및 검증(크기, ZIP유효성) 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 01:05:22,207 - config - ERROR - ZIP 파일(/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip) 내에서 유효한 HTML 파일을 찾을 수 없습니다.
2025-04-21 01:05:22,208 - config - ERROR - 000660: ZIP에서 HTML 추출 실패.
2025-04-21 01:05:22,208 - config - INFO - --- DART 처리 완료: 000660 (상태: DART HTML 없음, 처리된 청크 수: 0) ---
2025-04-21 01:05:23,214 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 01:05:23,479 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 01:05:23,767 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 01:05:24,090 - config - INFO - 보고서 20241230000609 다운로드 및 검증(크기, ZIP유효성) 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 01:05:24,104 - config - ERROR - ZIP 파일(/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip) 내에서 유효한 HTML 파일을 찾을 수 없습니다.
2025-04-21 01:05:24,104 - config - ERROR - 105560: ZIP에서 HTML 추출 실패.
2025-04-21 01:05:24,105 - config - INFO - --- DART 처리 완료: 105560 (상태: DART HTML 없음, 처리된 청크 수: 0) ---
2025-04-21 01:05:25,113 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 01:05:25,392 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 01:05:25,701 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 01:05:25,956 - config - INFO - 보고서 20241114002593 다운로드 및 검증(크기, ZIP유효성) 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 01:05:25,975 - config - ERROR - ZIP 파일(/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip) 내에서 유효한 HTML 파일을 찾을 수 없습니다.
2025-04-21 01:05:25,976 - config - ERROR - 005380: ZIP에서 HTML 추출 실패.
2025-04-21 01:05:25,976 - config - INFO - --- DART 처리 완료: 005380 (상태: DART HTML 없음, 처리된 청크 수: 0) ---
2025-04-21 01:05:26,983 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 01:05:27,248 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 01:05:27,547 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 01:05:27,800 - config - INFO - 보고서 20241113000565 다운로드 및 검증(크기, ZIP유효성) 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 01:05:27,842 - config - ERROR - ZIP 파일(/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip) 내에서 유효한 HTML 파일을 찾을 수 없습니다.
2025-04-21 01:05:27,842 - config - ERROR - 012450: ZIP에서 HTML 추출 실패.
2025-04-21 01:05:27,843 - config - INFO - --- DART 처리 완료: 012450 (상태: DART HTML 없음, 처리된 청크 수: 0) ---
2025-04-21 01:05:28,851 - config - INFO - ===== PART 1 (추가): DART 데이터 인덱싱 완료 (성공: 0, 실패: 5) =====
2025-04-21 01:05:28,859 - config - WARNING - DART 처리 실패 목록: [{'code': '005930', 'reason': 'DART HTML 없음'}, {'code': '000660', 'reason': 'DART HTML 없음'}, {'code': '105560', 'reason': 'DART HTML 없음'}, {'code': '005380', 'reason': 'DART HTML 없음'}, {'code': '012450', 'reason': 'DART HTML 없음'}]
2025-04-21 01:27:45,976 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 01:27:45,983 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 01:27:46,029 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 01:27:46,097 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 01:27:46,098 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 01:27:47,535 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 01:27:47,536 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 01:27:47,537 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:27:47,538 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:27:47,539 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:27:47,539 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:27:47,540 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:27:47,540 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:27:47,541 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:27:47,541 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:27:47,541 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:27:47,542 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:27:47,542 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:27:47,542 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:27:47,542 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:27:47,543 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 01:27:47,546 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '65398dc4-1e04-11f0-8cf0-623dbcccadd6'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 01:27:48,287 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '65398dc4-1e04-11f0-8cf0-623dbcccadd6'
    'elapsed-time': 'REDACTED'
    'Date': 'Sun, 20 Apr 2025 16:27:47 GMT'
2025-04-21 01:27:48,292 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 01:27:48,295 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 01:27:49,121 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 01:27:49,122 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 01:27:49,122 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 01:27:49,123 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 01:27:49,214 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 01:27:49,215 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 01:27:49,216 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 01:27:51,593 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 01:27:51,805 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 01:27:51,805 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 01:27:59,213 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 01:27:59,214 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 01:27:59,264 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 01:27:59,265 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 01:27:59,270 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 01:27:59,309 - config - INFO - ===== PART 1 (추가): 데이터 인덱싱 시작 (5개 기업) - DART 섹션 추출/분석 =====
2025-04-21 01:27:59,335 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 01:27:59,626 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 01:28:00,183 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 01:28:00,499 - config - INFO - 보고서 20241114002642 다운로드 및 검증(크기, ZIP유효성) 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 01:28:00,518 - config - INFO - 유효한 보고서 파일(.xml) 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642/20241114002642.xml
2025-04-21 01:28:00,520 - config - INFO - 보고서 파일 내용 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 01:28:01,573 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 01:28:01,573 - config - WARNING - XML 파일이므로 HTML 섹션 추출 건너뛰고 전체 내용 사용.
2025-04-21 01:28:01,574 - config - INFO - 005930: 1개 섹션(또는 전체) DI 분석 및 정보 추출 시작...
2025-04-21 01:28:01,574 - config - INFO - DI 분석 중: 'FULL_XML_CONTENT'...
2025-04-21 01:28:01,575 - config - INFO - DI 클라이언트 초기화 성공
2025-04-21 01:28:01,575 - config - INFO - Document Intelligence 분석 시작 (콘텐츠 길이: 3176674)...
2025-04-21 01:28:01,585 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'content-type': 'application/json'
    'Content-Length': '4411390'
    'Accept': 'application/json'
    'x-ms-client-request-id': '6d97c350-1e04-11f0-8cf0-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-21 01:28:04,226 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Content-Length': '172'
    'Content-Type': 'application/json; charset=utf-8'
    'ms-azure-ai-errorcode': 'REDACTED'
    'x-ms-error-code': 'InvalidArgument'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Sun, 20 Apr 2025 16:28:03 GMT'
2025-04-21 01:28:04,230 - config - ERROR - Document Intelligence 분석 중 오류 발생: (InvalidArgument) Invalid argument.
Code: InvalidArgument
Message: Invalid argument.
Inner error: {
    "code": "ParameterMissing",
    "message": "The parameter urlSource or base64Source is required."
}
2025-04-21 01:28:04,748 - config - ERROR - 'FULL_XML_CONTENT' 섹션 DI 분석 실패.
2025-04-21 01:28:04,751 - config - WARNING - 005930: 모든 섹션/내용에서 유효 정보 추출 실패.
2025-04-21 01:28:04,753 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(DART), 처리된 청크 수: 0) ---
2025-04-21 01:28:05,763 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 01:28:06,057 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 01:28:06,354 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 01:28:06,607 - config - INFO - 보고서 20241114001712 다운로드 및 검증(크기, ZIP유효성) 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 01:28:06,618 - config - INFO - 유효한 보고서 파일(.xml) 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712/20241114001712.xml
2025-04-21 01:28:06,621 - config - INFO - 보고서 파일 내용 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 01:28:07,562 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 01:28:07,562 - config - WARNING - XML 파일이므로 HTML 섹션 추출 건너뛰고 전체 내용 사용.
2025-04-21 01:28:07,563 - config - INFO - 000660: 1개 섹션(또는 전체) DI 분석 및 정보 추출 시작...
2025-04-21 01:28:07,563 - config - INFO - DI 분석 중: 'FULL_XML_CONTENT'...
2025-04-21 01:28:07,564 - config - INFO - DI 클라이언트 초기화 성공
2025-04-21 01:28:07,564 - config - INFO - Document Intelligence 분석 시작 (콘텐츠 길이: 2477785)...
2025-04-21 01:28:07,571 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'content-type': 'application/json'
    'Content-Length': '3340880'
    'Accept': 'application/json'
    'x-ms-client-request-id': '71294250-1e04-11f0-8cf0-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-21 01:28:10,216 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Content-Length': '172'
    'Content-Type': 'application/json; charset=utf-8'
    'ms-azure-ai-errorcode': 'REDACTED'
    'x-ms-error-code': 'InvalidArgument'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Sun, 20 Apr 2025 16:28:09 GMT'
2025-04-21 01:28:10,218 - config - ERROR - Document Intelligence 분석 중 오류 발생: (InvalidArgument) Invalid argument.
Code: InvalidArgument
Message: Invalid argument.
Inner error: {
    "code": "ParameterMissing",
    "message": "The parameter urlSource or base64Source is required."
}
2025-04-21 01:28:10,726 - config - ERROR - 'FULL_XML_CONTENT' 섹션 DI 분석 실패.
2025-04-21 01:28:10,728 - config - WARNING - 000660: 모든 섹션/내용에서 유효 정보 추출 실패.
2025-04-21 01:28:10,730 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(DART), 처리된 청크 수: 0) ---
2025-04-21 01:28:11,736 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 01:28:12,045 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 01:28:12,332 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 01:28:12,607 - config - INFO - 보고서 20241230000609 다운로드 및 검증(크기, ZIP유효성) 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 01:28:12,631 - config - INFO - 유효한 보고서 파일(.xml) 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609/20241230000609.xml
2025-04-21 01:28:12,634 - config - INFO - 보고서 파일 내용 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 01:28:14,582 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 01:28:14,583 - config - WARNING - XML 파일이므로 HTML 섹션 추출 건너뛰고 전체 내용 사용.
2025-04-21 01:28:14,583 - config - INFO - 105560: 1개 섹션(또는 전체) DI 분석 및 정보 추출 시작...
2025-04-21 01:28:14,584 - config - INFO - DI 분석 중: 'FULL_XML_CONTENT'...
2025-04-21 01:28:14,584 - config - INFO - DI 클라이언트 초기화 성공
2025-04-21 01:28:14,584 - config - INFO - Document Intelligence 분석 시작 (콘텐츠 길이: 6432512)...
2025-04-21 01:28:14,605 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'content-type': 'application/json'
    'Content-Length': '9008005'
    'Accept': 'application/json'
    'x-ms-client-request-id': '755a7af6-1e04-11f0-8cf0-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-21 01:28:17,622 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Content-Length': '172'
    'Content-Type': 'application/json; charset=utf-8'
    'ms-azure-ai-errorcode': 'REDACTED'
    'x-ms-error-code': 'InvalidArgument'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Sun, 20 Apr 2025 16:28:17 GMT'
2025-04-21 01:28:17,624 - config - ERROR - Document Intelligence 분석 중 오류 발생: (InvalidArgument) Invalid argument.
Code: InvalidArgument
Message: Invalid argument.
Inner error: {
    "code": "ParameterMissing",
    "message": "The parameter urlSource or base64Source is required."
}
2025-04-21 01:28:18,132 - config - ERROR - 'FULL_XML_CONTENT' 섹션 DI 분석 실패.
2025-04-21 01:28:18,135 - config - WARNING - 105560: 모든 섹션/내용에서 유효 정보 추출 실패.
2025-04-21 01:28:18,137 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(DART), 처리된 청크 수: 0) ---
2025-04-21 01:28:19,144 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 01:28:19,429 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 01:28:19,739 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 01:28:19,998 - config - INFO - 보고서 20241114002593 다운로드 및 검증(크기, ZIP유효성) 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 01:28:20,014 - config - INFO - 유효한 보고서 파일(.xml) 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593/20241114002593.xml
2025-04-21 01:28:20,016 - config - INFO - 보고서 파일 내용 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 01:28:21,436 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 01:28:21,436 - config - WARNING - XML 파일이므로 HTML 섹션 추출 건너뛰고 전체 내용 사용.
2025-04-21 01:28:21,437 - config - INFO - 005380: 1개 섹션(또는 전체) DI 분석 및 정보 추출 시작...
2025-04-21 01:28:21,437 - config - INFO - DI 분석 중: 'FULL_XML_CONTENT'...
2025-04-21 01:28:21,437 - config - INFO - DI 클라이언트 초기화 성공
2025-04-21 01:28:21,438 - config - INFO - Document Intelligence 분석 시작 (콘텐츠 길이: 4390068)...
2025-04-21 01:28:21,450 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'content-type': 'application/json'
    'Content-Length': '5812433'
    'Accept': 'application/json'
    'x-ms-client-request-id': '796ef752-1e04-11f0-8cf0-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-21 01:28:24,267 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Content-Length': '172'
    'Content-Type': 'application/json; charset=utf-8'
    'ms-azure-ai-errorcode': 'REDACTED'
    'x-ms-error-code': 'InvalidArgument'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Sun, 20 Apr 2025 16:28:23 GMT'
2025-04-21 01:28:24,269 - config - ERROR - Document Intelligence 분석 중 오류 발생: (InvalidArgument) Invalid argument.
Code: InvalidArgument
Message: Invalid argument.
Inner error: {
    "code": "ParameterMissing",
    "message": "The parameter urlSource or base64Source is required."
}
2025-04-21 01:28:24,777 - config - ERROR - 'FULL_XML_CONTENT' 섹션 DI 분석 실패.
2025-04-21 01:28:24,780 - config - WARNING - 005380: 모든 섹션/내용에서 유효 정보 추출 실패.
2025-04-21 01:28:24,781 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(DART), 처리된 청크 수: 0) ---
2025-04-21 01:28:25,789 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 01:28:26,044 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 01:28:26,348 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 01:28:26,687 - config - INFO - 보고서 20241113000565 다운로드 및 검증(크기, ZIP유효성) 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 01:28:26,707 - config - INFO - 유효한 보고서 파일(.xml) 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565/20241113000565.xml
2025-04-21 01:28:26,709 - config - INFO - 보고서 파일 내용 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 01:28:28,446 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 01:28:28,447 - config - WARNING - XML 파일이므로 HTML 섹션 추출 건너뛰고 전체 내용 사용.
2025-04-21 01:28:28,447 - config - INFO - 012450: 1개 섹션(또는 전체) DI 분석 및 정보 추출 시작...
2025-04-21 01:28:28,448 - config - INFO - DI 분석 중: 'FULL_XML_CONTENT'...
2025-04-21 01:28:28,448 - config - INFO - DI 클라이언트 초기화 성공
2025-04-21 01:28:28,449 - config - INFO - Document Intelligence 분석 시작 (콘텐츠 길이: 5101693)...
2025-04-21 01:28:28,463 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'content-type': 'application/json'
    'Content-Length': '6772919'
    'Accept': 'application/json'
    'x-ms-client-request-id': '7d9d2164-1e04-11f0-8cf0-623dbcccadd6'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-21 01:28:31,278 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 400
Response headers:
    'Content-Length': '172'
    'Content-Type': 'application/json; charset=utf-8'
    'ms-azure-ai-errorcode': 'REDACTED'
    'x-ms-error-code': 'InvalidArgument'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Sun, 20 Apr 2025 16:28:30 GMT'
2025-04-21 01:28:31,281 - config - ERROR - Document Intelligence 분석 중 오류 발생: (InvalidArgument) Invalid argument.
Code: InvalidArgument
Message: Invalid argument.
Inner error: {
    "code": "ParameterMissing",
    "message": "The parameter urlSource or base64Source is required."
}
2025-04-21 01:28:31,793 - config - ERROR - 'FULL_XML_CONTENT' 섹션 DI 분석 실패.
2025-04-21 01:28:31,795 - config - WARNING - 012450: 모든 섹션/내용에서 유효 정보 추출 실패.
2025-04-21 01:28:31,797 - config - INFO - --- DART 처리 완료: 012450 (상태: 정보 추출 실패(DART), 처리된 청크 수: 0) ---
2025-04-21 01:28:32,807 - config - INFO - ===== PART 1 (추가): DART 데이터 인덱싱 완료 (성공: 0, 실패: 5) =====
2025-04-21 01:28:32,813 - config - WARNING - DART 처리 실패 목록: [{'code': '005930', 'reason': '정보 추출 실패(DART)'}, {'code': '000660', 'reason': '정보 추출 실패(DART)'}, {'code': '105560', 'reason': '정보 추출 실패(DART)'}, {'code': '005380', 'reason': '정보 추출 실패(DART)'}, {'code': '012450', 'reason': '정보 추출 실패(DART)'}]
2025-04-21 11:54:21,283 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 11:54:21,297 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 11:54:21,364 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 11:54:21,438 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 11:54:21,439 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 11:54:21,921 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 11:54:21,923 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 11:54:21,925 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 11:54:21,926 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 11:54:21,926 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 11:54:21,927 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 11:54:21,927 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 11:54:21,928 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 11:54:21,929 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 11:54:21,930 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 11:54:21,930 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 11:54:21,931 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 11:54:21,931 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 11:54:21,932 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 11:54:21,932 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 11:54:21,932 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 11:54:21,936 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'ed3a50bc-1e5b-11f0-bbcb-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 11:54:22,954 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'ed3a50bc-1e5b-11f0-bbcb-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 02:54:22 GMT'
2025-04-21 11:54:22,958 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 11:54:22,962 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 11:54:23,733 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 11:54:23,738 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 11:54:23,740 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 11:54:23,743 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 11:54:23,921 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 11:54:23,925 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 11:54:23,926 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 11:54:25,194 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 11:54:25,484 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 11:54:25,485 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 11:54:33,293 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 11:54:33,294 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 11:54:33,360 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 11:54:33,362 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 11:54:33,370 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 11:54:33,393 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 11:54:33,422 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 11:54:33,829 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 11:54:34,204 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 11:54:34,487 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 11:54:34,494 - config - INFO - 루트에서 XML 파일 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 11:54:34,496 - config - INFO - 보고서 파일 내용 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 11:54:34,497 - config - INFO - XML 선언부에서 인코딩 감지: utf-8
2025-04-21 11:54:34,501 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 11:54:34,503 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 11:54:34,503 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 11:54:34,690 - config - WARNING - '['연결대상\\s*종속회사\\s*현황']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:34,708 - config - WARNING - '['계열회사\\s*현황']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:34,708 - config - INFO - 소유 관계(종속회사, 계열사) 정보 0건 추출.
2025-04-21 11:54:34,744 - config - WARNING - '['원재료', '매입\\s*현황']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:34,772 - config - WARNING - '['매출', '수주\\s*상황']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:34,785 - config - WARNING - '['주요\\s*계약']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:34,786 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 11:54:34,787 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 11:54:34,823 - config - WARNING - 005930: 임베딩할 추출 데이터 없음.
2025-04-21 11:54:34,823 - config - WARNING - 005930: 업로드할 추출 데이터 없음.
2025-04-21 11:54:34,824 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 11:54:35,831 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 11:54:36,084 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 11:54:36,485 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 11:54:36,728 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 11:54:36,742 - config - INFO - 루트에서 XML 파일 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 11:54:36,745 - config - INFO - 보고서 파일 내용 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 11:54:36,746 - config - INFO - XML 선언부에서 인코딩 감지: utf-8
2025-04-21 11:54:36,751 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 11:54:36,752 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 11:54:36,753 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 11:54:36,879 - config - WARNING - '['연결대상\\s*종속회사\\s*현황']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:36,893 - config - WARNING - '['계열회사\\s*현황']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:36,893 - config - INFO - 소유 관계(종속회사, 계열사) 정보 0건 추출.
2025-04-21 11:54:36,924 - config - WARNING - '['원재료', '매입\\s*현황']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:36,956 - config - WARNING - '['매출', '수주\\s*상황']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:36,970 - config - WARNING - '['주요\\s*계약']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:36,970 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 11:54:36,971 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 11:54:37,001 - config - WARNING - 000660: 임베딩할 추출 데이터 없음.
2025-04-21 11:54:37,002 - config - WARNING - 000660: 업로드할 추출 데이터 없음.
2025-04-21 11:54:37,002 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 11:54:38,011 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 11:54:38,287 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 11:54:38,621 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 11:54:39,112 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 11:54:39,139 - config - INFO - 루트에서 XML 파일 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 11:54:39,143 - config - INFO - 보고서 파일 내용 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 11:54:39,144 - config - INFO - XML 선언부에서 인코딩 감지: utf-8
2025-04-21 11:54:39,154 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 11:54:39,155 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 11:54:39,155 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 11:54:39,446 - config - WARNING - '['연결대상\\s*종속회사\\s*현황']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:39,473 - config - WARNING - '['계열회사\\s*현황']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:39,474 - config - INFO - 소유 관계(종속회사, 계열사) 정보 0건 추출.
2025-04-21 11:54:39,524 - config - WARNING - '['원재료', '매입\\s*현황']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:39,572 - config - WARNING - '['매출', '수주\\s*상황']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:39,597 - config - WARNING - '['주요\\s*계약']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:39,598 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 11:54:39,598 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 11:54:39,668 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 11:54:39,669 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 11:54:39,670 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 11:54:40,678 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 11:54:40,963 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 11:54:41,247 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 11:54:41,632 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 11:54:41,649 - config - INFO - 루트에서 XML 파일 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 11:54:41,653 - config - INFO - 보고서 파일 내용 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 11:54:41,654 - config - INFO - XML 선언부에서 인코딩 감지: utf-8
2025-04-21 11:54:41,661 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 11:54:41,662 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 11:54:41,662 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 11:54:41,882 - config - WARNING - '['연결대상\\s*종속회사\\s*현황']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:41,906 - config - WARNING - '['계열회사\\s*현황']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:41,907 - config - INFO - 소유 관계(종속회사, 계열사) 정보 0건 추출.
2025-04-21 11:54:41,951 - config - WARNING - '['원재료', '매입\\s*현황']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:41,991 - config - WARNING - '['매출', '수주\\s*상황']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:42,008 - config - WARNING - '['주요\\s*계약']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:42,009 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 11:54:42,009 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 11:54:42,055 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 11:54:42,055 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 11:54:42,055 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 11:54:43,063 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 11:54:43,322 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 11:54:43,618 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 11:54:43,955 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 11:54:43,972 - config - INFO - 루트에서 XML 파일 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 11:54:43,975 - config - INFO - 보고서 파일 내용 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 11:54:43,975 - config - INFO - XML 선언부에서 인코딩 감지: utf-8
2025-04-21 11:54:43,979 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 11:54:43,980 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 11:54:43,980 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 11:54:44,221 - config - WARNING - '['연결대상\\s*종속회사\\s*현황']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:44,248 - config - WARNING - '['계열회사\\s*현황']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:44,248 - config - INFO - 소유 관계(종속회사, 계열사) 정보 0건 추출.
2025-04-21 11:54:44,296 - config - WARNING - '['원재료', '매입\\s*현황']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:44,338 - config - WARNING - '['매출', '수주\\s*상황']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:44,369 - config - WARNING - '['주요\\s*계약']' 키워드를 포함하는 섹션을 찾지 못했습니다.
2025-04-21 11:54:44,370 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 11:54:44,370 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 11:54:44,430 - config - WARNING - 012450: 임베딩할 추출 데이터 없음.
2025-04-21 11:54:44,430 - config - WARNING - 012450: 업로드할 추출 데이터 없음.
2025-04-21 11:54:44,431 - config - INFO - --- DART 처리 완료: 012450 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 11:54:45,439 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 10) =====
2025-04-21 11:54:45,443 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '005930', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '000660', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '012450', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 12:01:21,018 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 12:10:22,675 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 12:10:22,916 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 12:10:23,103 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 12:10:23,190 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 12:10:23,237 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 12:10:23,237 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 12:10:23,444 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 12:10:23,445 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 12:10:23,447 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:10:23,448 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:10:23,448 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:10:23,449 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:10:23,449 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:10:23,449 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:10:23,450 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:10:23,450 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:10:23,450 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:10:23,451 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:10:23,451 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:10:23,451 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:10:23,452 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:10:23,452 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:10:23,454 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '2a5644ae-1e5e-11f0-911b-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 12:10:24,404 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '2a5644ae-1e5e-11f0-911b-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 03:10:24 GMT'
2025-04-21 12:10:24,408 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 12:10:24,411 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 12:10:25,568 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 12:10:25,569 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 12:10:25,569 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 12:10:25,570 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 12:10:25,690 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 12:10:25,693 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 12:10:25,695 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 12:10:27,899 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 12:10:28,138 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 12:10:28,139 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 12:10:35,377 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 12:10:35,378 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 12:10:35,429 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 12:10:35,432 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 12:10:35,439 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 12:12:26,188 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 12:12:27,025 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 12:12:27,598 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 12:12:27,692 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 12:12:27,737 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 12:12:27,737 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 12:12:28,239 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 12:12:28,239 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 12:12:28,240 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:12:28,240 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:12:28,241 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:12:28,241 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:12:28,241 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:12:28,242 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:12:28,242 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:12:28,244 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:12:28,267 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:12:28,269 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:12:28,269 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:12:28,270 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:12:28,270 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:12:28,271 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:12:28,275 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '74bc714e-1e5e-11f0-b859-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 12:12:29,171 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '74bc714e-1e5e-11f0-b859-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 03:12:29 GMT'
2025-04-21 12:12:29,173 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 12:12:29,174 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 12:12:30,189 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 12:12:30,189 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 12:12:30,190 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 12:12:30,190 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 12:12:30,280 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 12:12:30,281 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 12:12:30,282 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 12:12:32,935 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 12:12:33,161 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 12:12:33,162 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 12:12:41,105 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 12:12:41,106 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 12:12:41,185 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 12:12:41,188 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 12:12:41,193 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 12:12:41,223 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 12:12:41,254 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 12:12:41,539 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 12:12:41,919 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 12:12:42,299 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 12:12:42,322 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 12:12:42,339 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 12:12:42,341 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 12:12:42,354 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 12:12:42,355 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 12:12:42,355 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 12:12:42,501 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:42,510 - config - WARNING - '['2\\.\\s*계열회사\\s*현황']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:42,518 - config - WARNING - '['IX\\.\\s*계열회사']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:42,519 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 12:12:42,528 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:42,535 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:42,544 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:42,545 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 12:12:42,545 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 12:12:42,583 - config - WARNING - 005930: 임베딩할 추출 데이터 없음.
2025-04-21 12:12:42,584 - config - WARNING - 005930: 업로드할 추출 데이터 없음.
2025-04-21 12:12:42,585 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 12:12:43,590 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 12:12:43,867 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 12:12:44,144 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 12:12:44,386 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 12:12:44,393 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 12:12:44,395 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 12:12:44,396 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 12:12:44,401 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 12:12:44,403 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 12:12:44,403 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 12:12:44,519 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:44,526 - config - WARNING - '['2\\.\\s*계열회사\\s*현황']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:44,532 - config - WARNING - '['IX\\.\\s*계열회사']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:44,533 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 12:12:44,540 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:44,570 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:44,583 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:44,583 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 12:12:44,584 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 12:12:44,619 - config - WARNING - 000660: 임베딩할 추출 데이터 없음.
2025-04-21 12:12:44,621 - config - WARNING - 000660: 업로드할 추출 데이터 없음.
2025-04-21 12:12:44,621 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 12:12:45,629 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 12:12:45,971 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 12:12:46,243 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 12:12:46,551 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 12:12:46,574 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 12:12:46,578 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 12:12:46,579 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 12:12:46,589 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 12:12:46,589 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 12:12:46,590 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 12:12:46,864 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:46,876 - config - WARNING - '['2\\.\\s*계열회사\\s*현황']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:46,890 - config - WARNING - '['IX\\.\\s*계열회사']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:46,891 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 12:12:46,902 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:46,914 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:46,926 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:46,926 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 12:12:46,926 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 12:12:46,998 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 12:12:46,999 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 12:12:47,000 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 12:12:48,006 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 12:12:48,293 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 12:12:48,626 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 12:12:48,939 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 12:12:48,959 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 12:12:48,961 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 12:12:48,962 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 12:12:48,969 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 12:12:48,969 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 12:12:48,970 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 12:12:49,160 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:49,169 - config - WARNING - '['2\\.\\s*계열회사\\s*현황']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:49,178 - config - WARNING - '['IX\\.\\s*계열회사']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:49,178 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 12:12:49,187 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:49,195 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:49,202 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:49,203 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 12:12:49,204 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 12:12:49,250 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 12:12:49,251 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 12:12:49,251 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 12:12:50,258 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 12:12:50,641 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 12:12:50,939 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 12:12:51,520 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 12:12:51,542 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 12:12:51,544 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 12:12:51,546 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 12:12:51,550 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 12:12:51,551 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 12:12:51,552 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 12:12:51,796 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:51,806 - config - WARNING - '['2\\.\\s*계열회사\\s*현황']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:51,817 - config - WARNING - '['IX\\.\\s*계열회사']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:51,818 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 12:12:51,828 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:51,840 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:51,851 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 섹션을 찾지 못했습니다.
2025-04-21 12:12:51,852 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 12:12:51,852 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 12:12:51,911 - config - WARNING - 012450: 임베딩할 추출 데이터 없음.
2025-04-21 12:12:51,911 - config - WARNING - 012450: 업로드할 추출 데이터 없음.
2025-04-21 12:12:51,912 - config - INFO - --- DART 처리 완료: 012450 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 12:12:52,921 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 10) =====
2025-04-21 12:12:52,923 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '005930', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '000660', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '012450', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 12:42:06,968 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 12:42:10,458 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 12:42:10,511 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 12:42:10,588 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 12:42:10,589 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 12:42:10,853 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 12:42:10,854 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 12:42:10,855 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:42:10,856 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:42:10,856 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:42:10,857 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:42:10,857 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:42:10,857 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:42:10,868 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:42:10,869 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:42:10,882 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:42:10,883 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:42:10,883 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:42:10,883 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:42:10,884 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:42:10,884 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 12:42:10,893 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '9b425b72-1e62-11f0-93b2-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 12:42:11,916 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '9b425b72-1e62-11f0-93b2-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 03:42:10 GMT'
2025-04-21 12:42:11,920 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 12:42:11,924 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 12:42:12,220 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 12:42:12,221 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 12:42:12,221 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 12:42:12,222 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 12:42:12,327 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 12:42:12,329 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 12:42:12,330 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 12:42:13,923 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 12:42:14,172 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 12:42:14,172 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 12:42:22,020 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 12:42:22,021 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 12:42:22,073 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 12:42:22,075 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 12:42:22,080 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 14:06:15,803 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 14:06:15,811 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 14:06:15,896 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 14:06:15,946 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 14:06:15,946 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 14:06:16,317 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 14:06:16,319 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 14:06:16,320 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:06:16,322 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:06:16,328 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:06:16,329 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:06:16,330 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:06:16,330 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:06:16,330 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:06:16,331 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:06:16,331 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:06:16,331 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:06:16,332 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:06:16,332 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:06:16,332 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:06:16,333 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:06:16,334 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '5a93a804-1e6e-11f0-b26f-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 14:06:17,146 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '5a93a804-1e6e-11f0-b26f-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 05:06:17 GMT'
2025-04-21 14:06:17,150 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 14:06:17,152 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 14:06:18,642 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 14:06:18,643 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 14:06:18,644 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 14:06:18,644 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 14:06:18,743 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 14:06:18,745 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 14:06:18,746 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 14:06:20,477 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 14:06:20,737 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 14:06:20,738 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 14:06:34,449 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 14:06:34,449 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 14:06:34,503 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 14:06:34,506 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 14:06:34,511 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 14:06:34,543 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 14:06:34,573 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 14:06:34,851 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 14:06:35,325 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 14:06:35,702 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 14:06:35,719 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 14:06:35,722 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 14:06:35,724 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 14:06:35,728 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 14:06:35,729 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 14:06:35,730 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 14:06:35,876 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:35,884 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:35,884 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 14:06:35,892 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:35,901 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:35,910 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:35,910 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 14:06:35,911 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 14:06:35,948 - config - WARNING - 005930: 임베딩할 추출 데이터 없음.
2025-04-21 14:06:35,948 - config - WARNING - 005930: 업로드할 추출 데이터 없음.
2025-04-21 14:06:35,949 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 14:06:36,957 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 14:06:37,281 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 14:06:37,553 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 14:06:37,791 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 14:06:37,795 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 14:06:37,797 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 14:06:37,798 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 14:06:37,803 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 14:06:37,806 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 14:06:37,806 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 14:06:37,950 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:37,956 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:37,957 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 14:06:37,963 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:37,969 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:37,974 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:37,975 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 14:06:37,975 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 14:06:38,008 - config - WARNING - 000660: 임베딩할 추출 데이터 없음.
2025-04-21 14:06:38,009 - config - WARNING - 000660: 업로드할 추출 데이터 없음.
2025-04-21 14:06:38,009 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 14:06:39,014 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 14:06:39,371 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 14:06:39,630 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 14:06:39,949 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 14:06:39,970 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 14:06:39,974 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 14:06:39,975 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 14:06:39,985 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 14:06:39,986 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 14:06:39,987 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 14:06:40,267 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:40,280 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:40,280 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 14:06:40,293 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:40,305 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:40,316 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:40,316 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 14:06:40,316 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 14:06:40,388 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 14:06:40,389 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 14:06:40,390 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 14:06:41,398 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 14:06:41,697 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 14:06:42,044 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 14:06:42,358 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 14:06:42,375 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 14:06:42,377 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 14:06:42,378 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 14:06:42,386 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 14:06:42,387 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 14:06:42,388 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 14:06:42,577 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:42,587 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:42,588 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 14:06:42,599 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:42,610 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:42,622 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:42,623 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 14:06:42,623 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 14:06:42,673 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 14:06:42,674 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 14:06:42,675 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 14:06:43,683 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 14:06:44,107 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 14:06:44,394 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 14:06:44,677 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 14:06:44,692 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 14:06:44,695 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 14:06:44,697 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 14:06:44,701 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 14:06:44,701 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 14:06:44,702 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 14:06:44,947 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:44,957 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:44,958 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 14:06:44,969 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:44,980 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:44,990 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:06:44,991 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 14:06:44,991 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 14:06:45,048 - config - WARNING - 012450: 임베딩할 추출 데이터 없음.
2025-04-21 14:06:45,048 - config - WARNING - 012450: 업로드할 추출 데이터 없음.
2025-04-21 14:06:45,049 - config - INFO - --- DART 처리 완료: 012450 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 14:06:46,056 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 10) =====
2025-04-21 14:06:46,057 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '005930', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '000660', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '012450', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 14:18:50,862 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 14:18:50,868 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 14:18:50,915 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 14:18:50,993 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 14:18:50,993 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 14:18:50,998 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 14:18:51,000 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 14:18:51,000 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:18:51,001 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:18:51,001 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:18:51,001 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:18:51,002 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:18:51,002 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:18:51,003 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:18:51,003 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:18:51,004 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:18:51,004 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:18:51,004 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:18:51,005 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:18:51,005 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:18:51,005 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:18:51,007 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '1c658f46-1e70-11f0-b3f3-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 14:18:51,789 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '1c658f46-1e70-11f0-b3f3-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 05:18:51 GMT'
2025-04-21 14:18:51,793 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 14:18:51,797 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 14:18:52,059 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 14:18:52,060 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 14:18:52,060 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 14:18:52,061 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 14:18:52,160 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 14:18:52,162 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 14:18:52,163 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 14:18:54,605 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 14:18:54,881 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 14:18:54,881 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 14:19:02,308 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 14:19:02,309 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 14:19:02,360 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 14:19:02,362 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 14:19:02,368 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 14:19:02,433 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 14:19:02,465 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 14:19:02,858 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 14:19:03,380 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 14:19:03,671 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 14:19:03,679 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 14:19:03,681 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 14:19:03,683 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 14:19:03,688 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 14:19:03,688 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 14:19:03,689 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 14:19:03,823 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['1\\.\\s*연결대상\\s*종속회사\\s*현황']) ---
2025-04-21 14:19:03,832 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:03,833 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:03,833 - config - WARNING - (디버깅 중) '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:03,833 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']) ---
2025-04-21 14:19:03,841 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:03,842 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:03,843 - config - WARNING - (디버깅 중) '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:03,843 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 14:19:03,844 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['3\\.\\s*원재료']) ---
2025-04-21 14:19:03,851 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:03,852 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:03,852 - config - WARNING - (디버깅 중) '['3\\.\\s*원재료']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:03,853 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['4\\.\\s*매출\\s*및\\s*수주\\s*상황']) ---
2025-04-21 14:19:03,860 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:03,861 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:03,861 - config - WARNING - (디버깅 중) '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:03,862 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['6\\.\\s*주요계약']) ---
2025-04-21 14:19:03,870 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:03,870 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:03,870 - config - WARNING - (디버깅 중) '['6\\.\\s*주요계약']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:03,871 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 14:19:03,871 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 14:19:03,909 - config - WARNING - 005930: 임베딩할 추출 데이터 없음.
2025-04-21 14:19:03,910 - config - WARNING - 005930: 업로드할 추출 데이터 없음.
2025-04-21 14:19:03,910 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 14:19:04,919 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 14:19:05,175 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 14:19:05,490 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 14:19:05,738 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 14:19:05,758 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 14:19:05,761 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 14:19:05,763 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 14:19:05,765 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 14:19:05,766 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 14:19:05,767 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 14:19:05,875 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['1\\.\\s*연결대상\\s*종속회사\\s*현황']) ---
2025-04-21 14:19:05,882 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:05,883 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:05,883 - config - WARNING - (디버깅 중) '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:05,883 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']) ---
2025-04-21 14:19:05,889 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:05,889 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:05,890 - config - WARNING - (디버깅 중) '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:05,890 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 14:19:05,891 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['3\\.\\s*원재료']) ---
2025-04-21 14:19:05,897 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:05,897 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:05,898 - config - WARNING - (디버깅 중) '['3\\.\\s*원재료']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:05,898 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['4\\.\\s*매출\\s*및\\s*수주\\s*상황']) ---
2025-04-21 14:19:05,905 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:05,905 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:05,905 - config - WARNING - (디버깅 중) '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:05,906 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['6\\.\\s*주요계약']) ---
2025-04-21 14:19:05,912 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:05,913 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:05,913 - config - WARNING - (디버깅 중) '['6\\.\\s*주요계약']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:05,913 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 14:19:05,914 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 14:19:05,943 - config - WARNING - 000660: 임베딩할 추출 데이터 없음.
2025-04-21 14:19:05,944 - config - WARNING - 000660: 업로드할 추출 데이터 없음.
2025-04-21 14:19:05,944 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 14:19:06,952 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 14:19:07,219 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 14:19:07,578 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 14:19:08,035 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 14:19:08,057 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 14:19:08,061 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 14:19:08,063 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 14:19:08,072 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 14:19:08,073 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 14:19:08,074 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 14:19:08,352 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['1\\.\\s*연결대상\\s*종속회사\\s*현황']) ---
2025-04-21 14:19:08,364 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:08,365 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:08,365 - config - WARNING - (디버깅 중) '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:08,365 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']) ---
2025-04-21 14:19:08,376 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:08,377 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:08,377 - config - WARNING - (디버깅 중) '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:08,378 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 14:19:08,378 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['3\\.\\s*원재료']) ---
2025-04-21 14:19:08,388 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:08,388 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:08,389 - config - WARNING - (디버깅 중) '['3\\.\\s*원재료']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:08,389 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['4\\.\\s*매출\\s*및\\s*수주\\s*상황']) ---
2025-04-21 14:19:08,399 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:08,400 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:08,400 - config - WARNING - (디버깅 중) '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:08,400 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['6\\.\\s*주요계약']) ---
2025-04-21 14:19:08,411 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:08,412 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:08,412 - config - WARNING - (디버깅 중) '['6\\.\\s*주요계약']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:08,412 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 14:19:08,413 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 14:19:08,483 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 14:19:08,484 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 14:19:08,484 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 14:19:09,492 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 14:19:09,760 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 14:19:10,170 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 14:19:10,574 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 14:19:10,594 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 14:19:10,597 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 14:19:10,598 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 14:19:10,606 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 14:19:10,606 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 14:19:10,607 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 14:19:10,790 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['1\\.\\s*연결대상\\s*종속회사\\s*현황']) ---
2025-04-21 14:19:10,802 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:10,802 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:10,803 - config - WARNING - (디버깅 중) '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:10,803 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']) ---
2025-04-21 14:19:10,813 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:10,814 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:10,814 - config - WARNING - (디버깅 중) '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:10,815 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 14:19:10,815 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['3\\.\\s*원재료']) ---
2025-04-21 14:19:10,825 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:10,826 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:10,826 - config - WARNING - (디버깅 중) '['3\\.\\s*원재료']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:10,826 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['4\\.\\s*매출\\s*및\\s*수주\\s*상황']) ---
2025-04-21 14:19:10,837 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:10,837 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:10,837 - config - WARNING - (디버깅 중) '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:10,838 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['6\\.\\s*주요계약']) ---
2025-04-21 14:19:10,848 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:10,848 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:10,849 - config - WARNING - (디버깅 중) '['6\\.\\s*주요계약']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:10,850 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 14:19:10,850 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 14:19:10,897 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 14:19:10,898 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 14:19:10,898 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 14:19:11,906 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 14:19:12,280 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 14:19:12,587 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 14:19:12,903 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 14:19:12,926 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 14:19:12,929 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 14:19:12,931 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 14:19:12,935 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 14:19:12,936 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 14:19:12,936 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 14:19:13,154 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['1\\.\\s*연결대상\\s*종속회사\\s*현황']) ---
2025-04-21 14:19:13,166 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:13,167 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:13,167 - config - WARNING - (디버깅 중) '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:13,167 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']) ---
2025-04-21 14:19:13,178 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:13,178 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:13,179 - config - WARNING - (디버깅 중) '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:13,179 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 14:19:13,179 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['3\\.\\s*원재료']) ---
2025-04-21 14:19:13,189 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:13,189 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:13,190 - config - WARNING - (디버깅 중) '['3\\.\\s*원재료']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:13,190 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['4\\.\\s*매출\\s*및\\s*수주\\s*상황']) ---
2025-04-21 14:19:13,201 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:13,201 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:13,201 - config - WARNING - (디버깅 중) '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:13,202 - config - INFO - --- 모든 TITLE 텍스트 로깅 시작 (검색 패턴: ['6\\.\\s*주요계약']) ---
2025-04-21 14:19:13,212 - config - INFO - 총 0개의 TITLE 태그를 XPath로 찾음.
2025-04-21 14:19:13,212 - config - INFO - --- 모든 TITLE 텍스트 로깅 완료 (내용 있는 TITLE 0개 발견) ---
2025-04-21 14:19:13,213 - config - WARNING - (디버깅 중) '['6\\.\\s*주요계약']' 패턴 매칭 건너뛰고 항상 None 반환.
2025-04-21 14:19:13,213 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 14:19:13,213 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 14:19:13,271 - config - WARNING - 012450: 임베딩할 추출 데이터 없음.
2025-04-21 14:19:13,271 - config - WARNING - 012450: 업로드할 추출 데이터 없음.
2025-04-21 14:19:13,272 - config - INFO - --- DART 처리 완료: 012450 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 14:19:14,281 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 10) =====
2025-04-21 14:19:14,285 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '005930', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '000660', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '012450', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 14:22:59,366 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 14:22:59,373 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 14:22:59,452 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 14:22:59,499 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 14:22:59,500 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 14:22:59,505 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 14:22:59,505 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 14:22:59,506 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:22:59,507 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:22:59,507 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:22:59,508 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:22:59,508 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:22:59,508 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:22:59,508 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:22:59,509 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:22:59,509 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:22:59,509 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:22:59,510 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:22:59,510 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:22:59,510 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:22:59,510 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:22:59,512 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'b0846bca-1e70-11f0-942f-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 14:23:01,901 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'b0846bca-1e70-11f0-942f-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 05:23:01 GMT'
2025-04-21 14:23:01,903 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 14:23:01,905 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 14:23:02,213 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 14:23:02,214 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 14:23:02,215 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 14:23:02,215 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 14:23:02,344 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 14:23:02,346 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 14:23:02,348 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 14:23:05,725 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 14:23:06,015 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 14:23:06,015 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 14:23:13,284 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 14:23:13,285 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 14:23:13,337 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 14:23:13,339 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 14:23:13,345 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 14:29:22,167 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 14:29:22,176 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 14:29:22,226 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 14:29:22,306 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 14:29:22,307 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 14:29:22,455 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 14:29:22,455 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 14:29:22,456 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:29:22,458 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:29:22,459 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:29:22,459 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:29:22,460 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:29:22,460 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:29:22,461 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:29:22,461 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:29:22,461 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:29:22,461 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:29:22,462 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:29:22,462 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:29:22,462 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:29:22,463 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:29:22,467 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '94c6a15e-1e71-11f0-ac10-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 14:29:23,346 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '94c6a15e-1e71-11f0-ac10-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 05:29:23 GMT'
2025-04-21 14:29:23,349 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 14:29:23,350 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 14:29:23,611 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 14:29:23,612 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 14:29:23,613 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 14:29:23,613 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 14:29:23,715 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 14:29:23,717 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 14:29:23,718 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 14:29:24,192 - config - INFO - ===== PART 1: 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 14:29:24,194 - config - INFO - --- 인덱싱 시작 (단일 기업): 삼성전자(005930) ---
2025-04-21 14:29:24,198 - config - INFO - PDF 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/input_pdfs/005930.pdf
2025-04-21 14:29:24,199 - config - INFO - DI 클라이언트 초기화 성공
2025-04-21 14:29:24,200 - config - INFO - Document Intelligence 분석 시작 (콘텐츠 길이: 8866498)...
2025-04-21 14:29:24,202 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com//documentintelligence/documentModels/prebuilt-layout:analyze?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Length': '8866498'
    'content-type': 'application/octet-stream'
    'Accept': 'application/json'
    'x-ms-client-request-id': '95cf6d74-1e71-11f0-ac10-623dbcccadd7'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
A body is sent with the request
2025-04-21 14:29:28,694 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 202
Response headers:
    'Content-Length': '0'
    'Operation-Location': 'REDACTED'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 05:29:28 GMT'
2025-04-21 14:29:28,695 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/f273a225-ba09-48d8-bbd7-c2fd0b379ea1?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '95cf6d74-1e71-11f0-ac10-623dbcccadd7'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-21 14:29:29,075 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 05:29:28 GMT'
2025-04-21 14:29:30,082 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/f273a225-ba09-48d8-bbd7-c2fd0b379ea1?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '95cf6d74-1e71-11f0-ac10-623dbcccadd7'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-21 14:29:30,337 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 05:29:30 GMT'
2025-04-21 14:29:31,343 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/f273a225-ba09-48d8-bbd7-c2fd0b379ea1?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '95cf6d74-1e71-11f0-ac10-623dbcccadd7'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-21 14:29:31,421 - config - WARNING - 사용자에 의해 실행 중단됨.
2025-04-21 14:29:31,422 - config - INFO - --- 인덱싱 완료: 005930 (상태: 사용자 중단, 처리된 청크 수: 0) ---
2025-04-21 14:29:31,702 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 05:29:31 GMT'
2025-04-21 14:29:32,710 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/f273a225-ba09-48d8-bbd7-c2fd0b379ea1?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '95cf6d74-1e71-11f0-ac10-623dbcccadd7'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-21 14:29:32,953 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '106'
    'Content-Type': 'application/json; charset=utf-8'
    'retry-after': '1'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 05:29:32 GMT'
2025-04-21 14:29:33,960 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://documnetintelligence0417.cognitiveservices.azure.com/documentintelligence/documentModels/prebuilt-layout/analyzeResults/f273a225-ba09-48d8-bbd7-c2fd0b379ea1?api-version=REDACTED'
Request method: 'GET'
Request headers:
    'x-ms-client-request-id': '95cf6d74-1e71-11f0-ac10-623dbcccadd7'
    'User-Agent': 'azsdk-python-ai-documentintelligence/1.0.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
    'Ocp-Apim-Subscription-Key': 'REDACTED'
No body was attached to the request
2025-04-21 14:29:43,959 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 14:29:44,160 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 14:29:44,160 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 14:29:47,622 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '3669362'
    'Content-Type': 'application/json; charset=utf-8'
    'x-envoy-upstream-service-time': 'REDACTED'
    'apim-request-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-content-type-options': 'REDACTED'
    'x-ms-region': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 05:29:34 GMT'
2025-04-21 14:29:52,144 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 14:29:52,144 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 14:29:52,198 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 14:29:52,200 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 14:29:52,206 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 14:29:52,241 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 14:29:52,276 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 14:29:52,577 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 14:29:53,059 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 14:29:53,434 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 14:29:53,451 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 14:29:53,453 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 14:29:53,455 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 14:29:53,460 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 14:29:53,461 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 14:29:53,462 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 14:29:53,643 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:29:53,644 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:29:53,687 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:29:53,687 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:29:53,688 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 14:29:53,729 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:29:53,729 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:29:53,766 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:29:53,767 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:29:53,804 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:29:53,804 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:29:53,805 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 14:29:53,805 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 14:29:53,843 - config - WARNING - 005930: 임베딩할 추출 데이터 없음.
2025-04-21 14:29:53,843 - config - WARNING - 005930: 업로드할 추출 데이터 없음.
2025-04-21 14:29:53,844 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 14:29:54,852 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 14:29:55,104 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 14:29:55,550 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 14:29:55,795 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 14:29:55,811 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 14:29:55,813 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 14:29:55,814 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 14:29:55,821 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 14:29:55,822 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 14:29:55,823 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 14:29:55,962 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:29:55,963 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:29:55,991 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:29:55,991 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:29:55,992 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 14:29:56,020 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:29:56,021 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:29:56,048 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:29:56,049 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:29:56,078 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:29:56,079 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:29:56,079 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 14:29:56,080 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 14:29:56,109 - config - WARNING - 000660: 임베딩할 추출 데이터 없음.
2025-04-21 14:29:56,109 - config - WARNING - 000660: 업로드할 추출 데이터 없음.
2025-04-21 14:29:56,110 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 14:29:57,119 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 14:29:57,384 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 14:29:57,655 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 14:29:58,481 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 14:29:58,506 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 14:29:58,509 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 14:29:58,511 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 14:29:58,521 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 14:29:58,521 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 14:29:58,522 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 14:29:58,877 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:29:58,877 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:29:58,942 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:29:58,943 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:29:58,943 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 14:29:59,008 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:29:59,009 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:29:59,075 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:29:59,075 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:29:59,141 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:29:59,142 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:29:59,142 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 14:29:59,142 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 14:29:59,215 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 14:29:59,216 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 14:29:59,216 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 14:30:00,223 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 14:30:00,513 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 14:30:00,844 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 14:30:01,303 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 14:30:01,318 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 14:30:01,322 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 14:30:01,323 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 14:30:01,331 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 14:30:01,332 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 14:30:01,333 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 14:30:01,564 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:30:01,564 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:30:01,640 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:30:01,640 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:30:01,641 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 14:30:01,685 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:30:01,685 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:30:01,729 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:30:01,730 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:30:01,772 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:30:01,773 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:30:01,773 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 14:30:01,774 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 14:30:01,821 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 14:30:01,822 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 14:30:01,822 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 14:30:02,827 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 14:30:03,092 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 14:30:03,434 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 14:30:03,935 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 14:30:03,952 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 14:30:03,955 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 14:30:03,957 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 14:30:03,961 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 14:30:03,962 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 14:30:03,962 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 14:30:04,232 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:30:04,233 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:30:04,291 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:30:04,292 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:30:04,292 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 14:30:04,349 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:30:04,350 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:30:04,405 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:30:04,406 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:30:04,463 - config - WARNING - XML에서 TITLE 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 14:30:04,463 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 TITLE 요소를 찾지 못했습니다.
2025-04-21 14:30:04,464 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 14:30:04,464 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 14:30:04,521 - config - WARNING - 012450: 임베딩할 추출 데이터 없음.
2025-04-21 14:30:04,522 - config - WARNING - 012450: 업로드할 추출 데이터 없음.
2025-04-21 14:30:04,522 - config - INFO - --- DART 처리 완료: 012450 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 14:30:05,531 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 10) =====
2025-04-21 14:30:05,545 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '005930', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '000660', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '012450', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 14:45:08,240 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 14:45:08,247 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 14:45:08,298 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 14:45:08,382 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 14:45:08,382 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 14:45:08,975 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 14:45:08,975 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 14:45:08,977 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:45:08,979 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:45:08,980 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:45:08,981 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:45:08,982 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:45:08,982 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:45:08,982 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:45:08,983 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:45:08,984 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:45:08,986 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:45:08,986 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:45:08,987 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:45:08,988 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:45:08,988 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 14:45:08,991 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'c8f2ceb0-1e73-11f0-94a4-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 14:45:09,831 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'c8f2ceb0-1e73-11f0-94a4-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 05:45:09 GMT'
2025-04-21 14:45:09,833 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 14:45:09,835 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 14:45:14,278 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 14:45:14,279 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 14:45:14,280 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 14:45:14,280 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 14:45:14,388 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 14:45:14,389 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 14:45:14,390 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 14:45:17,506 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 14:45:17,742 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 14:45:17,743 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 14:45:39,714 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 14:45:39,714 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 14:45:39,765 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 14:45:39,767 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 14:45:39,773 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 14:45:39,813 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 14:45:39,839 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 14:45:40,228 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 14:45:40,781 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 14:45:41,149 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 14:45:41,165 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 14:45:41,168 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 14:45:41,170 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 14:45:41,175 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 14:45:41,175 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 14:45:41,176 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 14:45:41,320 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 14:45:41,362 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 14:45:41,363 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 14:45:41,403 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 14:45:41,404 - config - WARNING - 계열사 제목 다음 테이블을 찾지 못함.
2025-04-21 14:45:41,404 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 14:45:41,442 - config - INFO - '3\.\s*원재료' 패턴과 일치하는 title 찾음: '3. 원재료 및 생산설비'
2025-04-21 14:45:41,485 - config - INFO - '4\.\s*매출\s*및\s*수주\s*상황' 패턴과 일치하는 title 찾음: '4. 매출 및 수주상황'
2025-04-21 14:45:41,521 - config - INFO - '6\.\s*주요계약' 패턴과 일치하는 title 찾음: '6. 주요계약 및 연구개발활동'
2025-04-21 14:45:41,523 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 14:45:41,524 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 14:45:41,525 - config - INFO - 공급망/파트너십 관계 정보 32건 추출.
2025-04-21 14:45:41,525 - config - INFO - XML 직접 파싱 완료. 최종 21개 구조화된 데이터 조각 생성.
2025-04-21 14:45:41,559 - config - INFO - 005930: 임베딩 생성 시작 (21개 조각)...
2025-04-21 14:45:42,656 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:42,962 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:43,393 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:43,689 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:44,345 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:44,736 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:45,021 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:45,314 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:45,607 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:46,007 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:46,310 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:46,653 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:47,072 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:47,361 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:47,644 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:47,933 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:48,236 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:48,632 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:48,930 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:49,216 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:49,507 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:49,567 - config - INFO - 005930: 임베딩 생성 완료 (21 / 21 성공)
2025-04-21 14:45:49,569 - config - INFO - 005930: AI Search 업로드 시작 (21개 문서)...
2025-04-21 14:45:49,572 - config - INFO - AI Search 업로드 문서 준비: 총 21개 (Source: DART_분기보고서 (2024.09)_2024_005930_20241114002642)
2025-04-21 14:45:49,574 - config - INFO - 총 21개 문서 AI Search 업로드 시도...
2025-04-21 14:45:49,607 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '736959'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'e1284816-1e73-11f0-94a4-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 14:45:51,559 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'e1284816-1e73-11f0-94a4-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 05:45:51 GMT'
2025-04-21 14:45:51,563 - config - INFO - AI Search 문서 업로드 완료: 21 / 21 성공 (Source: DART_분기보고서 (2024.09)_2024_005930_20241114002642)
2025-04-21 14:45:51,564 - config - INFO - 005930: AI Search 업로드 완료.
2025-04-21 14:45:51,565 - config - INFO - --- DART 처리 완료: 005930 (상태: 성공(XML Parse), 처리된 청크 수: 21) ---
2025-04-21 14:45:52,572 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 14:45:52,846 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 14:45:53,184 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 14:45:53,429 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 14:45:53,440 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 14:45:53,442 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 14:45:53,444 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 14:45:53,446 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 14:45:53,447 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 14:45:53,447 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 14:45:53,555 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 14:45:53,588 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 14:45:53,588 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 14:45:53,623 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 14:45:53,624 - config - WARNING - 계열사 제목 다음 테이블을 찾지 못함.
2025-04-21 14:45:53,624 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 14:45:53,654 - config - INFO - '3\.\s*원재료' 패턴과 일치하는 title 찾음: '3. 원재료 및 생산설비'
2025-04-21 14:45:53,687 - config - INFO - '4\.\s*매출\s*및\s*수주\s*상황' 패턴과 일치하는 title 찾음: '4. 매출 및 수주상황'
2025-04-21 14:45:53,715 - config - INFO - '6\.\s*주요계약' 패턴과 일치하는 title 찾음: '6. 주요계약 및 연구개발활동'
2025-04-21 14:45:53,717 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 14:45:53,718 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 14:45:53,719 - config - INFO - 공급망/파트너십 관계 정보 9건 추출.
2025-04-21 14:45:53,719 - config - INFO - XML 직접 파싱 완료. 최종 7개 구조화된 데이터 조각 생성.
2025-04-21 14:45:53,746 - config - INFO - 000660: 임베딩 생성 시작 (7개 조각)...
2025-04-21 14:45:53,980 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:54,534 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:54,922 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:55,221 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:55,514 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:55,800 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:56,097 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:45:56,156 - config - INFO - 000660: 임베딩 생성 완료 (7 / 7 성공)
2025-04-21 14:45:56,157 - config - INFO - 000660: AI Search 업로드 시작 (7개 문서)...
2025-04-21 14:45:56,159 - config - INFO - AI Search 업로드 문서 준비: 총 7개 (Source: DART_분기보고서 (2024.09)_2024_000660_20241114001712)
2025-04-21 14:45:56,161 - config - INFO - 총 7개 문서 AI Search 업로드 시도...
2025-04-21 14:45:56,176 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '245918'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'e512b52e-1e73-11f0-94a4-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 14:45:56,545 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'e512b52e-1e73-11f0-94a4-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 05:45:56 GMT'
2025-04-21 14:45:56,548 - config - INFO - AI Search 문서 업로드 완료: 7 / 7 성공 (Source: DART_분기보고서 (2024.09)_2024_000660_20241114001712)
2025-04-21 14:45:56,549 - config - INFO - 000660: AI Search 업로드 완료.
2025-04-21 14:45:56,552 - config - INFO - --- DART 처리 완료: 000660 (상태: 성공(XML Parse), 처리된 청크 수: 7) ---
2025-04-21 14:45:57,561 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 14:45:57,824 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 14:45:58,144 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 14:45:58,705 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 14:45:58,729 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 14:45:58,732 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 14:45:58,733 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 14:45:58,741 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 14:45:58,742 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 14:45:58,743 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 14:45:59,013 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 14:45:59,078 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 14:45:59,079 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 14:45:59,142 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 14:45:59,143 - config - WARNING - 계열사 제목 다음 테이블을 찾지 못함.
2025-04-21 14:45:59,143 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 14:45:59,213 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 14:45:59,278 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 14:45:59,343 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 14:45:59,343 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 14:45:59,344 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 14:45:59,416 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 14:45:59,417 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 14:45:59,418 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 14:46:00,421 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 14:46:00,722 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 14:46:01,051 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 14:46:01,307 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 14:46:01,326 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 14:46:01,328 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 14:46:01,329 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 14:46:01,335 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 14:46:01,336 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 14:46:01,336 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 14:46:01,518 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 14:46:01,567 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 14:46:01,568 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 14:46:01,616 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 14:46:01,617 - config - WARNING - 계열사 제목 다음 테이블을 찾지 못함.
2025-04-21 14:46:01,617 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 14:46:01,661 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 14:46:01,707 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 14:46:01,751 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 14:46:01,751 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 14:46:01,751 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 14:46:01,798 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 14:46:01,798 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 14:46:01,799 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 14:46:02,805 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 14:46:03,078 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 14:46:03,399 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 14:46:03,739 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 14:46:03,762 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 14:46:03,765 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 14:46:03,767 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 14:46:03,770 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 14:46:03,771 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 14:46:03,771 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 14:46:03,992 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 14:46:04,054 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 14:46:04,056 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 14:46:04,115 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 14:46:04,118 - config - WARNING - 계열사 테이블 '회사명/기업명' 헤더 못찾음.
2025-04-21 14:46:04,119 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 14:46:04,174 - config - INFO - '3\.\s*원재료' 패턴과 일치하는 title 찾음: '3. 원재료 및 생산설비'
2025-04-21 14:46:04,235 - config - INFO - '4\.\s*매출\s*및\s*수주\s*상황' 패턴과 일치하는 title 찾음: '4. 매출 및 수주상황'
2025-04-21 14:46:04,294 - config - INFO - '6\.\s*주요계약' 패턴과 일치하는 title 찾음: '6. 주요계약 및 연구개발활동'
2025-04-21 14:46:04,295 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 14:46:04,297 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 14:46:04,297 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 14:46:04,299 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 14:46:04,299 - config - INFO - 공급망/파트너십 관계 정보 12건 추출.
2025-04-21 14:46:04,300 - config - INFO - XML 직접 파싱 완료. 최종 12개 구조화된 데이터 조각 생성.
2025-04-21 14:46:04,357 - config - INFO - 012450: 임베딩 생성 시작 (12개 조각)...
2025-04-21 14:46:05,433 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:46:05,723 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:46:06,012 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:46:06,292 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:46:06,578 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:46:06,984 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:46:07,289 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:46:07,643 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:46:08,053 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:46:08,340 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:46:08,627 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:46:08,914 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 14:46:08,967 - config - INFO - 012450: 임베딩 생성 완료 (12 / 12 성공)
2025-04-21 14:46:08,969 - config - INFO - 012450: AI Search 업로드 시작 (12개 문서)...
2025-04-21 14:46:08,970 - config - INFO - AI Search 업로드 문서 준비: 총 12개 (Source: DART_분기보고서 (2024.09)_2024_012450_20241113000565)
2025-04-21 14:46:08,973 - config - INFO - 총 12개 문서 AI Search 업로드 시도...
2025-04-21 14:46:08,994 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '421705'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'ecb68fd0-1e73-11f0-94a4-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 14:46:09,378 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'ecb68fd0-1e73-11f0-94a4-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 05:46:09 GMT'
2025-04-21 14:46:09,381 - config - INFO - AI Search 문서 업로드 완료: 12 / 12 성공 (Source: DART_분기보고서 (2024.09)_2024_012450_20241113000565)
2025-04-21 14:46:09,382 - config - INFO - 012450: AI Search 업로드 완료.
2025-04-21 14:46:09,386 - config - INFO - --- DART 처리 완료: 012450 (상태: 성공(XML Parse), 처리된 청크 수: 12) ---
2025-04-21 14:46:10,396 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 3, 실패: 4) =====
2025-04-21 14:46:10,398 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 15:21:23,977 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 15:21:23,984 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 15:21:24,032 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 15:21:24,108 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 15:21:24,109 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 15:21:24,117 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 15:21:24,118 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 15:21:24,118 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:21:24,119 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:21:24,120 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:21:24,120 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:21:24,120 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:21:24,121 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:21:24,121 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:21:24,122 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:21:24,122 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:21:24,122 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:21:24,123 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:21:24,123 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:21:24,124 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:21:24,124 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:21:24,125 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'd96df968-1e78-11f0-b300-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 15:21:25,071 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd96df968-1e78-11f0-b300-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 06:21:24 GMT'
2025-04-21 15:21:25,076 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 15:21:25,080 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 15:21:25,337 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 15:21:25,338 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 15:21:25,338 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 15:21:25,339 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 15:21:25,438 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 15:21:25,440 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 15:21:25,441 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 15:21:27,129 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 15:21:27,402 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 15:21:27,403 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 15:21:35,033 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 15:21:35,034 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 15:21:35,102 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 15:21:35,106 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 15:21:35,112 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 15:21:45,253 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 15:21:45,311 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 15:21:45,724 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 15:21:46,357 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 15:21:46,658 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 15:21:46,677 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 15:21:46,679 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 15:21:46,681 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 15:21:46,686 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 15:21:46,687 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 15:21:46,689 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 15:21:46,694 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 15:21:46,756 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 15:21:46,799 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:46,799 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:46,837 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:46,837 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:46,838 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 15:21:46,874 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:46,875 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:46,910 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:46,910 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:46,943 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:46,943 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:46,944 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 15:21:46,944 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 15:21:46,967 - config - WARNING - 005930: 임베딩할 추출 데이터 없음.
2025-04-21 15:21:46,968 - config - WARNING - 005930: 업로드할 추출 데이터 없음.
2025-04-21 15:21:46,968 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 15:21:47,973 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 15:21:48,342 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 15:21:48,703 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 15:21:48,947 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 15:21:48,963 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 15:21:48,966 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 15:21:48,968 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 15:21:48,972 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 15:21:48,972 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 15:21:48,973 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 15:21:48,976 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 15:21:49,025 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 15:21:49,057 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:49,057 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:49,089 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:49,089 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:49,090 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 15:21:49,121 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:49,121 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:49,152 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:49,152 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:49,184 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:49,185 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:49,185 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 15:21:49,185 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 15:21:49,204 - config - WARNING - 000660: 임베딩할 추출 데이터 없음.
2025-04-21 15:21:49,205 - config - WARNING - 000660: 업로드할 추출 데이터 없음.
2025-04-21 15:21:49,205 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 15:21:50,215 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 15:21:50,491 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 15:21:50,800 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 15:21:51,117 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 15:21:51,137 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 15:21:51,141 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 15:21:51,142 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 15:21:51,151 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 15:21:51,152 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 15:21:51,153 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 15:21:51,162 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 15:21:51,264 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 15:21:51,345 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:51,346 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:51,415 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:51,416 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:51,416 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 15:21:51,482 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:51,482 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:51,564 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:51,564 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:51,628 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:51,629 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:51,629 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 15:21:51,629 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 15:21:51,675 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 15:21:51,675 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 15:21:51,676 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 15:21:52,683 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 15:21:53,053 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 15:21:53,376 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 15:21:53,642 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 15:21:53,660 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 15:21:53,662 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 15:21:53,664 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 15:21:53,671 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 15:21:53,674 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 15:21:53,675 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 15:21:53,690 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 15:21:53,800 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 15:21:53,850 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:53,851 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:53,900 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:53,900 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:53,901 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 15:21:53,946 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:53,947 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:53,989 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:53,989 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:54,031 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:54,032 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:54,032 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 15:21:54,033 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 15:21:54,063 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 15:21:54,063 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 15:21:54,064 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 15:21:55,068 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 15:21:55,326 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 15:21:55,787 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 15:21:56,150 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 15:21:56,164 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 15:21:56,167 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 15:21:56,169 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 15:21:56,171 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 15:21:56,172 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 15:21:56,172 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 15:21:56,179 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 15:21:56,260 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 15:21:56,325 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:56,325 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:56,384 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:56,385 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:56,385 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 15:21:56,466 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:56,466 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:56,518 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:56,519 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:56,577 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:21:56,578 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:21:56,579 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 15:21:56,581 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 15:21:56,632 - config - WARNING - 012450: 임베딩할 추출 데이터 없음.
2025-04-21 15:21:56,633 - config - WARNING - 012450: 업로드할 추출 데이터 없음.
2025-04-21 15:21:56,633 - config - INFO - --- DART 처리 완료: 012450 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 15:21:57,640 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 10) =====
2025-04-21 15:21:57,641 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '005930', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '000660', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '012450', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 15:59:04,695 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 15:59:04,702 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 15:59:04,771 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 15:59:04,846 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 15:59:04,846 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 15:59:05,091 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 15:59:05,113 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 15:59:05,121 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:59:05,125 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:59:05,129 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:59:05,130 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:59:05,131 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:59:05,131 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:59:05,133 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:59:05,134 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:59:05,137 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:59:05,138 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:59:05,139 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:59:05,139 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:59:05,140 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:59:05,140 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 15:59:05,143 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '1d19ee4c-1e7e-11f0-b56f-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 15:59:06,357 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 201
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'ETag': '"0x8DD80A201FF55D0"'
    'Location': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '1d19ee4c-1e7e-11f0-b56f-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 06:59:06 GMT'
2025-04-21 15:59:06,358 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 15:59:06,360 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 15:59:06,637 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 15:59:06,638 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 15:59:06,639 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 15:59:06,639 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 15:59:06,743 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 15:59:06,745 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 15:59:06,746 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 15:59:07,511 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 15:59:07,757 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 15:59:07,758 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 15:59:19,496 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 15:59:19,496 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 15:59:19,547 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 15:59:19,549 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 15:59:19,555 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 15:59:19,581 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 15:59:19,611 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 15:59:19,913 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 15:59:22,339 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 15:59:23,263 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 15:59:23,279 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 15:59:23,282 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 15:59:23,284 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 15:59:23,289 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 15:59:23,290 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 15:59:23,291 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 15:59:23,296 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 15:59:23,358 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 15:59:23,398 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:23,398 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:23,435 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:23,436 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:23,436 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 15:59:23,472 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:23,473 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:23,509 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:23,510 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:23,544 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:23,545 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:23,545 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 15:59:23,546 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 15:59:23,568 - config - WARNING - 005930: 임베딩할 추출 데이터 없음.
2025-04-21 15:59:23,568 - config - WARNING - 005930: 업로드할 추출 데이터 없음.
2025-04-21 15:59:23,569 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 15:59:24,576 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 15:59:24,977 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 15:59:26,077 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 15:59:26,445 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 15:59:26,461 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 15:59:26,464 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 15:59:26,466 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 15:59:26,471 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 15:59:26,472 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 15:59:26,472 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 15:59:26,477 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 15:59:26,527 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 15:59:26,559 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:26,560 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:26,588 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:26,589 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:26,589 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 15:59:26,619 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:26,620 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:26,648 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:26,649 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:26,679 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:26,679 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:26,679 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 15:59:26,680 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 15:59:26,697 - config - WARNING - 000660: 임베딩할 추출 데이터 없음.
2025-04-21 15:59:26,698 - config - WARNING - 000660: 업로드할 추출 데이터 없음.
2025-04-21 15:59:26,699 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 15:59:27,703 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 15:59:28,183 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 15:59:28,647 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 15:59:29,172 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 15:59:29,200 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 15:59:29,204 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 15:59:29,206 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 15:59:29,216 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 15:59:29,218 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 15:59:29,218 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 15:59:29,228 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 15:59:29,331 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 15:59:29,405 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:29,406 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:29,475 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:29,476 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:29,476 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 15:59:29,538 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:29,539 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:29,598 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:29,599 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:29,662 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:29,662 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:29,663 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 15:59:29,663 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 15:59:29,704 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 15:59:29,705 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 15:59:29,705 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 15:59:30,711 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 15:59:30,982 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 15:59:31,337 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 15:59:31,827 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 15:59:31,845 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 15:59:31,847 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 15:59:31,848 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 15:59:31,856 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 15:59:31,857 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 15:59:31,858 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 15:59:31,864 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 15:59:31,939 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 15:59:31,988 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:31,988 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:32,033 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:32,034 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:32,034 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 15:59:32,080 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:32,080 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:32,124 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:32,124 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:32,165 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:32,166 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:32,166 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 15:59:32,167 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 15:59:32,196 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 15:59:32,196 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 15:59:32,196 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 15:59:33,204 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 15:59:33,466 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 15:59:33,939 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 15:59:34,505 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 15:59:34,525 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 15:59:34,527 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 15:59:34,529 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 15:59:34,532 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 15:59:34,533 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 15:59:34,533 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 15:59:34,543 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 15:59:34,629 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 15:59:34,688 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:34,688 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:34,748 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:34,749 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:34,749 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 15:59:34,807 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:34,807 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:34,863 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:34,864 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:34,918 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 15:59:34,919 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 15:59:34,919 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 15:59:34,919 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 15:59:34,955 - config - WARNING - 012450: 임베딩할 추출 데이터 없음.
2025-04-21 15:59:34,955 - config - WARNING - 012450: 업로드할 추출 데이터 없음.
2025-04-21 15:59:34,956 - config - INFO - --- DART 처리 완료: 012450 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 15:59:35,965 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 10) =====
2025-04-21 15:59:35,969 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '005930', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '000660', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '012450', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 16:13:35,316 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 16:13:35,323 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 16:13:35,419 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 16:13:35,465 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 16:13:35,466 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 16:13:35,691 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 16:13:35,693 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 16:13:35,694 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:13:35,694 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:13:35,695 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:13:35,695 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:13:35,695 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:13:35,696 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:13:35,696 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:13:35,696 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:13:35,696 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:13:35,696 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:13:35,697 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:13:35,697 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:13:35,698 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:13:35,698 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:13:35,702 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '23fe95bc-1e80-11f0-9ee9-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 16:13:36,698 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '23fe95bc-1e80-11f0-9ee9-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 07:13:36 GMT'
2025-04-21 16:13:36,702 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 16:13:36,705 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 16:13:37,275 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 16:13:37,276 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 16:13:37,277 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 16:13:37,277 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 16:13:37,394 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 16:13:37,395 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 16:13:37,396 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 16:13:38,165 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 16:13:38,411 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 16:13:38,411 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 16:13:46,195 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 16:13:46,196 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 16:13:46,248 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 16:13:46,250 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 16:13:46,256 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 16:13:46,285 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 16:13:46,315 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 16:13:46,599 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 16:13:47,048 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 16:13:47,473 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 16:13:47,481 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 16:13:47,483 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 16:13:47,485 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:13:47,489 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:13:47,489 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:13:47,490 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 16:13:47,494 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 16:13:47,551 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 16:13:47,592 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:47,593 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:47,629 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:47,629 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:47,630 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:13:47,670 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:47,670 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:47,708 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:47,708 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:47,744 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:47,744 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:47,745 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 16:13:47,745 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 16:13:47,768 - config - WARNING - 005930: 임베딩할 추출 데이터 없음.
2025-04-21 16:13:47,768 - config - WARNING - 005930: 업로드할 추출 데이터 없음.
2025-04-21 16:13:47,769 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 16:13:48,776 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 16:13:49,040 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 16:13:49,333 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 16:13:49,573 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 16:13:49,584 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 16:13:49,586 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 16:13:49,587 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:13:49,589 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:13:49,589 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:13:49,590 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 16:13:49,592 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 16:13:49,632 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 16:13:49,666 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:49,666 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:49,696 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:49,696 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:49,696 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:13:49,724 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:49,725 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:49,751 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:49,752 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:49,780 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:49,780 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:49,781 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 16:13:49,781 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 16:13:49,799 - config - WARNING - 000660: 임베딩할 추출 데이터 없음.
2025-04-21 16:13:49,800 - config - WARNING - 000660: 업로드할 추출 데이터 없음.
2025-04-21 16:13:49,800 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 16:13:50,807 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 16:13:51,081 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 16:13:51,349 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 16:13:51,624 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 16:13:51,641 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 16:13:51,644 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 16:13:51,645 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:13:51,652 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:13:51,652 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:13:51,653 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 16:13:51,660 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 16:13:51,762 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 16:13:51,834 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:51,835 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:51,906 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:51,906 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:51,907 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:13:51,972 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:51,972 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:52,051 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:52,052 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:52,126 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:52,126 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:52,126 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 16:13:52,127 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 16:13:52,177 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 16:13:52,177 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 16:13:52,178 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 16:13:53,185 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 16:13:53,457 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 16:13:53,771 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 16:13:54,013 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 16:13:54,025 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 16:13:54,029 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 16:13:54,032 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:13:54,038 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:13:54,039 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:13:54,039 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 16:13:54,046 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 16:13:54,117 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 16:13:54,169 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:54,169 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:54,221 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:54,221 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:54,222 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:13:54,272 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:54,273 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:54,344 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:54,345 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:54,391 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:54,391 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:54,392 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 16:13:54,392 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 16:13:54,424 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 16:13:54,425 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 16:13:54,426 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 16:13:55,432 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 16:13:55,810 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 16:13:56,110 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 16:13:56,367 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 16:13:56,383 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 16:13:56,385 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 16:13:56,386 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:13:56,389 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:13:56,389 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:13:56,390 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 16:13:56,399 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 16:13:56,486 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 16:13:56,554 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:56,555 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:56,616 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:56,616 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:56,617 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:13:56,677 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:56,677 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:56,735 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:56,736 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:56,794 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:13:56,795 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:13:56,795 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 16:13:56,796 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 16:13:56,834 - config - WARNING - 012450: 임베딩할 추출 데이터 없음.
2025-04-21 16:13:56,835 - config - WARNING - 012450: 업로드할 추출 데이터 없음.
2025-04-21 16:13:56,835 - config - INFO - --- DART 처리 완료: 012450 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 16:13:57,845 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 10) =====
2025-04-21 16:13:57,848 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '005930', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '000660', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '012450', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 16:18:21,716 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 16:18:21,723 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 16:18:21,798 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 16:18:21,845 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 16:18:21,845 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 16:18:22,128 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 16:18:22,128 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 16:18:22,129 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:18:22,130 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:18:22,130 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:18:22,131 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:18:22,133 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:18:22,134 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:18:22,135 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:18:22,135 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:18:22,136 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:18:22,136 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:18:22,137 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:18:22,137 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:18:22,137 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:18:22,138 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:18:22,142 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'ceb9f096-1e80-11f0-b872-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 16:18:23,712 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'ceb9f096-1e80-11f0-b872-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 07:18:23 GMT'
2025-04-21 16:18:23,716 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 16:18:23,718 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 16:18:24,025 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 16:18:24,026 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 16:18:24,027 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 16:18:24,027 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 16:18:24,126 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 16:18:24,127 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 16:18:24,128 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 16:18:24,511 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 16:18:24,768 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 16:18:24,769 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 16:18:33,096 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 16:18:33,097 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 16:18:33,149 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 16:18:33,151 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 16:18:33,157 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 16:18:33,199 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 16:18:33,227 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 16:18:33,650 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 16:18:34,270 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 16:18:34,736 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 16:18:34,756 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 16:18:34,759 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 16:18:34,761 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:18:34,766 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:18:34,767 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:18:34,767 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 16:18:34,772 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 16:18:34,835 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 16:18:34,876 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:34,877 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:34,912 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:34,913 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:34,914 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:18:34,950 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:34,951 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:34,987 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:34,987 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:35,023 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:35,024 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:35,024 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 16:18:35,024 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 16:18:35,046 - config - WARNING - 005930: 임베딩할 추출 데이터 없음.
2025-04-21 16:18:35,047 - config - WARNING - 005930: 업로드할 추출 데이터 없음.
2025-04-21 16:18:35,047 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 16:18:36,051 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 16:18:36,324 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 16:18:37,604 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 16:18:37,864 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 16:18:37,878 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 16:18:37,881 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 16:18:37,882 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:18:37,886 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:18:37,887 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:18:37,888 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 16:18:37,891 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 16:18:37,958 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 16:18:37,990 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:37,990 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:38,019 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:38,020 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:38,020 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:18:38,050 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:38,051 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:38,080 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:38,081 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:38,110 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:38,111 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:38,111 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 16:18:38,111 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 16:18:38,129 - config - WARNING - 000660: 임베딩할 추출 데이터 없음.
2025-04-21 16:18:38,130 - config - WARNING - 000660: 업로드할 추출 데이터 없음.
2025-04-21 16:18:38,130 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 16:18:39,137 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 16:18:39,447 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 16:18:39,753 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 16:18:40,411 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 16:18:40,440 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 16:18:40,443 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 16:18:40,444 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:18:40,455 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:18:40,456 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:18:40,456 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 16:18:40,466 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 16:18:40,571 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 16:18:40,644 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:40,644 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:40,712 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:40,713 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:40,713 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:18:40,778 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:40,778 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:40,890 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:40,891 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:40,961 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:40,961 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:40,962 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 16:18:40,962 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 16:18:41,006 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 16:18:41,006 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 16:18:41,007 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 16:18:42,013 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 16:18:42,287 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 16:18:42,692 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 16:18:43,211 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 16:18:43,231 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 16:18:43,234 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 16:18:43,235 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:18:43,242 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:18:43,243 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:18:43,243 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 16:18:43,250 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 16:18:43,326 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 16:18:43,378 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:43,379 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:43,428 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:43,428 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:43,429 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:18:43,476 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:43,477 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:43,524 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:43,525 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:43,569 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:43,569 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:43,569 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 16:18:43,570 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 16:18:43,599 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 16:18:43,599 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 16:18:43,600 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 16:18:44,607 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 16:18:44,869 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 16:18:45,308 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 16:18:46,068 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 16:18:46,092 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 16:18:46,095 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 16:18:46,097 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:18:46,101 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:18:46,101 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:18:46,102 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 16:18:46,111 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 16:18:46,199 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 16:18:46,261 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:46,262 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:46,326 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:46,326 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:46,327 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:18:46,387 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:46,387 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:46,446 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:46,446 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:46,501 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 16:18:46,502 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:18:46,502 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 16:18:46,502 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 16:18:46,538 - config - WARNING - 012450: 임베딩할 추출 데이터 없음.
2025-04-21 16:18:46,539 - config - WARNING - 012450: 업로드할 추출 데이터 없음.
2025-04-21 16:18:46,539 - config - INFO - --- DART 처리 완료: 012450 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 16:18:47,546 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 10) =====
2025-04-21 16:18:47,550 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '005930', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '000660', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '012450', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 16:22:28,905 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 16:22:29,002 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 16:22:29,093 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 16:22:29,142 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 16:22:29,142 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 16:22:29,986 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 16:22:29,992 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 16:22:29,996 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:22:29,999 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:22:30,000 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:22:30,000 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:22:30,001 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:22:30,002 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:22:30,004 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:22:30,005 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:22:30,006 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:22:30,007 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:22:30,007 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:22:30,008 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:22:30,008 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:22:30,008 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:22:30,011 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '6277aa94-1e81-11f0-b607-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 16:22:30,939 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '6277aa94-1e81-11f0-b607-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 07:22:30 GMT'
2025-04-21 16:22:30,943 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 16:22:30,945 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 16:22:31,845 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 16:22:31,849 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 16:22:31,849 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 16:22:31,850 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 16:22:31,951 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 16:22:31,953 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 16:22:31,954 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 16:22:33,902 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 16:22:34,127 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 16:22:34,128 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 16:22:41,595 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 16:22:41,596 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 16:22:41,649 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 16:22:41,652 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 16:22:41,658 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 16:22:41,684 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 16:22:41,723 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 16:22:42,146 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 16:22:42,538 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 16:22:42,782 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 16:22:42,797 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 16:22:42,799 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 16:22:42,801 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:22:42,807 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:22:42,808 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:22:42,809 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 16:22:42,964 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 16:22:43,007 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 16:22:43,007 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 16:22:43,056 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 16:22:43,057 - config - WARNING - 계열사 제목 다음 테이블을 찾지 못함.
2025-04-21 16:22:43,057 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:22:43,099 - config - INFO - '3\.\s*원재료' 패턴과 일치하는 title 찾음: '3. 원재료 및 생산설비'
2025-04-21 16:22:43,145 - config - INFO - '4\.\s*매출\s*및\s*수주\s*상황' 패턴과 일치하는 title 찾음: '4. 매출 및 수주상황'
2025-04-21 16:22:43,181 - config - INFO - '6\.\s*주요계약' 패턴과 일치하는 title 찾음: '6. 주요계약 및 연구개발활동'
2025-04-21 16:22:43,183 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 16:22:43,184 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 16:22:43,185 - config - INFO - 공급망/파트너십 관계 정보 32건 추출.
2025-04-21 16:22:43,185 - config - INFO - XML 직접 파싱 완료. 최종 21개 구조화된 데이터 조각 생성.
2025-04-21 16:22:43,222 - config - INFO - 005930: 임베딩 생성 시작 (21개 조각)...
2025-04-21 16:22:44,289 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:44,584 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:44,883 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:45,321 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:45,620 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:45,916 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:46,199 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:46,494 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:46,892 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:47,185 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:47,481 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:47,770 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:48,057 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:48,464 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:48,788 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:49,114 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:49,590 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:49,884 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:50,333 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:50,628 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:50,927 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:50,987 - config - INFO - 005930: 임베딩 생성 완료 (21 / 21 성공)
2025-04-21 16:22:50,990 - config - INFO - 005930: AI Search 업로드 시작 (21개 문서)...
2025-04-21 16:22:50,993 - config - INFO - AI Search 업로드 문서 준비: 총 21개 (Source: DART_분기보고서 (2024.09)_2024_005930_20241114002642)
2025-04-21 16:22:50,995 - config - INFO - 총 21개 문서 AI Search 업로드 시도...
2025-04-21 16:22:51,029 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '736892'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '6efed18e-1e81-11f0-b607-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 16:22:52,745 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '6efed18e-1e81-11f0-b607-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 07:22:52 GMT'
2025-04-21 16:22:52,751 - config - INFO - AI Search 문서 업로드 완료: 21 / 21 성공 (Source: DART_분기보고서 (2024.09)_2024_005930_20241114002642)
2025-04-21 16:22:52,755 - config - INFO - 005930: AI Search 업로드 완료.
2025-04-21 16:22:52,756 - config - INFO - --- DART 처리 완료: 005930 (상태: 성공(XML Parse), 처리된 청크 수: 21) ---
2025-04-21 16:22:53,766 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 16:22:54,031 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 16:22:54,327 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 16:22:54,581 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 16:22:54,595 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 16:22:54,597 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 16:22:54,599 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:22:54,603 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:22:54,604 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:22:54,604 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 16:22:54,714 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 16:22:54,746 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 16:22:54,747 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 16:22:54,778 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 16:22:54,779 - config - WARNING - 계열사 제목 다음 테이블을 찾지 못함.
2025-04-21 16:22:54,779 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:22:54,805 - config - INFO - '3\.\s*원재료' 패턴과 일치하는 title 찾음: '3. 원재료 및 생산설비'
2025-04-21 16:22:54,836 - config - INFO - '4\.\s*매출\s*및\s*수주\s*상황' 패턴과 일치하는 title 찾음: '4. 매출 및 수주상황'
2025-04-21 16:22:54,862 - config - INFO - '6\.\s*주요계약' 패턴과 일치하는 title 찾음: '6. 주요계약 및 연구개발활동'
2025-04-21 16:22:54,864 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 16:22:54,865 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 16:22:54,865 - config - INFO - 공급망/파트너십 관계 정보 9건 추출.
2025-04-21 16:22:54,865 - config - INFO - XML 직접 파싱 완료. 최종 7개 구조화된 데이터 조각 생성.
2025-04-21 16:22:54,892 - config - INFO - 000660: 임베딩 생성 시작 (7개 조각)...
2025-04-21 16:22:55,142 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:55,573 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:55,861 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:56,154 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:56,447 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:56,888 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:57,178 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:22:57,235 - config - INFO - 000660: 임베딩 생성 완료 (7 / 7 성공)
2025-04-21 16:22:57,238 - config - INFO - 000660: AI Search 업로드 시작 (7개 문서)...
2025-04-21 16:22:57,240 - config - INFO - AI Search 업로드 문서 준비: 총 7개 (Source: DART_분기보고서 (2024.09)_2024_000660_20241114001712)
2025-04-21 16:22:57,242 - config - INFO - 총 7개 문서 AI Search 업로드 시도...
2025-04-21 16:22:57,257 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '245882'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '72b520bc-1e81-11f0-b607-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 16:22:57,506 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '72b520bc-1e81-11f0-b607-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 07:22:57 GMT'
2025-04-21 16:22:57,511 - config - INFO - AI Search 문서 업로드 완료: 7 / 7 성공 (Source: DART_분기보고서 (2024.09)_2024_000660_20241114001712)
2025-04-21 16:22:57,513 - config - INFO - 000660: AI Search 업로드 완료.
2025-04-21 16:22:57,515 - config - INFO - --- DART 처리 완료: 000660 (상태: 성공(XML Parse), 처리된 청크 수: 7) ---
2025-04-21 16:22:58,522 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 16:22:58,922 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 16:22:59,198 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 16:22:59,593 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 16:22:59,620 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 16:22:59,624 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 16:22:59,625 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:22:59,635 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:22:59,635 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:22:59,636 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 16:22:59,894 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 16:22:59,961 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 16:22:59,962 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 16:23:00,025 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 16:23:00,025 - config - WARNING - 계열사 제목 다음 테이블을 찾지 못함.
2025-04-21 16:23:00,026 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:23:00,089 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:23:00,151 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:23:00,214 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:23:00,214 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 16:23:00,215 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 16:23:00,283 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 16:23:00,283 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 16:23:00,284 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 16:23:01,290 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 16:23:01,607 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 16:23:01,899 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 16:23:02,158 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 16:23:02,171 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 16:23:02,173 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 16:23:02,175 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:23:02,181 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:23:02,181 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:23:02,182 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 16:23:02,356 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 16:23:02,404 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 16:23:02,404 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 16:23:02,448 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 16:23:02,448 - config - WARNING - 계열사 제목 다음 테이블을 찾지 못함.
2025-04-21 16:23:02,449 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:23:02,495 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:23:02,540 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:23:02,584 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:23:02,584 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 16:23:02,585 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 16:23:02,631 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 16:23:02,632 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 16:23:02,632 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 16:23:03,640 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 16:23:03,890 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 16:23:04,243 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 16:23:04,590 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 16:23:04,612 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 16:23:04,615 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 16:23:04,616 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:23:04,620 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:23:04,621 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:23:04,622 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 16:23:04,842 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 16:23:04,909 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 16:23:04,910 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 16:23:04,972 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 16:23:04,975 - config - WARNING - 계열사 테이블 '회사명/기업명' 헤더 못찾음.
2025-04-21 16:23:04,975 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:23:05,032 - config - INFO - '3\.\s*원재료' 패턴과 일치하는 title 찾음: '3. 원재료 및 생산설비'
2025-04-21 16:23:05,094 - config - INFO - '4\.\s*매출\s*및\s*수주\s*상황' 패턴과 일치하는 title 찾음: '4. 매출 및 수주상황'
2025-04-21 16:23:05,152 - config - INFO - '6\.\s*주요계약' 패턴과 일치하는 title 찾음: '6. 주요계약 및 연구개발활동'
2025-04-21 16:23:05,153 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 16:23:05,155 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 16:23:05,156 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 16:23:05,157 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 16:23:05,158 - config - INFO - 공급망/파트너십 관계 정보 12건 추출.
2025-04-21 16:23:05,158 - config - INFO - XML 직접 파싱 완료. 최종 12개 구조화된 데이터 조각 생성.
2025-04-21 16:23:05,215 - config - INFO - 012450: 임베딩 생성 시작 (12개 조각)...
2025-04-21 16:23:06,316 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:23:06,611 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:23:06,899 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:23:07,348 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:23:07,639 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:23:07,930 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:23:08,228 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:23:08,519 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:23:08,918 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:23:09,215 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:23:09,505 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:23:09,803 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 16:23:09,861 - config - INFO - 012450: 임베딩 생성 완료 (12 / 12 성공)
2025-04-21 16:23:09,863 - config - INFO - 012450: AI Search 업로드 시작 (12개 문서)...
2025-04-21 16:23:09,865 - config - INFO - AI Search 업로드 문서 준비: 총 12개 (Source: DART_분기보고서 (2024.09)_2024_012450_20241113000565)
2025-04-21 16:23:09,868 - config - INFO - 총 12개 문서 AI Search 업로드 시도...
2025-04-21 16:23:09,891 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '421705'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '7a3cd9e2-1e81-11f0-b607-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 16:23:10,306 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '7a3cd9e2-1e81-11f0-b607-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 07:23:09 GMT'
2025-04-21 16:23:10,309 - config - INFO - AI Search 문서 업로드 완료: 12 / 12 성공 (Source: DART_분기보고서 (2024.09)_2024_012450_20241113000565)
2025-04-21 16:23:10,311 - config - INFO - 012450: AI Search 업로드 완료.
2025-04-21 16:23:10,312 - config - INFO - --- DART 처리 완료: 012450 (상태: 성공(XML Parse), 처리된 청크 수: 12) ---
2025-04-21 16:23:11,318 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 3, 실패: 4) =====
2025-04-21 16:23:11,323 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 16:54:16,569 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 16:54:16,576 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 16:54:16,626 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 16:54:16,707 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 16:54:16,707 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 16:54:17,125 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 16:54:17,126 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 16:54:17,127 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:54:17,128 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:54:17,129 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:54:17,131 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:54:17,135 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:54:17,137 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:54:17,137 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:54:17,138 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:54:17,138 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:54:17,139 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:54:17,140 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:54:17,141 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:54:17,141 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:54:17,141 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:54:17,144 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'd3351fa6-1e85-11f0-9b4b-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 16:54:17,994 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd3351fa6-1e85-11f0-9b4b-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 07:54:17 GMT'
2025-04-21 16:54:17,997 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 16:54:17,998 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 16:54:18,294 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 16:54:18,295 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 16:54:18,296 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 16:54:18,296 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 16:54:18,400 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 16:54:18,402 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 16:54:18,403 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 16:54:20,282 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 16:54:20,509 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 16:54:20,509 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 16:54:28,010 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 16:54:28,010 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 16:54:28,060 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 16:54:28,062 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 16:54:28,067 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 16:54:28,094 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 16:54:28,120 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 16:54:28,402 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 16:54:28,851 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 16:54:29,219 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 16:54:29,237 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 16:54:29,240 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 16:54:29,242 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:54:29,249 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:54:29,250 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:54:29,251 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 16:54:29,394 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 16:54:29,442 - config - WARNING - 패턴 ['1\\.\\s*연결대상\\s*종속회사\\s*현황'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:29,493 - config - WARNING - 패턴 ['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:29,493 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:54:29,533 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:29,574 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:29,613 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:29,613 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 16:54:29,614 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 16:54:29,649 - config - WARNING - 005930: 임베딩할 추출 데이터 없음.
2025-04-21 16:54:29,649 - config - WARNING - 005930: 업로드할 추출 데이터 없음.
2025-04-21 16:54:29,650 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 16:54:30,659 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 16:54:30,918 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 16:54:31,330 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 16:54:31,658 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 16:54:31,668 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 16:54:31,671 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 16:54:31,673 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:54:31,677 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:54:31,679 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:54:31,679 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 16:54:31,817 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 16:54:31,885 - config - WARNING - 패턴 ['1\\.\\s*연결대상\\s*종속회사\\s*현황'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:31,924 - config - WARNING - 패턴 ['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:31,925 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:54:31,962 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:31,997 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:32,031 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:32,031 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 16:54:32,032 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 16:54:32,061 - config - WARNING - 000660: 임베딩할 추출 데이터 없음.
2025-04-21 16:54:32,062 - config - WARNING - 000660: 업로드할 추출 데이터 없음.
2025-04-21 16:54:32,063 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 16:54:33,069 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 16:54:33,423 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 16:54:33,699 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 16:54:34,232 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 16:54:34,255 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 16:54:34,259 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 16:54:34,261 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:54:34,272 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:54:34,272 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:54:34,273 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 16:54:34,538 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 16:54:34,609 - config - WARNING - 패턴 ['1\\.\\s*연결대상\\s*종속회사\\s*현황'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:34,675 - config - WARNING - 패턴 ['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:34,675 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:54:34,741 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:34,808 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:34,874 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:34,874 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 16:54:34,875 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 16:54:34,945 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 16:54:34,946 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 16:54:34,946 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 16:54:35,953 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 16:54:36,233 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 16:54:36,616 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 16:54:36,946 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 16:54:36,958 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 16:54:36,960 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 16:54:36,962 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:54:36,968 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:54:36,969 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:54:36,970 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 16:54:37,150 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 16:54:37,206 - config - WARNING - 패턴 ['1\\.\\s*연결대상\\s*종속회사\\s*현황'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:37,262 - config - WARNING - 패턴 ['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:37,262 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:54:37,312 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:37,361 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:37,408 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:37,409 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 16:54:37,410 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 16:54:37,458 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 16:54:37,459 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 16:54:37,459 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 16:54:38,466 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 16:54:38,723 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 16:54:39,015 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 16:54:39,573 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 16:54:39,597 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 16:54:39,599 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 16:54:39,603 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:54:39,606 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:54:39,609 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:54:39,613 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 16:54:39,847 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 16:54:39,916 - config - WARNING - 패턴 ['1\\.\\s*연결대상\\s*종속회사\\s*현황'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:39,982 - config - WARNING - 패턴 ['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:39,983 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:54:40,045 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:40,107 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:40,168 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 16:54:40,168 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 16:54:40,169 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 16:54:40,225 - config - WARNING - 012450: 임베딩할 추출 데이터 없음.
2025-04-21 16:54:40,226 - config - WARNING - 012450: 업로드할 추출 데이터 없음.
2025-04-21 16:54:40,226 - config - INFO - --- DART 처리 완료: 012450 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 16:54:41,230 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 10) =====
2025-04-21 16:54:41,233 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '005930', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '000660', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '012450', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 16:59:14,094 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 16:59:14,101 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 16:59:14,152 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 16:59:14,234 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 16:59:14,234 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 16:59:14,364 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 16:59:14,365 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 16:59:14,366 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:59:14,366 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:59:14,367 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:59:14,367 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:59:14,368 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:59:14,369 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:59:14,370 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:59:14,370 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:59:14,371 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:59:14,371 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:59:14,371 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:59:14,372 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:59:14,373 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:59:14,373 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 16:59:14,375 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '845f06ac-1e86-11f0-ae33-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 16:59:15,282 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '845f06ac-1e86-11f0-ae33-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 07:59:15 GMT'
2025-04-21 16:59:15,285 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 16:59:15,286 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 16:59:15,510 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 16:59:15,511 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 16:59:15,512 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 16:59:15,513 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 16:59:15,613 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 16:59:15,615 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 16:59:15,616 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 16:59:16,492 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 16:59:16,730 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 16:59:16,730 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 16:59:24,946 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 16:59:24,947 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 16:59:24,999 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 16:59:25,001 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 16:59:25,007 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 16:59:25,032 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 16:59:25,059 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 16:59:25,450 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 16:59:25,995 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 16:59:26,332 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 16:59:26,340 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 16:59:26,342 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 16:59:26,343 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:59:26,348 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:59:26,348 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:59:26,349 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 16:59:26,485 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 16:59:26,527 - config - INFO - <title> 태그 총 125개 확인
2025-04-21 16:59:26,532 - config - WARNING - 패턴 ['1\\.\\s*연결대상\\s*종속회사\\s*현황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:26,572 - config - INFO - <title> 태그 총 125개 확인
2025-04-21 16:59:26,578 - config - WARNING - 패턴 ['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:26,578 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:59:26,615 - config - INFO - <title> 태그 총 125개 확인
2025-04-21 16:59:26,618 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:26,654 - config - INFO - <title> 태그 총 125개 확인
2025-04-21 16:59:26,658 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:26,692 - config - INFO - <title> 태그 총 125개 확인
2025-04-21 16:59:26,696 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:26,696 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 16:59:26,697 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 16:59:26,732 - config - WARNING - 005930: 임베딩할 추출 데이터 없음.
2025-04-21 16:59:26,732 - config - WARNING - 005930: 업로드할 추출 데이터 없음.
2025-04-21 16:59:26,733 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 16:59:27,741 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 16:59:28,106 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 16:59:28,389 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 16:59:28,630 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 16:59:28,644 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 16:59:28,646 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 16:59:28,648 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:59:28,652 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:59:28,652 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:59:28,653 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 16:59:28,763 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 16:59:28,793 - config - INFO - <title> 태그 총 131개 확인
2025-04-21 16:59:28,798 - config - WARNING - 패턴 ['1\\.\\s*연결대상\\s*종속회사\\s*현황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:28,831 - config - INFO - <title> 태그 총 131개 확인
2025-04-21 16:59:28,838 - config - WARNING - 패턴 ['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:28,839 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:59:28,874 - config - INFO - <title> 태그 총 131개 확인
2025-04-21 16:59:28,879 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:28,912 - config - INFO - <title> 태그 총 131개 확인
2025-04-21 16:59:28,917 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:28,945 - config - INFO - <title> 태그 총 131개 확인
2025-04-21 16:59:28,949 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:28,950 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 16:59:28,950 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 16:59:28,977 - config - WARNING - 000660: 임베딩할 추출 데이터 없음.
2025-04-21 16:59:28,978 - config - WARNING - 000660: 업로드할 추출 데이터 없음.
2025-04-21 16:59:28,978 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 16:59:29,985 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 16:59:30,236 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 16:59:30,504 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 16:59:30,840 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 16:59:30,853 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 16:59:30,857 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 16:59:30,859 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:59:30,866 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:59:30,867 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:59:30,868 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 16:59:31,129 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 16:59:31,194 - config - INFO - <title> 태그 총 73개 확인
2025-04-21 16:59:31,198 - config - WARNING - 패턴 ['1\\.\\s*연결대상\\s*종속회사\\s*현황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:31,267 - config - INFO - <title> 태그 총 73개 확인
2025-04-21 16:59:31,271 - config - WARNING - 패턴 ['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:31,272 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:59:31,339 - config - INFO - <title> 태그 총 73개 확인
2025-04-21 16:59:31,342 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:31,412 - config - INFO - <title> 태그 총 73개 확인
2025-04-21 16:59:31,416 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:31,483 - config - INFO - <title> 태그 총 73개 확인
2025-04-21 16:59:31,486 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:31,486 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 16:59:31,487 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 16:59:31,559 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 16:59:31,559 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 16:59:31,560 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 16:59:32,563 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 16:59:32,838 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 16:59:33,146 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 16:59:33,437 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 16:59:33,445 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 16:59:33,447 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 16:59:33,448 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:59:33,453 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:59:33,454 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:59:33,455 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 16:59:33,626 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 16:59:33,671 - config - INFO - <title> 태그 총 151개 확인
2025-04-21 16:59:33,677 - config - WARNING - 패턴 ['1\\.\\s*연결대상\\s*종속회사\\s*현황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:33,721 - config - INFO - <title> 태그 총 151개 확인
2025-04-21 16:59:33,728 - config - WARNING - 패턴 ['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:33,728 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:59:33,774 - config - INFO - <title> 태그 총 151개 확인
2025-04-21 16:59:33,779 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:33,823 - config - INFO - <title> 태그 총 151개 확인
2025-04-21 16:59:33,828 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:33,870 - config - INFO - <title> 태그 총 151개 확인
2025-04-21 16:59:33,875 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:33,875 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 16:59:33,876 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 16:59:33,921 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 16:59:33,922 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 16:59:33,922 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 16:59:34,928 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 16:59:35,179 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 16:59:35,483 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 16:59:35,916 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 16:59:35,935 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 16:59:35,938 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 16:59:35,940 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 16:59:35,943 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 16:59:35,944 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 16:59:35,945 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 16:59:36,162 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 16:59:36,226 - config - INFO - <title> 태그 총 146개 확인
2025-04-21 16:59:36,232 - config - WARNING - 패턴 ['1\\.\\s*연결대상\\s*종속회사\\s*현황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:36,292 - config - INFO - <title> 태그 총 146개 확인
2025-04-21 16:59:36,298 - config - WARNING - 패턴 ['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:36,299 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 16:59:36,358 - config - INFO - <title> 태그 총 146개 확인
2025-04-21 16:59:36,363 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:36,422 - config - INFO - <title> 태그 총 146개 확인
2025-04-21 16:59:36,426 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:36,484 - config - INFO - <title> 태그 총 146개 확인
2025-04-21 16:59:36,489 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 16:59:36,489 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 16:59:36,489 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 16:59:36,548 - config - WARNING - 012450: 임베딩할 추출 데이터 없음.
2025-04-21 16:59:36,548 - config - WARNING - 012450: 업로드할 추출 데이터 없음.
2025-04-21 16:59:36,549 - config - INFO - --- DART 처리 완료: 012450 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 16:59:37,556 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 10) =====
2025-04-21 16:59:37,557 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '005930', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '000660', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '012450', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 17:17:34,399 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 17:17:34,405 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 17:17:34,456 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 17:17:34,537 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 17:17:34,538 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 17:17:34,915 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 17:17:34,916 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 17:17:34,918 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:17:34,918 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:17:34,918 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:17:34,919 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:17:34,919 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:17:34,919 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:17:34,919 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:17:34,920 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:17:34,920 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:17:34,920 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:17:34,920 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:17:34,921 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:17:34,921 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:17:34,921 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:17:34,924 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '1459671e-1e89-11f0-90ee-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 17:17:35,971 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '1459671e-1e89-11f0-90ee-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 08:17:35 GMT'
2025-04-21 17:17:35,976 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 17:17:35,978 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 17:17:36,578 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 17:17:36,579 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 17:17:36,580 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 17:17:36,580 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 17:17:36,684 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 17:17:36,686 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 17:17:36,687 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 17:17:37,833 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 17:17:38,092 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 17:17:38,098 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 17:17:54,491 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 17:17:54,492 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 17:17:54,546 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 17:17:54,549 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 17:17:54,555 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 17:17:54,615 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 17:17:54,646 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 17:17:55,025 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 17:17:55,665 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 17:17:56,429 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 17:17:56,448 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 17:17:56,451 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 17:17:56,454 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 17:17:56,457 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 17:17:56,458 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 17:17:56,459 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 17:17:56,603 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 17:17:56,645 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 17:17:56,646 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:17:56,688 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 17:17:56,688 - config - WARNING - 계열사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:17:56,689 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 17:17:56,727 - config - INFO - '3\.\s*원재료' 패턴과 일치하는 title 찾음: '3. 원재료 및 생산설비'
2025-04-21 17:17:56,770 - config - INFO - '4\.\s*매출\s*및\s*수주\s*상황' 패턴과 일치하는 title 찾음: '4. 매출 및 수주상황'
2025-04-21 17:17:56,806 - config - INFO - '6\.\s*주요계약' 패턴과 일치하는 title 찾음: '6. 주요계약 및 연구개발활동'
2025-04-21 17:17:56,809 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:17:56,810 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:17:56,811 - config - INFO - 공급망/파트너십 관계 정보 32건 추출.
2025-04-21 17:17:56,811 - config - INFO - XML 직접 파싱 완료. 최종 21개 구조화된 데이터 조각 생성.
2025-04-21 17:17:56,846 - config - INFO - 005930: 임베딩 생성 시작 (21개 조각)...
2025-04-21 17:17:57,968 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:17:58,269 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:17:58,569 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:17:58,862 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:17:59,288 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:17:59,584 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:17:59,893 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:00,308 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:00,606 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:00,909 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:01,365 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:01,659 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:01,959 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:02,391 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:02,744 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:03,036 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:03,485 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:03,778 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:04,081 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:04,786 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:05,086 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:05,142 - config - INFO - 005930: 임베딩 생성 완료 (21 / 21 성공)
2025-04-21 17:18:05,143 - config - INFO - 005930: AI Search 업로드 시작 (21개 문서)...
2025-04-21 17:18:05,143 - config - INFO - AI Search 업로드 문서 준비: 총 21개 (Source: DART_분기보고서 (2024.09)_2024_005930_20241114002642)
2025-04-21 17:18:05,144 - config - INFO - 총 21개 문서 AI Search 업로드 시도...
2025-04-21 17:18:05,161 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '736959'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '265f4604-1e89-11f0-90ee-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 17:18:07,019 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '265f4604-1e89-11f0-90ee-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 08:18:06 GMT'
2025-04-21 17:18:07,024 - config - INFO - AI Search 문서 업로드 완료: 21 / 21 성공 (Source: DART_분기보고서 (2024.09)_2024_005930_20241114002642)
2025-04-21 17:18:07,026 - config - INFO - 005930: AI Search 업로드 완료.
2025-04-21 17:18:07,028 - config - INFO - --- DART 처리 완료: 005930 (상태: 성공(XML Parse), 처리된 청크 수: 21) ---
2025-04-21 17:18:08,036 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 17:18:08,333 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 17:18:08,788 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 17:18:09,129 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 17:18:09,137 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 17:18:09,139 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 17:18:09,140 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 17:18:09,144 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 17:18:09,145 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 17:18:09,145 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 17:18:09,255 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 17:18:09,288 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 17:18:09,289 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:18:09,320 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 17:18:09,321 - config - WARNING - 계열사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:18:09,321 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 17:18:09,349 - config - INFO - '3\.\s*원재료' 패턴과 일치하는 title 찾음: '3. 원재료 및 생산설비'
2025-04-21 17:18:09,382 - config - INFO - '4\.\s*매출\s*및\s*수주\s*상황' 패턴과 일치하는 title 찾음: '4. 매출 및 수주상황'
2025-04-21 17:18:09,409 - config - INFO - '6\.\s*주요계약' 패턴과 일치하는 title 찾음: '6. 주요계약 및 연구개발활동'
2025-04-21 17:18:09,411 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:18:09,412 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:18:09,412 - config - INFO - 공급망/파트너십 관계 정보 9건 추출.
2025-04-21 17:18:09,413 - config - INFO - XML 직접 파싱 완료. 최종 7개 구조화된 데이터 조각 생성.
2025-04-21 17:18:09,441 - config - INFO - 000660: 임베딩 생성 시작 (7개 조각)...
2025-04-21 17:18:09,742 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:10,052 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:10,353 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:10,790 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:11,098 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:11,402 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:12,126 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:12,183 - config - INFO - 000660: 임베딩 생성 완료 (7 / 7 성공)
2025-04-21 17:18:12,184 - config - INFO - 000660: AI Search 업로드 시작 (7개 문서)...
2025-04-21 17:18:12,185 - config - INFO - AI Search 업로드 문서 준비: 총 7개 (Source: DART_분기보고서 (2024.09)_2024_000660_20241114001712)
2025-04-21 17:18:12,186 - config - INFO - 총 7개 문서 AI Search 업로드 시도...
2025-04-21 17:18:12,197 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '245918'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '2a90c446-1e89-11f0-90ee-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 17:18:12,445 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '2a90c446-1e89-11f0-90ee-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 08:18:12 GMT'
2025-04-21 17:18:12,448 - config - INFO - AI Search 문서 업로드 완료: 7 / 7 성공 (Source: DART_분기보고서 (2024.09)_2024_000660_20241114001712)
2025-04-21 17:18:12,449 - config - INFO - 000660: AI Search 업로드 완료.
2025-04-21 17:18:12,450 - config - INFO - --- DART 처리 완료: 000660 (상태: 성공(XML Parse), 처리된 청크 수: 7) ---
2025-04-21 17:18:13,456 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 17:18:13,724 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 17:18:14,023 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 17:18:14,909 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 17:18:14,936 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 17:18:14,939 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 17:18:14,941 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 17:18:14,951 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 17:18:14,952 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 17:18:14,952 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 17:18:15,213 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 17:18:15,280 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 17:18:15,281 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:18:15,346 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 17:18:15,347 - config - WARNING - 계열사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:18:15,347 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 17:18:15,414 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 17:18:15,478 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 17:18:15,544 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 17:18:15,544 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 17:18:15,545 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 17:18:15,615 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 17:18:15,616 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 17:18:15,616 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 17:18:16,624 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 17:18:17,046 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 17:18:17,380 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 17:18:17,690 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 17:18:17,706 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 17:18:17,709 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 17:18:17,710 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 17:18:17,716 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 17:18:17,717 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 17:18:17,718 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 17:18:17,912 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 17:18:17,956 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 17:18:17,957 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:18:18,000 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 17:18:18,001 - config - WARNING - 계열사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:18:18,001 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 17:18:18,046 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 17:18:18,091 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 17:18:18,135 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 17:18:18,135 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 17:18:18,136 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 17:18:18,181 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 17:18:18,182 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 17:18:18,182 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 17:18:19,190 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 17:18:19,495 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 17:18:19,865 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 17:18:20,609 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 17:18:20,630 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 17:18:20,633 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 17:18:20,634 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 17:18:20,637 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 17:18:20,638 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 17:18:20,639 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 17:18:20,850 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 17:18:20,909 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 17:18:20,909 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:18:20,966 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 17:18:20,969 - config - WARNING - 계열사 테이블 '회사명/기업명' 헤더 못찾음.
2025-04-21 17:18:20,969 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 17:18:21,025 - config - INFO - '3\.\s*원재료' 패턴과 일치하는 title 찾음: '3. 원재료 및 생산설비'
2025-04-21 17:18:21,086 - config - INFO - '4\.\s*매출\s*및\s*수주\s*상황' 패턴과 일치하는 title 찾음: '4. 매출 및 수주상황'
2025-04-21 17:18:21,142 - config - INFO - '6\.\s*주요계약' 패턴과 일치하는 title 찾음: '6. 주요계약 및 연구개발활동'
2025-04-21 17:18:21,143 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:18:21,145 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:18:21,145 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:18:21,146 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:18:21,147 - config - INFO - 공급망/파트너십 관계 정보 12건 추출.
2025-04-21 17:18:21,148 - config - INFO - XML 직접 파싱 완료. 최종 12개 구조화된 데이터 조각 생성.
2025-04-21 17:18:21,203 - config - INFO - 012450: 임베딩 생성 시작 (12개 조각)...
2025-04-21 17:18:22,344 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:22,638 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:22,933 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:23,394 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:23,689 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:23,982 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:24,412 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:24,723 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:25,016 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:25,309 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:25,599 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:25,998 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:18:26,056 - config - INFO - 012450: 임베딩 생성 완료 (12 / 12 성공)
2025-04-21 17:18:26,057 - config - INFO - 012450: AI Search 업로드 시작 (12개 문서)...
2025-04-21 17:18:26,058 - config - INFO - AI Search 업로드 문서 준비: 총 12개 (Source: DART_분기보고서 (2024.09)_2024_012450_20241113000565)
2025-04-21 17:18:26,062 - config - INFO - 총 12개 문서 AI Search 업로드 시도...
2025-04-21 17:18:26,083 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '421705'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '32d7a0ac-1e89-11f0-90ee-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 17:18:26,806 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '32d7a0ac-1e89-11f0-90ee-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 08:18:26 GMT'
2025-04-21 17:18:26,809 - config - INFO - AI Search 문서 업로드 완료: 12 / 12 성공 (Source: DART_분기보고서 (2024.09)_2024_012450_20241113000565)
2025-04-21 17:18:26,810 - config - INFO - 012450: AI Search 업로드 완료.
2025-04-21 17:18:26,812 - config - INFO - --- DART 처리 완료: 012450 (상태: 성공(XML Parse), 처리된 청크 수: 12) ---
2025-04-21 17:18:27,820 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 3, 실패: 4) =====
2025-04-21 17:18:27,825 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 17:22:35,285 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 17:22:35,302 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 17:22:35,350 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 17:22:35,429 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 17:22:35,429 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 17:22:35,435 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 17:22:35,435 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 17:22:35,436 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:22:35,437 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:22:35,437 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:22:35,438 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:22:35,438 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:22:35,451 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:22:35,458 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:22:35,459 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:22:35,459 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:22:35,459 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:22:35,459 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:22:35,460 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:22:35,460 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:22:35,461 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:22:35,467 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'c77c979e-1e89-11f0-9995-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 17:22:36,307 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'c77c979e-1e89-11f0-9995-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 08:22:36 GMT'
2025-04-21 17:22:36,308 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 17:22:36,309 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 17:22:36,531 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 17:22:36,532 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 17:22:36,533 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 17:22:36,533 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 17:22:36,634 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 17:22:36,636 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 17:22:36,637 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 17:22:37,226 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 17:22:37,537 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 17:22:37,538 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 17:22:45,132 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 17:22:45,133 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 17:22:45,184 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 17:22:45,186 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 17:22:45,192 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 17:22:45,218 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 17:22:45,245 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 17:22:45,527 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 17:22:45,931 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 17:22:46,297 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 17:22:46,310 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 17:22:46,313 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 17:22:46,315 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 17:22:46,320 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 17:22:46,320 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 17:22:46,321 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 17:22:46,462 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 17:22:46,504 - config - INFO - 정규식(원본) 매칭: '1\.\s*연결대상\s*종속회사\s*현황' ↔ '1. 연결대상 종속회사 현황(상세)'
2025-04-21 17:22:46,505 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:22:46,547 - config - INFO - 정규식(원본) 매칭: 'IX\.\s*계열회사' ↔ 'IX. 계열회사 등에 관한 사항'
2025-04-21 17:22:46,548 - config - WARNING - 계열사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:22:46,548 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 17:22:46,585 - config - INFO - 정규식(원본) 매칭: '3\.\s*원재료' ↔ '3. 원재료 및 생산설비'
2025-04-21 17:22:46,627 - config - INFO - 정규식(원본) 매칭: '4\.\s*매출\s*및\s*수주\s*상황' ↔ '4. 매출 및 수주상황'
2025-04-21 17:22:46,663 - config - INFO - 정규식(원본) 매칭: '6\.\s*주요계약' ↔ '6. 주요계약 및 연구개발활동'
2025-04-21 17:22:46,665 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:22:46,666 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:22:46,667 - config - INFO - 공급망/파트너십 관계 정보 32건 추출.
2025-04-21 17:22:46,667 - config - INFO - XML 직접 파싱 완료. 최종 21개 구조화된 데이터 조각 생성.
2025-04-21 17:22:46,701 - config - INFO - 005930: 임베딩 생성 시작 (21개 조각)...
2025-04-21 17:22:47,916 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:22:48,215 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:22:48,661 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:22:48,967 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:22:49,268 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:22:49,726 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:22:50,060 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:22:50,475 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:22:50,779 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:22:51,111 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:22:51,540 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:22:51,841 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:22:54,571 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:22:54,954 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:22:55,266 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:22:55,746 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:22:56,062 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:22:56,530 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:22:56,881 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:22:57,319 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:22:58,319 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:22:58,377 - config - INFO - 005930: 임베딩 생성 완료 (21 / 21 성공)
2025-04-21 17:22:58,379 - config - INFO - 005930: AI Search 업로드 시작 (21개 문서)...
2025-04-21 17:22:58,381 - config - INFO - AI Search 업로드 문서 준비: 총 21개 (Source: DART_분기보고서 (2024.09)_2024_005930_20241114002642)
2025-04-21 17:22:58,383 - config - INFO - 총 21개 문서 AI Search 업로드 시도...
2025-04-21 17:22:58,411 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '736997'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'd5298a82-1e89-11f0-9995-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 17:23:00,725 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd5298a82-1e89-11f0-9995-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 08:23:00 GMT'
2025-04-21 17:23:00,726 - config - INFO - AI Search 문서 업로드 완료: 21 / 21 성공 (Source: DART_분기보고서 (2024.09)_2024_005930_20241114002642)
2025-04-21 17:23:00,727 - config - INFO - 005930: AI Search 업로드 완료.
2025-04-21 17:23:00,727 - config - INFO - --- DART 처리 완료: 005930 (상태: 성공(XML Parse), 처리된 청크 수: 21) ---
2025-04-21 17:23:01,731 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 17:23:02,015 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 17:23:02,307 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 17:23:02,550 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 17:23:02,563 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 17:23:02,566 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 17:23:02,567 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 17:23:02,571 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 17:23:02,572 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 17:23:02,572 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 17:23:02,687 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 17:23:02,726 - config - INFO - 정규식(원본) 매칭: '1\.\s*연결대상\s*종속회사\s*현황' ↔ '1. 연결대상 종속회사 현황(상세)'
2025-04-21 17:23:02,727 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:23:02,765 - config - INFO - 정규식(원본) 매칭: 'IX\.\s*계열회사' ↔ 'IX. 계열회사 등에 관한 사항'
2025-04-21 17:23:02,765 - config - WARNING - 계열사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:23:02,766 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 17:23:02,802 - config - INFO - 정규식(원본) 매칭: '3\.\s*원재료' ↔ '3. 원재료 및 생산설비'
2025-04-21 17:23:02,838 - config - INFO - 정규식(원본) 매칭: '4\.\s*매출\s*및\s*수주\s*상황' ↔ '4. 매출 및 수주상황'
2025-04-21 17:23:02,868 - config - INFO - 정규식(원본) 매칭: '6\.\s*주요계약' ↔ '6. 주요계약 및 연구개발활동'
2025-04-21 17:23:02,870 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:23:02,871 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:23:02,871 - config - INFO - 공급망/파트너십 관계 정보 9건 추출.
2025-04-21 17:23:02,872 - config - INFO - XML 직접 파싱 완료. 최종 7개 구조화된 데이터 조각 생성.
2025-04-21 17:23:02,899 - config - INFO - 000660: 임베딩 생성 시작 (7개 조각)...
2025-04-21 17:23:03,153 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:03,595 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:03,893 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:04,192 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:04,635 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:04,939 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:05,234 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:05,291 - config - INFO - 000660: 임베딩 생성 완료 (7 / 7 성공)
2025-04-21 17:23:05,292 - config - INFO - 000660: AI Search 업로드 시작 (7개 문서)...
2025-04-21 17:23:05,292 - config - INFO - AI Search 업로드 문서 준비: 총 7개 (Source: DART_분기보고서 (2024.09)_2024_000660_20241114001712)
2025-04-21 17:23:05,293 - config - INFO - 총 7개 문서 AI Search 업로드 시도...
2025-04-21 17:23:05,301 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '245918'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'd944e2e2-1e89-11f0-9995-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 17:23:05,691 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd944e2e2-1e89-11f0-9995-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 08:23:05 GMT'
2025-04-21 17:23:05,692 - config - INFO - AI Search 문서 업로드 완료: 7 / 7 성공 (Source: DART_분기보고서 (2024.09)_2024_000660_20241114001712)
2025-04-21 17:23:05,693 - config - INFO - 000660: AI Search 업로드 완료.
2025-04-21 17:23:05,693 - config - INFO - --- DART 처리 완료: 000660 (상태: 성공(XML Parse), 처리된 청크 수: 7) ---
2025-04-21 17:23:06,701 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 17:23:06,957 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 17:23:07,271 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 17:23:07,662 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 17:23:07,680 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 17:23:07,685 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 17:23:07,687 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 17:23:07,695 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 17:23:07,696 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 17:23:07,697 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 17:23:07,963 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 17:23:08,031 - config - INFO - 정규식(원본) 매칭: '1\.\s*연결대상\s*종속회사\s*현황' ↔ '1. 연결대상 종속회사 현황(상세)'
2025-04-21 17:23:08,032 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:23:08,098 - config - INFO - 정규식(원본) 매칭: 'IX\.\s*계열회사' ↔ 'IX. 계열회사 등에 관한 사항'
2025-04-21 17:23:08,098 - config - WARNING - 계열사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:23:08,098 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 17:23:08,165 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 17:23:08,231 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 17:23:08,298 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 17:23:08,299 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 17:23:08,299 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 17:23:08,371 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 17:23:08,372 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 17:23:08,373 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 17:23:09,381 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 17:23:09,652 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 17:23:09,960 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 17:23:10,237 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 17:23:10,251 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 17:23:10,254 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 17:23:10,255 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 17:23:10,262 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 17:23:10,262 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 17:23:10,263 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 17:23:10,465 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 17:23:10,518 - config - INFO - 정규식(원본) 매칭: '1\.\s*연결대상\s*종속회사\s*현황' ↔ '1. 연결대상 종속회사 현황(상세)'
2025-04-21 17:23:10,518 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:23:10,568 - config - INFO - 정규식(원본) 매칭: 'IX\.\s*계열회사' ↔ 'IX. 계열회사 등에 관한 사항'
2025-04-21 17:23:10,568 - config - WARNING - 계열사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:23:10,568 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 17:23:10,613 - config - INFO - 한글 키워드 매칭: ['원재료'] 모두 '원재료 및 생산설비' 에 포함됨
2025-04-21 17:23:10,662 - config - INFO - 한글 키워드 매칭: ['매출', '및', '수주', '상황'] 모두 '매출 및 수주상황' 에 포함됨
2025-04-21 17:23:10,706 - config - INFO - 한글 키워드 매칭: ['주요계약'] 모두 '주요계약 및 연구개발활동' 에 포함됨
2025-04-21 17:23:10,707 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:23:10,708 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:23:10,709 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:23:10,710 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:23:10,711 - config - INFO - 공급망/파트너십 관계 정보 5건 추출.
2025-04-21 17:23:10,711 - config - INFO - XML 직접 파싱 완료. 최종 5개 구조화된 데이터 조각 생성.
2025-04-21 17:23:10,757 - config - INFO - 005380: 임베딩 생성 시작 (5개 조각)...
2025-04-21 17:23:11,737 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:12,033 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:12,332 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:12,626 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:13,043 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:13,097 - config - INFO - 005380: 임베딩 생성 완료 (5 / 5 성공)
2025-04-21 17:23:13,098 - config - INFO - 005380: AI Search 업로드 시작 (5개 문서)...
2025-04-21 17:23:13,098 - config - INFO - AI Search 업로드 문서 준비: 총 5개 (Source: DART_분기보고서 (2024.09)_2024_005380_20241114002593)
2025-04-21 17:23:13,099 - config - INFO - 총 5개 문서 AI Search 업로드 시도...
2025-04-21 17:23:13,104 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '177571'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'ddeb9a84-1e89-11f0-9995-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 17:23:13,353 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'ddeb9a84-1e89-11f0-9995-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 08:23:13 GMT'
2025-04-21 17:23:13,354 - config - INFO - AI Search 문서 업로드 완료: 5 / 5 성공 (Source: DART_분기보고서 (2024.09)_2024_005380_20241114002593)
2025-04-21 17:23:13,354 - config - INFO - 005380: AI Search 업로드 완료.
2025-04-21 17:23:13,355 - config - INFO - --- DART 처리 완료: 005380 (상태: 성공(XML Parse), 처리된 청크 수: 5) ---
2025-04-21 17:23:14,361 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 17:23:14,613 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 17:23:14,890 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 17:23:15,152 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 17:23:15,173 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 17:23:15,176 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 17:23:15,178 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 17:23:15,180 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 17:23:15,182 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 17:23:15,182 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 17:23:15,399 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 17:23:15,464 - config - INFO - 정규식(원본) 매칭: '1\.\s*연결대상\s*종속회사\s*현황' ↔ '1. 연결대상 종속회사 현황(상세)'
2025-04-21 17:23:15,465 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:23:15,522 - config - INFO - 정규식(원본) 매칭: 'IX\.\s*계열회사' ↔ 'IX. 계열회사 등에 관한 사항'
2025-04-21 17:23:15,526 - config - WARNING - 계열사 테이블 '회사명/기업명' 헤더 못찾음.
2025-04-21 17:23:15,526 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 17:23:15,582 - config - INFO - 정규식(원본) 매칭: '3\.\s*원재료' ↔ '3. 원재료 및 생산설비'
2025-04-21 17:23:15,645 - config - INFO - 정규식(원본) 매칭: '4\.\s*매출\s*및\s*수주\s*상황' ↔ '4. 매출 및 수주상황'
2025-04-21 17:23:15,702 - config - INFO - 정규식(원본) 매칭: '6\.\s*주요계약' ↔ '6. 주요계약 및 연구개발활동'
2025-04-21 17:23:15,703 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:23:15,704 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:23:15,705 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:23:15,706 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:23:15,707 - config - INFO - 공급망/파트너십 관계 정보 12건 추출.
2025-04-21 17:23:15,707 - config - INFO - XML 직접 파싱 완료. 최종 12개 구조화된 데이터 조각 생성.
2025-04-21 17:23:15,764 - config - INFO - 012450: 임베딩 생성 시작 (12개 조각)...
2025-04-21 17:23:15,998 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:16,449 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:16,748 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:17,048 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:17,340 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:17,729 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:18,028 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:18,321 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:18,613 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:19,072 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:19,411 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:19,836 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:23:19,894 - config - INFO - 012450: 임베딩 생성 완료 (12 / 12 성공)
2025-04-21 17:23:19,895 - config - INFO - 012450: AI Search 업로드 시작 (12개 문서)...
2025-04-21 17:23:19,896 - config - INFO - AI Search 업로드 문서 준비: 총 12개 (Source: DART_분기보고서 (2024.09)_2024_012450_20241113000565)
2025-04-21 17:23:19,897 - config - INFO - 총 12개 문서 AI Search 업로드 시도...
2025-04-21 17:23:19,914 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '421705'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'e1fac2ee-1e89-11f0-9995-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 17:23:20,647 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'e1fac2ee-1e89-11f0-9995-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 08:23:20 GMT'
2025-04-21 17:23:20,650 - config - INFO - AI Search 문서 업로드 완료: 12 / 12 성공 (Source: DART_분기보고서 (2024.09)_2024_012450_20241113000565)
2025-04-21 17:23:20,651 - config - INFO - 012450: AI Search 업로드 완료.
2025-04-21 17:23:20,652 - config - INFO - --- DART 처리 완료: 012450 (상태: 성공(XML Parse), 처리된 청크 수: 12) ---
2025-04-21 17:23:21,657 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 4, 실패: 2) =====
2025-04-21 17:23:21,661 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 17:35:15,993 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 17:35:17,606 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 17:35:17,652 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 17:35:17,654 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 17:35:17,659 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 17:35:18,526 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 17:35:18,527 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 17:35:18,528 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:35:18,529 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:35:18,530 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:35:18,530 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:35:18,531 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:35:18,532 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:35:18,532 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:35:18,533 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:35:18,534 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:35:18,534 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:35:18,535 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:35:18,535 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:35:18,536 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:35:18,536 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:35:18,538 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '8e500ea4-1e8b-11f0-9995-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 17:35:19,439 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '8e500ea4-1e8b-11f0-9995-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 08:35:19 GMT'
2025-04-21 17:35:19,443 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 17:35:19,446 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 17:35:19,660 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 17:35:19,663 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 17:35:19,664 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 17:35:19,664 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 17:35:19,708 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 17:35:19,710 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 17:35:19,711 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 17:35:21,529 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 17:35:21,538 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 17:35:21,539 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 17:35:21,543 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 17:35:21,607 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 17:35:21,609 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 17:35:21,615 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 17:35:22,197 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 17:35:22,204 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 17:35:22,522 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 17:35:22,908 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 17:35:23,282 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 17:35:23,291 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 17:35:23,293 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 17:35:23,294 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 17:35:23,298 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 17:35:23,299 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 17:35:23,300 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 17:35:23,436 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 17:35:23,478 - config - INFO - 정규식(원본) 매칭: '1\.\s*연결대상\s*종속회사\s*현황' ↔ '1. 연결대상 종속회사 현황(상세)'
2025-04-21 17:35:23,478 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:35:23,518 - config - INFO - 정규식(원본) 매칭: 'IX\.\s*계열회사' ↔ 'IX. 계열회사 등에 관한 사항'
2025-04-21 17:35:23,519 - config - WARNING - 계열사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:35:23,519 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 17:35:23,556 - config - INFO - 정규식(원본) 매칭: '3\.\s*원재료' ↔ '3. 원재료 및 생산설비'
2025-04-21 17:35:23,598 - config - INFO - 정규식(원본) 매칭: '4\.\s*매출\s*및\s*수주\s*상황' ↔ '4. 매출 및 수주상황'
2025-04-21 17:35:23,632 - config - INFO - 정규식(원본) 매칭: '6\.\s*주요계약' ↔ '6. 주요계약 및 연구개발활동'
2025-04-21 17:35:23,634 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:35:23,635 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:35:23,636 - config - INFO - 공급망/파트너십 관계 정보 32건 추출.
2025-04-21 17:35:23,636 - config - INFO - XML 직접 파싱 완료. 최종 21개 구조화된 데이터 조각 생성.
2025-04-21 17:35:23,669 - config - INFO - 005930: 임베딩 생성 시작 (21개 조각)...
2025-04-21 17:35:24,643 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:24,931 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:25,221 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:25,542 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:26,971 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:27,264 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:27,548 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:27,832 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:28,134 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:28,538 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:28,838 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:29,208 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:29,720 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:30,162 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:30,452 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:30,740 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:31,163 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:31,461 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:31,750 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:32,040 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:32,328 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:32,385 - config - INFO - 005930: 임베딩 생성 완료 (21 / 21 성공)
2025-04-21 17:35:32,387 - config - INFO - 005930: AI Search 업로드 시작 (21개 문서)...
2025-04-21 17:35:32,388 - config - INFO - AI Search 업로드 문서 준비: 총 21개 (Source: DART_분기보고서 (2024.09)_2024_005930_20241114002642)
2025-04-21 17:35:32,391 - config - INFO - 총 21개 문서 AI Search 업로드 시도...
2025-04-21 17:35:32,425 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '737007'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '969704be-1e8b-11f0-9995-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 17:35:34,612 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '969704be-1e8b-11f0-9995-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 08:35:34 GMT'
2025-04-21 17:35:34,616 - config - INFO - AI Search 문서 업로드 완료: 21 / 21 성공 (Source: DART_분기보고서 (2024.09)_2024_005930_20241114002642)
2025-04-21 17:35:34,618 - config - INFO - 005930: AI Search 업로드 완료.
2025-04-21 17:35:34,620 - config - INFO - --- DART 처리 완료: 005930 (상태: 성공(XML Parse), 처리된 청크 수: 21) ---
2025-04-21 17:35:35,627 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 17:35:35,905 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 17:35:36,203 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 17:35:36,445 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 17:35:36,459 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 17:35:36,461 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 17:35:36,463 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 17:35:36,467 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 17:35:36,468 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 17:35:36,469 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 17:35:36,581 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 17:35:36,613 - config - INFO - 정규식(원본) 매칭: '1\.\s*연결대상\s*종속회사\s*현황' ↔ '1. 연결대상 종속회사 현황(상세)'
2025-04-21 17:35:36,613 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:35:36,644 - config - INFO - 정규식(원본) 매칭: 'IX\.\s*계열회사' ↔ 'IX. 계열회사 등에 관한 사항'
2025-04-21 17:35:36,644 - config - WARNING - 계열사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:35:36,645 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 17:35:36,692 - config - INFO - 정규식(원본) 매칭: '3\.\s*원재료' ↔ '3. 원재료 및 생산설비'
2025-04-21 17:35:36,723 - config - INFO - 정규식(원본) 매칭: '4\.\s*매출\s*및\s*수주\s*상황' ↔ '4. 매출 및 수주상황'
2025-04-21 17:35:36,751 - config - INFO - 정규식(원본) 매칭: '6\.\s*주요계약' ↔ '6. 주요계약 및 연구개발활동'
2025-04-21 17:35:36,753 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:35:36,754 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:35:36,754 - config - INFO - 공급망/파트너십 관계 정보 9건 추출.
2025-04-21 17:35:36,755 - config - INFO - XML 직접 파싱 완료. 최종 7개 구조화된 데이터 조각 생성.
2025-04-21 17:35:36,781 - config - INFO - 000660: 임베딩 생성 시작 (7개 조각)...
2025-04-21 17:35:37,016 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:37,309 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:37,596 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:37,989 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:38,287 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:38,581 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:38,875 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:38,932 - config - INFO - 000660: 임베딩 생성 완료 (7 / 7 성공)
2025-04-21 17:35:38,934 - config - INFO - 000660: AI Search 업로드 시작 (7개 문서)...
2025-04-21 17:35:38,935 - config - INFO - AI Search 업로드 문서 준비: 총 7개 (Source: DART_분기보고서 (2024.09)_2024_000660_20241114001712)
2025-04-21 17:35:38,937 - config - INFO - 총 7개 문서 AI Search 업로드 시도...
2025-04-21 17:35:38,949 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '245918'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '9a7a95c8-1e8b-11f0-9995-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 17:35:39,325 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '9a7a95c8-1e8b-11f0-9995-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 08:35:39 GMT'
2025-04-21 17:35:39,328 - config - INFO - AI Search 문서 업로드 완료: 7 / 7 성공 (Source: DART_분기보고서 (2024.09)_2024_000660_20241114001712)
2025-04-21 17:35:39,330 - config - INFO - 000660: AI Search 업로드 완료.
2025-04-21 17:35:39,333 - config - INFO - --- DART 처리 완료: 000660 (상태: 성공(XML Parse), 처리된 청크 수: 7) ---
2025-04-21 17:35:40,340 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 17:35:40,658 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 17:35:40,908 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 17:35:41,171 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 17:35:41,194 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 17:35:41,197 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 17:35:41,198 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 17:35:41,206 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 17:35:41,206 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 17:35:41,207 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 17:35:41,477 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 17:35:41,544 - config - INFO - 정규식(원본) 매칭: '1\.\s*연결대상\s*종속회사\s*현황' ↔ '1. 연결대상 종속회사 현황(상세)'
2025-04-21 17:35:41,544 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:35:41,611 - config - INFO - 정규식(원본) 매칭: 'IX\.\s*계열회사' ↔ 'IX. 계열회사 등에 관한 사항'
2025-04-21 17:35:41,611 - config - WARNING - 계열사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:35:41,612 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 17:35:41,677 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 17:35:41,770 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 17:35:41,836 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 17:35:41,837 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 17:35:41,837 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 17:35:41,906 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 17:35:41,907 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 17:35:41,907 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 17:35:42,913 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 17:35:43,264 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 17:35:43,554 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 17:35:43,794 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 17:35:43,804 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 17:35:43,806 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 17:35:43,808 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 17:35:43,814 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 17:35:43,816 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 17:35:43,816 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 17:35:44,061 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 17:35:44,114 - config - INFO - 정규식(원본) 매칭: '1\.\s*연결대상\s*종속회사\s*현황' ↔ '1. 연결대상 종속회사 현황(상세)'
2025-04-21 17:35:44,114 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:35:44,161 - config - INFO - 정규식(원본) 매칭: 'IX\.\s*계열회사' ↔ 'IX. 계열회사 등에 관한 사항'
2025-04-21 17:35:44,162 - config - WARNING - 계열사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:35:44,162 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 17:35:44,208 - config - INFO - 한글 키워드 매칭: ['원재료'] 모두 '원재료 및 생산설비' 에 포함됨
2025-04-21 17:35:44,257 - config - INFO - 한글 키워드 매칭: ['매출', '및', '수주', '상황'] 모두 '매출 및 수주상황' 에 포함됨
2025-04-21 17:35:44,303 - config - INFO - 한글 키워드 매칭: ['주요계약'] 모두 '주요계약 및 연구개발활동' 에 포함됨
2025-04-21 17:35:44,304 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:35:44,305 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:35:44,306 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:35:44,307 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:35:44,308 - config - INFO - 공급망/파트너십 관계 정보 5건 추출.
2025-04-21 17:35:44,308 - config - INFO - XML 직접 파싱 완료. 최종 5개 구조화된 데이터 조각 생성.
2025-04-21 17:35:44,354 - config - INFO - 005380: 임베딩 생성 시작 (5개 조각)...
2025-04-21 17:35:45,332 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:45,631 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:45,929 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:46,231 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:46,667 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:46,723 - config - INFO - 005380: 임베딩 생성 완료 (5 / 5 성공)
2025-04-21 17:35:46,724 - config - INFO - 005380: AI Search 업로드 시작 (5개 문서)...
2025-04-21 17:35:46,725 - config - INFO - AI Search 업로드 문서 준비: 총 5개 (Source: DART_분기보고서 (2024.09)_2024_005380_20241114002593)
2025-04-21 17:35:46,726 - config - INFO - 총 5개 문서 AI Search 업로드 시도...
2025-04-21 17:35:46,735 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '177571'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '9f1e8c56-1e8b-11f0-9995-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 17:35:46,961 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '9f1e8c56-1e8b-11f0-9995-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 08:35:46 GMT'
2025-04-21 17:35:46,964 - config - INFO - AI Search 문서 업로드 완료: 5 / 5 성공 (Source: DART_분기보고서 (2024.09)_2024_005380_20241114002593)
2025-04-21 17:35:46,965 - config - INFO - 005380: AI Search 업로드 완료.
2025-04-21 17:35:46,966 - config - INFO - --- DART 처리 완료: 005380 (상태: 성공(XML Parse), 처리된 청크 수: 5) ---
2025-04-21 17:35:47,973 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 17:35:48,238 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 17:35:48,550 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 17:35:48,799 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 17:35:48,820 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 17:35:48,822 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 17:35:48,823 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 17:35:48,827 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 17:35:48,827 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 17:35:48,828 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 17:35:49,043 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 17:35:49,101 - config - INFO - 정규식(원본) 매칭: '1\.\s*연결대상\s*종속회사\s*현황' ↔ '1. 연결대상 종속회사 현황(상세)'
2025-04-21 17:35:49,101 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 17:35:49,160 - config - INFO - 정규식(원본) 매칭: 'IX\.\s*계열회사' ↔ 'IX. 계열회사 등에 관한 사항'
2025-04-21 17:35:49,163 - config - WARNING - 계열사 테이블 '회사명/기업명' 헤더 못찾음.
2025-04-21 17:35:49,163 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 17:35:49,219 - config - INFO - 정규식(원본) 매칭: '3\.\s*원재료' ↔ '3. 원재료 및 생산설비'
2025-04-21 17:35:49,281 - config - INFO - 정규식(원본) 매칭: '4\.\s*매출\s*및\s*수주\s*상황' ↔ '4. 매출 및 수주상황'
2025-04-21 17:35:49,338 - config - INFO - 정규식(원본) 매칭: '6\.\s*주요계약' ↔ '6. 주요계약 및 연구개발활동'
2025-04-21 17:35:49,339 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:35:49,341 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:35:49,342 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:35:49,343 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:35:49,343 - config - INFO - 공급망/파트너십 관계 정보 12건 추출.
2025-04-21 17:35:49,343 - config - INFO - XML 직접 파싱 완료. 최종 12개 구조화된 데이터 조각 생성.
2025-04-21 17:35:49,399 - config - INFO - 012450: 임베딩 생성 시작 (12개 조각)...
2025-04-21 17:35:49,655 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:50,047 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:50,349 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:50,649 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:50,949 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:51,389 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:51,685 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:51,978 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:52,274 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:52,673 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:52,968 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:53,272 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:35:53,331 - config - INFO - 012450: 임베딩 생성 완료 (12 / 12 성공)
2025-04-21 17:35:53,334 - config - INFO - 012450: AI Search 업로드 시작 (12개 문서)...
2025-04-21 17:35:53,336 - config - INFO - AI Search 업로드 문서 준비: 총 12개 (Source: DART_분기보고서 (2024.09)_2024_012450_20241113000565)
2025-04-21 17:35:53,337 - config - INFO - 총 12개 문서 AI Search 업로드 시도...
2025-04-21 17:35:53,355 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '421705'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'a310a826-1e8b-11f0-9995-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 17:35:54,034 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'a310a826-1e8b-11f0-9995-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 08:35:53 GMT'
2025-04-21 17:35:54,036 - config - INFO - AI Search 문서 업로드 완료: 12 / 12 성공 (Source: DART_분기보고서 (2024.09)_2024_012450_20241113000565)
2025-04-21 17:35:54,038 - config - INFO - 012450: AI Search 업로드 완료.
2025-04-21 17:35:54,040 - config - INFO - --- DART 처리 완료: 012450 (상태: 성공(XML Parse), 처리된 청크 수: 12) ---
2025-04-21 17:35:55,051 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 4, 실패: 2) =====
2025-04-21 17:35:55,054 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 17:46:36,374 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 17:46:36,388 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 17:46:36,460 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 17:46:36,563 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 17:46:36,564 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 17:46:36,570 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 17:46:36,570 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 17:46:36,571 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:46:36,572 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:46:36,573 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:46:36,573 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:46:36,573 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:46:36,574 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:46:36,574 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:46:36,575 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:46:36,575 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:46:36,576 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:46:36,576 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:46:36,576 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:46:36,577 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:46:36,577 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:46:36,579 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '2274e1d0-1e8d-11f0-be64-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 17:46:37,412 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '2274e1d0-1e8d-11f0-be64-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 08:46:37 GMT'
2025-04-21 17:46:37,415 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 17:46:37,419 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 17:46:38,081 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 17:46:38,082 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 17:46:38,082 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 17:46:38,082 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 17:46:38,203 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 17:46:38,206 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 17:46:38,207 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 17:46:40,202 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 17:46:40,444 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 17:46:40,445 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 17:46:51,336 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 17:46:51,336 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 17:46:51,388 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 17:46:51,391 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 17:46:51,398 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 17:46:51,424 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 17:46:51,454 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 17:46:51,820 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 17:46:52,345 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 17:46:52,680 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 17:46:52,689 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 17:46:52,691 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 17:46:52,692 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 17:46:52,696 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 17:46:52,697 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 17:46:52,698 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 17:46:52,841 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 17:46:52,890 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함. (fallback 로직 실행)
2025-04-21 17:46:52,891 - config - ERROR - fallback 로직에도 종속회사 테이블을 찾지 못함.
2025-04-21 17:46:52,933 - config - WARNING - 계열회사 제목 다음 테이블을 찾지 못함. (fallback 로직 실행)
2025-04-21 17:46:52,934 - config - ERROR - fallback 로직에도 계열회사 테이블을 찾지 못함.
2025-04-21 17:46:52,934 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 17:46:53,052 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:46:53,053 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:46:53,054 - config - INFO - 공급망/파트너십 관계 정보 32건 추출.
2025-04-21 17:46:53,054 - config - INFO - XML 직접 파싱 완료. 최종 21개 구조화된 데이터 조각 생성.
2025-04-21 17:46:53,090 - config - INFO - 005930: 임베딩 생성 시작 (21개 조각)...
2025-04-21 17:46:54,169 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:46:54,479 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:46:54,911 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:46:55,213 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:46:55,558 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:46:56,013 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:46:56,302 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:46:56,586 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:46:57,010 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:46:57,309 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:46:57,598 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:46:57,890 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:46:58,180 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:46:58,588 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:46:58,884 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:46:59,242 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:46:59,641 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:46:59,953 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:47:00,241 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:47:00,524 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:47:00,815 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:47:00,872 - config - INFO - 005930: 임베딩 생성 완료 (21 / 21 성공)
2025-04-21 17:47:00,873 - config - INFO - 005930: AI Search 업로드 시작 (21개 문서)...
2025-04-21 17:47:00,873 - config - INFO - AI Search 업로드 문서 준비: 총 21개 (Source: DART_분기보고서 (2024.09)_2024_005930_20241114002642)
2025-04-21 17:47:00,875 - config - INFO - 총 21개 문서 AI Search 업로드 시도...
2025-04-21 17:47:00,902 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '736959'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '30f4489a-1e8d-11f0-be64-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 17:47:03,080 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '30f4489a-1e8d-11f0-be64-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 08:47:02 GMT'
2025-04-21 17:47:03,085 - config - INFO - AI Search 문서 업로드 완료: 21 / 21 성공 (Source: DART_분기보고서 (2024.09)_2024_005930_20241114002642)
2025-04-21 17:47:03,086 - config - INFO - 005930: AI Search 업로드 완료.
2025-04-21 17:47:03,090 - config - INFO - --- DART 처리 완료: 005930 (상태: 성공(XML Parse), 처리된 청크 수: 21) ---
2025-04-21 17:47:04,103 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 17:47:04,369 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 17:47:04,664 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 17:47:04,923 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 17:47:04,963 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 17:47:04,965 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 17:47:04,967 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 17:47:04,972 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 17:47:04,976 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 17:47:04,976 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 17:47:05,079 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 17:47:05,115 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함. (fallback 로직 실행)
2025-04-21 17:47:05,115 - config - ERROR - fallback 로직에도 종속회사 테이블을 찾지 못함.
2025-04-21 17:47:05,153 - config - WARNING - 계열회사 제목 다음 테이블을 찾지 못함. (fallback 로직 실행)
2025-04-21 17:47:05,154 - config - ERROR - fallback 로직에도 계열회사 테이블을 찾지 못함.
2025-04-21 17:47:05,154 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 17:47:05,256 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:47:05,258 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 17:47:05,259 - config - INFO - 공급망/파트너십 관계 정보 9건 추출.
2025-04-21 17:47:05,259 - config - INFO - XML 직접 파싱 완료. 최종 7개 구조화된 데이터 조각 생성.
2025-04-21 17:47:05,287 - config - INFO - 000660: 임베딩 생성 시작 (7개 조각)...
2025-04-21 17:47:05,528 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 17:47:05,860 - config - WARNING - 사용자에 의해 실행 중단됨.
2025-04-21 17:47:05,862 - config - INFO - --- DART 처리 완료: 000660 (상태: 사용자 중단, 처리된 청크 수: 0) ---
2025-04-21 17:52:27,042 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 17:52:27,049 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 17:52:27,094 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 17:52:27,165 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 17:52:27,165 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 17:52:27,171 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 17:52:27,172 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 17:52:27,173 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:52:27,173 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:52:27,174 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:52:27,174 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:52:27,174 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:52:27,175 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:52:27,175 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:52:27,175 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:52:27,175 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:52:27,176 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:52:27,176 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:52:27,176 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:52:27,177 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:52:27,177 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 17:52:27,179 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'f36e2b02-1e8d-11f0-be85-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 17:52:27,908 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'f36e2b02-1e8d-11f0-be85-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 08:52:27 GMT'
2025-04-21 17:52:27,913 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 17:52:27,916 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 17:52:28,123 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 17:52:28,124 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 17:52:28,124 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 17:52:28,124 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 17:52:28,211 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 17:52:28,212 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 17:52:28,213 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 17:52:39,766 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 17:52:39,768 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 17:52:39,768 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 17:52:39,769 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 17:52:39,805 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 17:52:39,808 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 17:52:39,809 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 17:52:41,873 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 17:52:42,112 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 17:52:42,113 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 17:52:50,073 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 17:52:50,073 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 17:52:50,123 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 17:52:50,125 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 17:52:50,131 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 17:52:50,158 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 17:52:50,188 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 17:52:50,461 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 17:52:50,831 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 17:52:51,078 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 17:52:51,085 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 17:52:51,087 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 17:52:51,089 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 17:52:51,092 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 17:52:51,092 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 17:52:51,092 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 17:52:51,221 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 17:52:51,295 - config - INFO - 소유 관계 정보 총 0건 추출
2025-04-21 17:52:51,404 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 17:52:51,404 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 17:52:51,440 - config - WARNING - 005930: 임베딩할 추출 데이터 없음.
2025-04-21 17:52:51,440 - config - WARNING - 005930: 업로드할 추출 데이터 없음.
2025-04-21 17:52:51,441 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 17:52:52,448 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 17:52:52,706 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 17:52:52,993 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 17:52:53,229 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 17:52:53,236 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 17:52:53,237 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 17:52:53,238 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 17:52:53,242 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 17:52:53,243 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 17:52:53,243 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 17:52:53,346 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 17:52:53,408 - config - INFO - 소유 관계 정보 총 0건 추출
2025-04-21 17:52:53,499 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 17:52:53,500 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 17:52:53,529 - config - WARNING - 000660: 임베딩할 추출 데이터 없음.
2025-04-21 17:52:53,530 - config - WARNING - 000660: 업로드할 추출 데이터 없음.
2025-04-21 17:52:53,530 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 17:52:54,538 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 17:52:54,811 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 17:52:55,106 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 17:52:55,465 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 17:52:55,488 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 17:52:55,491 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 17:52:55,493 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 17:52:55,502 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 17:52:55,502 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 17:52:55,503 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 17:52:55,780 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 17:52:55,904 - config - INFO - 소유 관계 정보 총 0건 추출
2025-04-21 17:52:56,089 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 17:52:56,089 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 17:52:56,159 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 17:52:56,160 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 17:52:56,160 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 17:52:57,170 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 17:52:57,445 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 17:52:57,764 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 17:52:58,075 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 17:52:58,086 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 17:52:58,087 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 17:52:58,088 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 17:52:58,093 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 17:52:58,094 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 17:52:58,095 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 17:52:58,265 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 17:52:58,349 - config - INFO - 소유 관계 정보 총 0건 추출
2025-04-21 17:52:58,472 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 17:52:58,472 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 17:52:58,519 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 17:52:58,519 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 17:52:58,520 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 17:52:59,528 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 17:52:59,798 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 17:53:00,115 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 17:53:00,402 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 17:53:00,416 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 17:53:00,419 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 17:53:00,420 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 17:53:00,423 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 17:53:00,424 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 17:53:00,424 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 17:53:00,632 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 17:53:00,738 - config - INFO - 소유 관계 정보 총 0건 추출
2025-04-21 17:53:00,895 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 17:53:00,896 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 17:53:00,954 - config - WARNING - 012450: 임베딩할 추출 데이터 없음.
2025-04-21 17:53:00,956 - config - WARNING - 012450: 업로드할 추출 데이터 없음.
2025-04-21 17:53:00,957 - config - INFO - --- DART 처리 완료: 012450 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 17:53:01,966 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 10) =====
2025-04-21 17:53:01,971 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '005930', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '000660', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '012450', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 18:00:06,115 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 18:00:06,121 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 18:00:06,167 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 18:00:06,239 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 18:00:06,239 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 18:00:07,312 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 18:00:07,313 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 18:00:07,314 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:00:07,315 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:00:07,316 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:00:07,316 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:00:07,316 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:00:07,317 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:00:07,317 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:00:07,317 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:00:07,317 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:00:07,318 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:00:07,318 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:00:07,318 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:00:07,318 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:00:07,319 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:00:07,321 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '05b25f6c-1e8f-11f0-814c-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:00:08,070 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '05b25f6c-1e8f-11f0-814c-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:00:07 GMT'
2025-04-21 18:00:08,075 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 18:00:08,078 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 18:00:08,872 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 18:00:08,873 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 18:00:08,874 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 18:00:08,874 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 18:00:08,970 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 18:00:08,972 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 18:00:08,973 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 18:00:11,053 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 18:00:11,283 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 18:00:11,284 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 18:00:19,075 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 18:00:19,075 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 18:00:19,124 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 18:00:19,126 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 18:00:19,131 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 18:00:19,171 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 18:00:19,196 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 18:00:19,614 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 18:00:20,030 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 18:00:20,320 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 18:00:20,337 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 18:00:20,339 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 18:00:20,341 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:00:20,345 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:00:20,346 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:00:20,346 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 18:00:20,480 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:00:20,515 - config - WARNING - 패턴 [['연결대상', '종속회사']] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:20,548 - config - WARNING - 패턴 [['계열회사']] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:20,549 - config - INFO - 소유 관계 정보 총 0건 추출
2025-04-21 18:00:20,582 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:20,615 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:20,647 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:20,648 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:00:20,648 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:00:20,682 - config - WARNING - 005930: 임베딩할 추출 데이터 없음.
2025-04-21 18:00:20,682 - config - WARNING - 005930: 업로드할 추출 데이터 없음.
2025-04-21 18:00:20,683 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:00:21,691 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 18:00:22,333 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 18:00:22,686 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 18:00:22,962 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 18:00:22,976 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 18:00:22,978 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 18:00:22,979 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:00:22,983 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:00:22,983 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:00:22,985 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 18:00:23,111 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:00:23,139 - config - WARNING - 패턴 [['연결대상', '종속회사']] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:23,165 - config - WARNING - 패턴 [['계열회사']] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:23,165 - config - INFO - 소유 관계 정보 총 0건 추출
2025-04-21 18:00:23,193 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:23,219 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:23,245 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:23,245 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:00:23,246 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:00:23,272 - config - WARNING - 000660: 임베딩할 추출 데이터 없음.
2025-04-21 18:00:23,273 - config - WARNING - 000660: 업로드할 추출 데이터 없음.
2025-04-21 18:00:23,274 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:00:24,280 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 18:00:24,675 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 18:00:24,949 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 18:00:25,234 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 18:00:25,252 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 18:00:25,254 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 18:00:25,255 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:00:25,263 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:00:25,263 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:00:25,264 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 18:00:25,522 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:00:25,584 - config - WARNING - 패턴 [['연결대상', '종속회사']] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:25,645 - config - WARNING - 패턴 [['계열회사']] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:25,646 - config - INFO - 소유 관계 정보 총 0건 추출
2025-04-21 18:00:25,708 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:25,772 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:25,834 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:25,834 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:00:25,835 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:00:25,901 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 18:00:25,902 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 18:00:25,902 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:00:26,910 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 18:00:27,209 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 18:00:27,508 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 18:00:27,808 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 18:00:27,822 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 18:00:27,824 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 18:00:27,826 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:00:27,832 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:00:27,833 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:00:27,834 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 18:00:28,004 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:00:28,047 - config - WARNING - 패턴 [['연결대상', '종속회사']] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:28,089 - config - WARNING - 패턴 [['계열회사']] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:28,089 - config - INFO - 소유 관계 정보 총 0건 추출
2025-04-21 18:00:28,131 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:28,173 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:28,214 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:28,215 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:00:28,215 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:00:28,261 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 18:00:28,261 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 18:00:28,262 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:00:29,269 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 18:00:29,536 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 18:00:29,881 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 18:00:30,166 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 18:00:30,177 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 18:00:30,179 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 18:00:30,181 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:00:30,184 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:00:30,185 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:00:30,185 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 18:00:30,395 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:00:30,450 - config - WARNING - 패턴 [['연결대상', '종속회사']] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:30,523 - config - WARNING - 패턴 [['계열회사']] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:30,523 - config - INFO - 소유 관계 정보 총 0건 추출
2025-04-21 18:00:30,577 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:30,630 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:30,685 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:00:30,685 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:00:30,686 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:00:30,741 - config - WARNING - 012450: 임베딩할 추출 데이터 없음.
2025-04-21 18:00:30,741 - config - WARNING - 012450: 업로드할 추출 데이터 없음.
2025-04-21 18:00:30,742 - config - INFO - --- DART 처리 완료: 012450 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:00:31,751 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 10) =====
2025-04-21 18:00:31,753 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '005930', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '000660', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '012450', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 18:05:38,156 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 18:05:38,179 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 18:05:38,254 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 18:05:38,297 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 18:05:38,298 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 18:05:38,303 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 18:05:38,304 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 18:05:38,305 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:05:38,306 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:05:38,306 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:05:38,306 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:05:38,306 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:05:38,307 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:05:38,307 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:05:38,307 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:05:38,308 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:05:38,308 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:05:38,308 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:05:38,309 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:05:38,309 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:05:38,309 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:05:38,311 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'cafb5436-1e8f-11f0-9bae-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:05:39,040 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'cafb5436-1e8f-11f0-9bae-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:05:38 GMT'
2025-04-21 18:05:39,041 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 18:05:39,043 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 18:05:39,272 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 18:05:39,273 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 18:05:39,274 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 18:05:39,274 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 18:05:39,386 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 18:05:39,389 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 18:05:39,390 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 18:05:40,728 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 18:05:40,987 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 18:05:40,988 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 18:05:47,766 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 18:05:47,768 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 18:05:47,819 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 18:05:47,821 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 18:05:47,826 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 18:05:47,863 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 18:05:47,896 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 18:05:48,188 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 18:05:48,554 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 18:05:48,814 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 18:05:48,830 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 18:05:48,832 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 18:05:48,834 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:05:48,839 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:05:48,839 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:05:48,840 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 18:05:48,969 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:05:49,003 - config - INFO - 매칭 성공: 패턴 '연결대상\s*종속회사' ↔ 제목 '연결대상 종속회사 현황'
2025-04-21 18:05:49,036 - config - INFO - 매칭 성공: 패턴 '계열회사' ↔ 제목 'IX. 계열회사 등에 관한 사항'
2025-04-21 18:05:49,037 - config - INFO - 총 0건 소유관계 정보 추출
2025-04-21 18:05:49,070 - config - WARNING - 패턴 ['3\\.\\s*원재료']과 일치하는 TITLE을 찾지 못했습니다.
2025-04-21 18:05:49,101 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황']과 일치하는 TITLE을 찾지 못했습니다.
2025-04-21 18:05:49,135 - config - WARNING - 패턴 ['6\\.\\s*주요계약']과 일치하는 TITLE을 찾지 못했습니다.
2025-04-21 18:05:49,136 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:05:49,136 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:05:49,169 - config - WARNING - 005930: 임베딩할 추출 데이터 없음.
2025-04-21 18:05:49,170 - config - WARNING - 005930: 업로드할 추출 데이터 없음.
2025-04-21 18:05:49,170 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:05:50,177 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 18:05:50,431 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 18:05:50,739 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 18:05:50,988 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 18:05:51,000 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 18:05:51,002 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 18:05:51,004 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:05:51,007 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:05:51,008 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:05:51,009 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 18:05:51,115 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:05:51,143 - config - INFO - 매칭 성공: 패턴 '연결대상\s*종속회사' ↔ 제목 '연결대상 종속회사 현황'
2025-04-21 18:05:51,169 - config - INFO - 매칭 성공: 패턴 '계열회사' ↔ 제목 'IX. 계열회사 등에 관한 사항'
2025-04-21 18:05:51,170 - config - INFO - 총 0건 소유관계 정보 추출
2025-04-21 18:05:51,197 - config - WARNING - 패턴 ['3\\.\\s*원재료']과 일치하는 TITLE을 찾지 못했습니다.
2025-04-21 18:05:51,224 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황']과 일치하는 TITLE을 찾지 못했습니다.
2025-04-21 18:05:51,251 - config - WARNING - 패턴 ['6\\.\\s*주요계약']과 일치하는 TITLE을 찾지 못했습니다.
2025-04-21 18:05:51,251 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:05:51,252 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:05:51,279 - config - WARNING - 000660: 임베딩할 추출 데이터 없음.
2025-04-21 18:05:51,280 - config - WARNING - 000660: 업로드할 추출 데이터 없음.
2025-04-21 18:05:51,280 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:05:52,289 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 18:05:52,561 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 18:05:52,859 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 18:05:53,171 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 18:05:53,202 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 18:05:53,206 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 18:05:53,207 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:05:53,218 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:05:53,219 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:05:53,219 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 18:05:53,461 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:05:53,522 - config - INFO - 매칭 성공: 패턴 '연결대상\s*종속회사' ↔ 제목 '연결대상 종속회사 현황'
2025-04-21 18:05:53,586 - config - INFO - 매칭 성공: 패턴 '계열회사' ↔ 제목 'IX. 계열회사 등에 관한 사항'
2025-04-21 18:05:53,586 - config - INFO - 총 0건 소유관계 정보 추출
2025-04-21 18:05:53,649 - config - WARNING - 패턴 ['3\\.\\s*원재료']과 일치하는 TITLE을 찾지 못했습니다.
2025-04-21 18:05:53,710 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황']과 일치하는 TITLE을 찾지 못했습니다.
2025-04-21 18:05:53,773 - config - WARNING - 패턴 ['6\\.\\s*주요계약']과 일치하는 TITLE을 찾지 못했습니다.
2025-04-21 18:05:53,774 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:05:53,774 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:05:53,842 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 18:05:53,842 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 18:05:53,843 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:05:54,853 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 18:05:55,133 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 18:05:55,460 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 18:05:55,863 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 18:05:55,884 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 18:05:55,887 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 18:05:55,888 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:05:55,896 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:05:55,896 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:05:55,897 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 18:05:56,066 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:05:56,109 - config - INFO - 매칭 성공: 패턴 '연결대상\s*종속회사' ↔ 제목 '연결대상 종속회사 현황'
2025-04-21 18:05:56,150 - config - INFO - 매칭 성공: 패턴 '계열회사' ↔ 제목 'IX. 계열회사 등에 관한 사항'
2025-04-21 18:05:56,151 - config - INFO - 총 0건 소유관계 정보 추출
2025-04-21 18:05:56,193 - config - WARNING - 패턴 ['3\\.\\s*원재료']과 일치하는 TITLE을 찾지 못했습니다.
2025-04-21 18:05:56,234 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황']과 일치하는 TITLE을 찾지 못했습니다.
2025-04-21 18:05:56,276 - config - WARNING - 패턴 ['6\\.\\s*주요계약']과 일치하는 TITLE을 찾지 못했습니다.
2025-04-21 18:05:56,276 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:05:56,276 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:05:56,322 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 18:05:56,323 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 18:05:56,323 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:05:57,331 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 18:05:57,606 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 18:05:57,911 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 18:05:58,230 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 18:05:58,254 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 18:05:58,258 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 18:05:58,260 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:05:58,263 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:05:58,264 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:05:58,265 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 18:05:58,467 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:05:58,522 - config - INFO - 매칭 성공: 패턴 '연결대상\s*종속회사' ↔ 제목 '연결대상 종속회사 현황'
2025-04-21 18:05:58,573 - config - INFO - 매칭 성공: 패턴 '계열회사' ↔ 제목 'IX. 계열회사 등에 관한 사항'
2025-04-21 18:05:58,577 - config - INFO - 총 0건 소유관계 정보 추출
2025-04-21 18:05:58,628 - config - WARNING - 패턴 ['3\\.\\s*원재료']과 일치하는 TITLE을 찾지 못했습니다.
2025-04-21 18:05:58,681 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황']과 일치하는 TITLE을 찾지 못했습니다.
2025-04-21 18:05:58,734 - config - WARNING - 패턴 ['6\\.\\s*주요계약']과 일치하는 TITLE을 찾지 못했습니다.
2025-04-21 18:05:58,735 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:05:58,735 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:05:58,790 - config - WARNING - 012450: 임베딩할 추출 데이터 없음.
2025-04-21 18:05:58,790 - config - WARNING - 012450: 업로드할 추출 데이터 없음.
2025-04-21 18:05:58,791 - config - INFO - --- DART 처리 완료: 012450 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:05:59,800 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 10) =====
2025-04-21 18:05:59,803 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '005930', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '000660', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '012450', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 18:12:24,365 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 18:12:24,372 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 18:12:24,421 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 18:12:24,523 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 18:12:24,524 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 18:12:24,529 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 18:12:24,530 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 18:12:24,531 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:12:24,531 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:12:24,532 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:12:24,532 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:12:24,532 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:12:24,533 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:12:24,533 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:12:24,533 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:12:24,534 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:12:24,534 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:12:24,534 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:12:24,535 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:12:24,536 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:12:24,536 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:12:24,538 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'bd1cad00-1e90-11f0-8197-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:12:25,260 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'bd1cad00-1e90-11f0-8197-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:12:25 GMT'
2025-04-21 18:12:25,263 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 18:12:25,264 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 18:12:25,550 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 18:12:25,551 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 18:12:25,551 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 18:12:25,551 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 18:12:25,650 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 18:12:25,652 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 18:12:25,653 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 18:12:27,573 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 18:12:27,816 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 18:12:27,817 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 18:12:34,917 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 18:12:34,918 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 18:12:34,971 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 18:12:34,972 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 18:12:34,978 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 18:12:35,005 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 18:12:35,031 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 18:12:35,331 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 18:12:35,812 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 18:12:36,104 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 18:12:36,116 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 18:12:36,118 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 18:12:36,120 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:12:36,124 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:12:36,125 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:12:36,126 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 18:12:36,267 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:12:36,314 - config - INFO - <title> 태그 총 125개 확인
2025-04-21 18:12:36,320 - config - WARNING - 패턴 ['1\\.\\s*연결대상\\s*종속회사\\s*현황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:12:36,358 - config - INFO - <title> 태그 총 125개 확인
2025-04-21 18:12:36,363 - config - WARNING - 패턴 ['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:12:36,363 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:12:36,398 - config - INFO - <title> 태그 총 125개 확인
2025-04-21 18:12:36,402 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:12:36,435 - config - INFO - <title> 태그 총 125개 확인
2025-04-21 18:12:36,439 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:12:36,472 - config - INFO - <title> 태그 총 125개 확인
2025-04-21 18:12:36,476 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:12:36,477 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:12:36,477 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:12:36,512 - config - WARNING - 005930: 임베딩할 추출 데이터 없음.
2025-04-21 18:12:36,513 - config - WARNING - 005930: 업로드할 추출 데이터 없음.
2025-04-21 18:12:36,513 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:12:37,523 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 18:12:37,877 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 18:12:38,448 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 18:12:38,910 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 18:12:38,918 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 18:12:38,921 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 18:12:38,924 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:12:38,931 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:12:38,932 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:12:38,937 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 18:12:39,137 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:12:39,165 - config - INFO - <title> 태그 총 131개 확인
2025-04-21 18:12:39,171 - config - WARNING - 패턴 ['1\\.\\s*연결대상\\s*종속회사\\s*현황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:12:39,197 - config - INFO - <title> 태그 총 131개 확인
2025-04-21 18:12:39,203 - config - WARNING - 패턴 ['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:12:39,204 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:12:39,231 - config - INFO - <title> 태그 총 131개 확인
2025-04-21 18:12:39,234 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:12:39,261 - config - INFO - <title> 태그 총 131개 확인
2025-04-21 18:12:39,265 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:12:39,292 - config - INFO - <title> 태그 총 131개 확인
2025-04-21 18:12:39,296 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:12:39,296 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:12:39,297 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:12:39,324 - config - WARNING - 000660: 임베딩할 추출 데이터 없음.
2025-04-21 18:12:39,325 - config - WARNING - 000660: 업로드할 추출 데이터 없음.
2025-04-21 18:12:39,325 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:15:43,330 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 18:15:43,337 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 18:15:43,382 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 18:15:43,450 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 18:15:43,450 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 18:15:43,456 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 18:15:43,456 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 18:15:43,457 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:15:43,458 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:15:43,458 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:15:43,458 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:15:43,459 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:15:43,459 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:15:43,459 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:15:43,459 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:15:43,460 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:15:43,460 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:15:43,460 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:15:43,461 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:15:43,461 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:15:43,461 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:15:43,463 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '33ae39e8-1e91-11f0-b792-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:15:44,175 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '33ae39e8-1e91-11f0-b792-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:15:44 GMT'
2025-04-21 18:15:44,177 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 18:15:44,178 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 18:15:44,381 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 18:15:44,382 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 18:15:44,382 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 18:15:44,383 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 18:15:44,471 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 18:15:44,472 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 18:15:44,473 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 18:15:45,234 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 18:15:45,448 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 18:15:45,449 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 18:15:52,340 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 18:15:52,341 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 18:15:52,392 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 18:15:52,394 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 18:15:52,400 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 18:15:52,430 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 18:15:52,459 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 18:15:52,731 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 18:15:53,114 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 18:15:53,364 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 18:15:53,401 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 18:15:53,405 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 18:15:53,406 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:15:53,414 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:15:53,415 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:15:53,415 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 18:15:53,541 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:15:53,580 - config - INFO - 정규식(원본) 매칭: '1\.\s*연결대상\s*종속회사\s*현황' ↔ '1. 연결대상 종속회사 현황(상세)'
2025-04-21 18:15:53,580 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함. (fallback 로직 실행)
2025-04-21 18:15:53,581 - config - ERROR - fallback 로직에도 종속회사 테이블을 찾지 못함.
2025-04-21 18:15:53,619 - config - INFO - 정규식(원본) 매칭: 'IX\.\s*계열회사' ↔ 'IX. 계열회사 등에 관한 사항'
2025-04-21 18:15:53,619 - config - WARNING - 계열회사 제목 다음 테이블을 찾지 못함. (fallback 로직 실행)
2025-04-21 18:15:53,620 - config - ERROR - fallback 로직에도 계열회사 테이블을 찾지 못함.
2025-04-21 18:15:53,621 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:15:53,656 - config - INFO - 정규식(원본) 매칭: '3\.\s*원재료' ↔ '3. 원재료 및 생산설비'
2025-04-21 18:15:53,656 - config - ERROR - XML 데이터 추출 메인 함수 오류 (DART_분기보고서 (2024.09)_2024_005930_20241114002642): name '_parse_xml_table' is not defined
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 540, in extract_targeted_data_from_xml
    supply_data = parse_supply_info(root, source_info, name_to_code, kospi100_names)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 455, in parse_supply_info
    parsed_table = _parse_xml_table(table)
                   ^^^^^^^^^^^^^^^^
NameError: name '_parse_xml_table' is not defined
2025-04-21 18:15:53,695 - config - WARNING - 005930: 임베딩할 추출 데이터 없음.
2025-04-21 18:15:53,695 - config - WARNING - 005930: 업로드할 추출 데이터 없음.
2025-04-21 18:15:53,696 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:15:54,703 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 18:15:54,966 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 18:15:55,266 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 18:15:55,505 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 18:15:55,510 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 18:15:55,511 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 18:15:55,512 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:15:55,514 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:15:55,515 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:15:55,515 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 18:15:55,612 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:15:55,646 - config - INFO - 정규식(원본) 매칭: '1\.\s*연결대상\s*종속회사\s*현황' ↔ '1. 연결대상 종속회사 현황(상세)'
2025-04-21 18:15:55,647 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함. (fallback 로직 실행)
2025-04-21 18:15:55,647 - config - ERROR - fallback 로직에도 종속회사 테이블을 찾지 못함.
2025-04-21 18:15:55,681 - config - INFO - 정규식(원본) 매칭: 'IX\.\s*계열회사' ↔ 'IX. 계열회사 등에 관한 사항'
2025-04-21 18:15:55,682 - config - WARNING - 계열회사 제목 다음 테이블을 찾지 못함. (fallback 로직 실행)
2025-04-21 18:15:55,682 - config - ERROR - fallback 로직에도 계열회사 테이블을 찾지 못함.
2025-04-21 18:15:55,683 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:15:55,715 - config - INFO - 정규식(원본) 매칭: '3\.\s*원재료' ↔ '3. 원재료 및 생산설비'
2025-04-21 18:15:55,716 - config - ERROR - XML 데이터 추출 메인 함수 오류 (DART_분기보고서 (2024.09)_2024_000660_20241114001712): name '_parse_xml_table' is not defined
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 540, in extract_targeted_data_from_xml
    supply_data = parse_supply_info(root, source_info, name_to_code, kospi100_names)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 455, in parse_supply_info
    parsed_table = _parse_xml_table(table)
                   ^^^^^^^^^^^^^^^^
NameError: name '_parse_xml_table' is not defined
2025-04-21 18:15:55,750 - config - WARNING - 000660: 임베딩할 추출 데이터 없음.
2025-04-21 18:15:55,750 - config - WARNING - 000660: 업로드할 추출 데이터 없음.
2025-04-21 18:15:55,751 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:15:56,757 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 18:15:57,017 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 18:15:57,290 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 18:15:57,641 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 18:15:57,661 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 18:15:57,664 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 18:15:57,665 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:15:57,674 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:15:57,675 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:15:57,676 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 18:15:57,925 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:15:57,992 - config - INFO - 정규식(원본) 매칭: '1\.\s*연결대상\s*종속회사\s*현황' ↔ '1. 연결대상 종속회사 현황(상세)'
2025-04-21 18:15:57,993 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함. (fallback 로직 실행)
2025-04-21 18:15:57,993 - config - ERROR - fallback 로직에도 종속회사 테이블을 찾지 못함.
2025-04-21 18:15:58,061 - config - INFO - 정규식(원본) 매칭: 'IX\.\s*계열회사' ↔ 'IX. 계열회사 등에 관한 사항'
2025-04-21 18:15:58,061 - config - WARNING - 계열회사 제목 다음 테이블을 찾지 못함. (fallback 로직 실행)
2025-04-21 18:15:58,061 - config - ERROR - fallback 로직에도 계열회사 테이블을 찾지 못함.
2025-04-21 18:15:58,062 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:15:58,148 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:15:58,215 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:15:58,282 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 와 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:15:58,282 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:15:58,283 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:15:58,351 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 18:15:58,352 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 18:15:58,352 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:15:59,360 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 18:15:59,638 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 18:15:59,949 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 18:16:00,301 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 18:16:00,314 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 18:16:00,317 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 18:16:00,319 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:16:00,325 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:16:00,326 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:16:00,327 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 18:16:00,499 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:16:00,547 - config - INFO - 정규식(원본) 매칭: '1\.\s*연결대상\s*종속회사\s*현황' ↔ '1. 연결대상 종속회사 현황(상세)'
2025-04-21 18:16:00,548 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함. (fallback 로직 실행)
2025-04-21 18:16:00,548 - config - ERROR - fallback 로직에도 종속회사 테이블을 찾지 못함.
2025-04-21 18:16:00,595 - config - INFO - 정규식(원본) 매칭: 'IX\.\s*계열회사' ↔ 'IX. 계열회사 등에 관한 사항'
2025-04-21 18:16:00,595 - config - WARNING - 계열회사 제목 다음 테이블을 찾지 못함. (fallback 로직 실행)
2025-04-21 18:16:00,596 - config - ERROR - fallback 로직에도 계열회사 테이블을 찾지 못함.
2025-04-21 18:16:00,596 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:16:00,640 - config - INFO - 한글 키워드 매칭: ['원재료'] 모두 '원재료 및 생산설비' 에 포함됨
2025-04-21 18:16:00,640 - config - ERROR - XML 데이터 추출 메인 함수 오류 (DART_분기보고서 (2024.09)_2024_005380_20241114002593): name '_parse_xml_table' is not defined
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 540, in extract_targeted_data_from_xml
    supply_data = parse_supply_info(root, source_info, name_to_code, kospi100_names)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 455, in parse_supply_info
    parsed_table = _parse_xml_table(table)
                   ^^^^^^^^^^^^^^^^
NameError: name '_parse_xml_table' is not defined
2025-04-21 18:16:00,688 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 18:16:00,689 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 18:16:00,689 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:16:01,697 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 18:16:01,982 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 18:16:02,290 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 18:16:05,115 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 18:16:05,134 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 18:16:05,136 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 18:16:05,137 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:16:05,140 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:16:05,141 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:16:05,141 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 18:16:05,344 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:16:05,404 - config - INFO - 정규식(원본) 매칭: '1\.\s*연결대상\s*종속회사\s*현황' ↔ '1. 연결대상 종속회사 현황(상세)'
2025-04-21 18:16:05,404 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함. (fallback 로직 실행)
2025-04-21 18:16:05,405 - config - ERROR - fallback 로직에도 종속회사 테이블을 찾지 못함.
2025-04-21 18:16:05,463 - config - INFO - 정규식(원본) 매칭: 'IX\.\s*계열회사' ↔ 'IX. 계열회사 등에 관한 사항'
2025-04-21 18:16:05,464 - config - ERROR - XML 데이터 추출 메인 함수 오류 (DART_분기보고서 (2024.09)_2024_012450_20241113000565): name '_parse_xml_table' is not defined
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 538, in extract_targeted_data_from_xml
    ownership_data = parse_ownership_info(root, source_info, name_to_code)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 410, in parse_ownership_info
    parsed_table = _parse_xml_table(table)
                   ^^^^^^^^^^^^^^^^
NameError: name '_parse_xml_table' is not defined
2025-04-21 18:16:05,523 - config - WARNING - 012450: 임베딩할 추출 데이터 없음.
2025-04-21 18:16:05,523 - config - WARNING - 012450: 업로드할 추출 데이터 없음.
2025-04-21 18:16:05,524 - config - INFO - --- DART 처리 완료: 012450 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:16:06,533 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 10) =====
2025-04-21 18:16:06,536 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '005930', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '000660', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '012450', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 18:17:01,695 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 18:17:01,701 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 18:17:01,768 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 18:17:01,850 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 18:17:01,850 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 18:17:01,856 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 18:17:01,857 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 18:17:01,857 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:17:01,858 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:17:01,858 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:17:01,859 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:17:01,859 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:17:01,859 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:17:01,860 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:17:01,860 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:17:01,860 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:17:01,860 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:17:01,861 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:17:01,861 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:17:01,861 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:17:01,862 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:17:01,863 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '62692fea-1e91-11f0-b655-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:17:02,594 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '62692fea-1e91-11f0-b655-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:17:02 GMT'
2025-04-21 18:17:02,596 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 18:17:02,597 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 18:17:02,822 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 18:17:02,823 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 18:17:02,823 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 18:17:02,823 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 18:17:02,939 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 18:17:02,940 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 18:17:02,941 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 18:17:04,050 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 18:17:04,286 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 18:17:04,287 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 18:17:20,074 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 18:17:20,075 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 18:17:20,125 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 18:17:20,127 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 18:17:20,132 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 18:17:20,156 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 18:17:20,181 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 18:17:20,467 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 18:17:20,835 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 18:17:21,131 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 18:17:21,142 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 18:17:21,144 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 18:17:21,146 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:17:21,150 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:17:21,151 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:17:21,151 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 18:17:21,286 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:17:21,330 - config - INFO - <title> 태그 총 125개 확인
2025-04-21 18:17:21,335 - config - WARNING - 패턴 ['1\\.\\s*연결대상\\s*종속회사\\s*현황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:21,379 - config - INFO - <title> 태그 총 125개 확인
2025-04-21 18:17:21,384 - config - WARNING - 패턴 ['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:21,384 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:17:21,425 - config - INFO - <title> 태그 총 125개 확인
2025-04-21 18:17:21,429 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:21,467 - config - INFO - <title> 태그 총 125개 확인
2025-04-21 18:17:21,472 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:21,509 - config - INFO - <title> 태그 총 125개 확인
2025-04-21 18:17:21,513 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:21,513 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:17:21,513 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:17:21,548 - config - WARNING - 005930: 임베딩할 추출 데이터 없음.
2025-04-21 18:17:21,549 - config - WARNING - 005930: 업로드할 추출 데이터 없음.
2025-04-21 18:17:21,549 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:17:22,561 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 18:17:22,831 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 18:17:23,140 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 18:17:23,437 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 18:17:23,446 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 18:17:23,448 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 18:17:23,449 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:17:23,453 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:17:23,454 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:17:23,456 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 18:17:23,564 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:17:23,620 - config - INFO - <title> 태그 총 131개 확인
2025-04-21 18:17:23,628 - config - WARNING - 패턴 ['1\\.\\s*연결대상\\s*종속회사\\s*현황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:23,661 - config - INFO - <title> 태그 총 131개 확인
2025-04-21 18:17:23,667 - config - WARNING - 패턴 ['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:23,667 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:17:23,698 - config - INFO - <title> 태그 총 131개 확인
2025-04-21 18:17:23,702 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:23,731 - config - INFO - <title> 태그 총 131개 확인
2025-04-21 18:17:23,735 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:23,764 - config - INFO - <title> 태그 총 131개 확인
2025-04-21 18:17:23,768 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:23,769 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:17:23,769 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:17:23,796 - config - WARNING - 000660: 임베딩할 추출 데이터 없음.
2025-04-21 18:17:23,797 - config - WARNING - 000660: 업로드할 추출 데이터 없음.
2025-04-21 18:17:23,797 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:17:24,806 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 18:17:25,081 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 18:17:25,371 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 18:17:25,877 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 18:17:25,901 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 18:17:25,904 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 18:17:25,905 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:17:25,914 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:17:25,915 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:17:25,915 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 18:17:26,161 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:17:26,231 - config - INFO - <title> 태그 총 73개 확인
2025-04-21 18:17:26,233 - config - WARNING - 패턴 ['1\\.\\s*연결대상\\s*종속회사\\s*현황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:26,299 - config - INFO - <title> 태그 총 73개 확인
2025-04-21 18:17:26,303 - config - WARNING - 패턴 ['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:26,303 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:17:26,371 - config - INFO - <title> 태그 총 73개 확인
2025-04-21 18:17:26,374 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:26,443 - config - INFO - <title> 태그 총 73개 확인
2025-04-21 18:17:26,446 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:26,514 - config - INFO - <title> 태그 총 73개 확인
2025-04-21 18:17:26,517 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:26,517 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:17:26,517 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:17:26,590 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 18:17:26,590 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 18:17:26,591 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:17:27,599 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 18:17:27,883 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 18:17:28,175 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 18:17:28,441 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 18:17:28,448 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 18:17:28,450 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 18:17:28,450 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:17:28,455 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:17:28,456 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:17:28,456 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 18:17:28,635 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:17:28,685 - config - INFO - <title> 태그 총 151개 확인
2025-04-21 18:17:28,690 - config - WARNING - 패턴 ['1\\.\\s*연결대상\\s*종속회사\\s*현황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:28,735 - config - INFO - <title> 태그 총 151개 확인
2025-04-21 18:17:28,741 - config - WARNING - 패턴 ['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:28,742 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:17:28,816 - config - INFO - <title> 태그 총 151개 확인
2025-04-21 18:17:28,821 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:28,867 - config - INFO - <title> 태그 총 151개 확인
2025-04-21 18:17:28,873 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:28,920 - config - INFO - <title> 태그 총 151개 확인
2025-04-21 18:17:28,925 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:28,925 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:17:28,926 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:17:28,973 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 18:17:28,974 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 18:17:28,974 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:17:29,983 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 18:17:30,253 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 18:17:32,724 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 18:17:33,023 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 18:17:33,035 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 18:17:33,038 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 18:17:33,040 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:17:33,042 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:17:33,043 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:17:33,043 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 18:17:33,245 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:17:33,311 - config - INFO - <title> 태그 총 146개 확인
2025-04-21 18:17:33,317 - config - WARNING - 패턴 ['1\\.\\s*연결대상\\s*종속회사\\s*현황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:33,377 - config - INFO - <title> 태그 총 146개 확인
2025-04-21 18:17:33,383 - config - WARNING - 패턴 ['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:33,383 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:17:33,442 - config - INFO - <title> 태그 총 146개 확인
2025-04-21 18:17:33,446 - config - WARNING - 패턴 ['3\\.\\s*원재료'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:33,505 - config - INFO - <title> 태그 총 146개 확인
2025-04-21 18:17:33,510 - config - WARNING - 패턴 ['4\\.\\s*매출\\s*및\\s*수주\\s*상황'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:33,568 - config - INFO - <title> 태그 총 146개 확인
2025-04-21 18:17:33,573 - config - WARNING - 패턴 ['6\\.\\s*주요계약'] 에 매칭되는 <title>을 찾지 못했습니다.
2025-04-21 18:17:33,573 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:17:33,573 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:17:33,629 - config - WARNING - 012450: 임베딩할 추출 데이터 없음.
2025-04-21 18:17:33,629 - config - WARNING - 012450: 업로드할 추출 데이터 없음.
2025-04-21 18:17:33,630 - config - INFO - --- DART 처리 완료: 012450 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:17:34,638 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 10) =====
2025-04-21 18:17:34,639 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '005930', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '000660', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '012450', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 18:20:18,053 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 18:20:18,059 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 18:20:18,104 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 18:20:18,183 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 18:20:18,183 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 18:20:18,188 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 18:20:18,189 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 18:20:18,190 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:20:18,190 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:20:18,191 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:20:18,191 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:20:18,191 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:20:18,191 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:20:18,192 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:20:18,192 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:20:18,192 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:20:18,193 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:20:18,194 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:20:18,199 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:20:18,201 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:20:18,201 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:20:18,222 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'd7732732-1e91-11f0-b3d3-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:20:18,939 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd7732732-1e91-11f0-b3d3-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:20:18 GMT'
2025-04-21 18:20:18,941 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 18:20:18,942 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 18:20:19,182 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 18:20:19,184 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 18:20:19,184 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 18:20:19,184 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 18:20:19,283 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 18:20:19,285 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 18:20:19,286 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 18:20:20,381 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 18:20:20,611 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 18:20:20,612 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 18:20:31,481 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 18:20:31,483 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 18:20:31,550 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 18:20:31,555 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 18:20:31,560 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 18:20:31,586 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 18:20:31,614 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 18:20:31,900 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 18:20:32,288 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 18:20:32,545 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 18:20:32,563 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 18:20:32,565 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 18:20:32,566 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:20:32,570 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:20:32,571 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:20:32,572 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 18:20:32,577 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 18:20:32,636 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 18:20:32,677 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:32,677 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:32,734 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:32,735 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:32,735 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:20:32,769 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:32,769 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:32,801 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:32,802 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:32,835 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:32,835 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:32,835 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:20:32,836 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:20:32,859 - config - WARNING - 005930: 임베딩할 추출 데이터 없음.
2025-04-21 18:20:32,860 - config - WARNING - 005930: 업로드할 추출 데이터 없음.
2025-04-21 18:20:32,860 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:20:33,868 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 18:20:34,125 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 18:20:34,422 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 18:20:34,668 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 18:20:34,682 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 18:20:34,684 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 18:20:34,686 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:20:34,690 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:20:34,692 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:20:34,692 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 18:20:34,696 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 18:20:34,742 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 18:20:34,775 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:34,776 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:34,804 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:34,805 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:34,805 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:20:34,837 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:34,838 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:34,867 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:34,868 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:34,898 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:34,898 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:34,899 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:20:34,899 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:20:34,938 - config - WARNING - 000660: 임베딩할 추출 데이터 없음.
2025-04-21 18:20:34,939 - config - WARNING - 000660: 업로드할 추출 데이터 없음.
2025-04-21 18:20:34,940 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:20:35,949 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 18:20:36,212 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 18:20:36,485 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 18:20:36,819 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 18:20:36,843 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 18:20:36,845 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 18:20:36,847 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:20:36,856 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:20:36,856 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:20:36,857 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 18:20:36,865 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 18:20:36,964 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 18:20:37,042 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:37,043 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:37,104 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:37,104 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:37,105 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:20:37,165 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:37,166 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:37,225 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:37,226 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:37,286 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:37,286 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:37,287 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:20:37,287 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:20:37,330 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 18:20:37,331 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 18:20:37,331 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:20:38,339 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 18:20:38,614 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 18:20:38,889 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 18:20:39,127 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 18:20:39,142 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 18:20:39,144 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 18:20:39,145 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:20:39,150 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:20:39,151 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:20:39,151 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 18:20:39,157 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 18:20:39,225 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 18:20:39,271 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:39,272 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:39,315 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:39,316 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:39,316 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:20:39,358 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:39,358 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:39,399 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:39,400 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:39,442 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:39,442 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:39,443 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:20:39,443 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:20:39,472 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 18:20:39,473 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 18:20:39,473 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:20:40,482 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 18:20:40,798 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 18:20:41,124 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 18:20:41,484 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 18:20:41,499 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 18:20:41,502 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 18:20:41,504 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:20:41,508 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:20:41,508 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:20:41,509 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 18:20:41,516 - config - INFO - 파싱 시도 1: lxml XMLParser(recover=True) 사용...
2025-04-21 18:20:41,598 - config - INFO - XMLParser(recover=True) 성공. Root tag: <DOCUMENT>
2025-04-21 18:20:41,657 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:41,658 - config - WARNING - '['1\\.\\s*연결대상\\s*종속회사\\s*현황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:41,709 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:41,709 - config - WARNING - '['2\\.\\s*계열회사\\s*현황', 'IX\\.\\s*계열회사']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:41,710 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:20:41,765 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:41,766 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:41,818 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:41,818 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:41,871 - config - WARNING - XML에서 title 태그를 찾지 못했습니다 (local-name 사용).
2025-04-21 18:20:41,872 - config - WARNING - '['6\\.\\s*주요계약', '라이선스']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:20:41,872 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:20:41,872 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:20:41,907 - config - WARNING - 012450: 임베딩할 추출 데이터 없음.
2025-04-21 18:20:41,907 - config - WARNING - 012450: 업로드할 추출 데이터 없음.
2025-04-21 18:20:41,907 - config - INFO - --- DART 처리 완료: 012450 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:20:42,914 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 10) =====
2025-04-21 18:20:42,915 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '005930', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '000660', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '012450', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 18:21:57,707 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 18:21:57,718 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 18:21:57,785 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 18:21:57,880 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 18:21:57,880 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 18:21:57,916 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 18:21:57,917 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 18:21:57,917 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:21:57,918 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:21:57,918 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:21:57,919 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:21:57,919 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:21:57,919 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:21:57,920 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:21:57,923 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:21:57,925 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:21:57,925 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:21:57,926 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:21:57,926 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:21:57,926 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:21:57,927 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:21:57,929 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '12e12d8c-1e92-11f0-a590-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:21:58,676 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '12e12d8c-1e92-11f0-a590-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:21:58 GMT'
2025-04-21 18:21:58,679 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 18:21:58,680 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 18:21:58,977 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 18:21:58,978 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 18:21:58,978 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 18:21:58,979 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 18:21:59,080 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 18:21:59,082 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 18:21:59,083 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 18:21:59,845 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 18:22:00,084 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 18:22:00,084 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 18:22:07,127 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 18:22:07,128 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 18:22:07,178 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 18:22:07,179 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 18:22:07,184 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 18:25:40,219 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 18:25:40,236 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 18:25:40,316 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 18:25:40,360 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 18:25:40,361 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 18:25:40,366 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 18:25:40,367 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 18:25:40,368 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:25:40,369 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:25:40,369 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:25:40,369 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:25:40,370 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:25:40,370 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:25:40,370 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:25:40,371 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:25:40,371 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:25:40,372 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:25:40,372 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:25:40,372 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:25:40,372 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:25:40,373 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:25:40,375 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '9777abac-1e92-11f0-995b-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:25:41,114 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '9777abac-1e92-11f0-995b-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:25:40 GMT'
2025-04-21 18:25:41,119 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 18:25:41,123 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 18:25:41,352 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 18:25:41,353 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 18:25:41,353 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 18:25:41,353 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 18:25:41,441 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 18:25:41,442 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 18:25:41,443 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 18:25:42,041 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 18:25:42,260 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 18:25:42,261 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 18:25:49,225 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 18:25:49,226 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 18:25:49,276 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 18:25:49,278 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 18:25:49,283 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 18:25:49,333 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 18:25:49,360 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 18:25:49,639 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 18:25:50,003 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 18:25:50,255 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 18:25:50,267 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 18:25:50,269 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 18:25:50,271 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:25:50,275 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:25:50,276 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:25:50,277 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 18:25:50,413 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:25:50,458 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 18:25:50,459 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 18:25:50,502 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 18:25:50,503 - config - WARNING - 계열사 제목 다음 테이블을 찾지 못함.
2025-04-21 18:25:50,503 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:25:50,563 - config - INFO - '3\.\s*원재료' 패턴과 일치하는 title 찾음: '3. 원재료 및 생산설비'
2025-04-21 18:25:50,602 - config - INFO - '4\.\s*매출\s*및\s*수주\s*상황' 패턴과 일치하는 title 찾음: '4. 매출 및 수주상황'
2025-04-21 18:25:50,636 - config - INFO - '6\.\s*주요계약' 패턴과 일치하는 title 찾음: '6. 주요계약 및 연구개발활동'
2025-04-21 18:25:50,638 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:25:50,639 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:25:50,640 - config - INFO - 공급망/파트너십 관계 정보 32건 추출.
2025-04-21 18:25:50,640 - config - INFO - XML 직접 파싱 완료. 최종 21개 구조화된 데이터 조각 생성.
2025-04-21 18:25:50,673 - config - INFO - 005930: 임베딩 생성 시작 (21개 조각)...
2025-04-21 18:25:51,530 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:25:51,831 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:25:52,141 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:25:52,430 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:25:52,729 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:25:53,021 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:25:53,308 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:25:53,607 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:25:53,914 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:25:54,214 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:25:54,507 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:25:54,802 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:25:55,116 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:25:55,409 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:25:55,699 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:25:56,006 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:25:56,305 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:25:56,610 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:25:56,903 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:25:57,195 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:25:57,492 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:25:57,549 - config - INFO - 005930: 임베딩 생성 완료 (21 / 21 성공)
2025-04-21 18:25:57,551 - config - INFO - 005930: AI Search 업로드 시작 (21개 문서)...
2025-04-21 18:25:57,552 - config - INFO - AI Search 업로드 문서 준비: 총 21개 (Source: DART_분기보고서 (2024.09)_2024_005930_20241114002642)
2025-04-21 18:25:57,555 - config - INFO - 총 21개 문서 AI Search 업로드 시도...
2025-04-21 18:25:57,585 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '736959'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'a1b9d194-1e92-11f0-995b-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:25:59,261 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'a1b9d194-1e92-11f0-995b-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:25:59 GMT'
2025-04-21 18:25:59,263 - config - INFO - AI Search 문서 업로드 완료: 21 / 21 성공 (Source: DART_분기보고서 (2024.09)_2024_005930_20241114002642)
2025-04-21 18:25:59,264 - config - INFO - 005930: AI Search 업로드 완료.
2025-04-21 18:25:59,265 - config - INFO - --- DART 처리 완료: 005930 (상태: 성공(XML Parse), 처리된 청크 수: 21) ---
2025-04-21 18:26:00,272 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 18:26:00,532 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 18:26:00,831 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 18:26:01,082 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 18:26:01,089 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 18:26:01,092 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 18:26:01,095 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:26:01,098 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:26:01,099 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:26:01,099 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 18:26:01,202 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:26:01,235 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 18:26:01,236 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 18:26:01,271 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 18:26:01,272 - config - WARNING - 계열사 제목 다음 테이블을 찾지 못함.
2025-04-21 18:26:01,272 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:26:01,309 - config - INFO - '3\.\s*원재료' 패턴과 일치하는 title 찾음: '3. 원재료 및 생산설비'
2025-04-21 18:26:01,348 - config - INFO - '4\.\s*매출\s*및\s*수주\s*상황' 패턴과 일치하는 title 찾음: '4. 매출 및 수주상황'
2025-04-21 18:26:01,379 - config - INFO - '6\.\s*주요계약' 패턴과 일치하는 title 찾음: '6. 주요계약 및 연구개발활동'
2025-04-21 18:26:01,381 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:26:01,382 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:26:01,383 - config - INFO - 공급망/파트너십 관계 정보 9건 추출.
2025-04-21 18:26:01,383 - config - INFO - XML 직접 파싱 완료. 최종 7개 구조화된 데이터 조각 생성.
2025-04-21 18:26:01,412 - config - INFO - 000660: 임베딩 생성 시작 (7개 조각)...
2025-04-21 18:26:01,652 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:26:01,944 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:26:02,249 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:26:02,541 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:26:02,837 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:26:03,126 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:26:03,424 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:26:03,482 - config - INFO - 000660: 임베딩 생성 완료 (7 / 7 성공)
2025-04-21 18:26:03,483 - config - INFO - 000660: AI Search 업로드 시작 (7개 문서)...
2025-04-21 18:26:03,484 - config - INFO - AI Search 업로드 문서 준비: 총 7개 (Source: DART_분기보고서 (2024.09)_2024_000660_20241114001712)
2025-04-21 18:26:03,485 - config - INFO - 총 7개 문서 AI Search 업로드 시도...
2025-04-21 18:26:03,496 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '245918'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'a53fb5d6-1e92-11f0-995b-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:26:03,734 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'a53fb5d6-1e92-11f0-995b-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:26:03 GMT'
2025-04-21 18:26:03,737 - config - INFO - AI Search 문서 업로드 완료: 7 / 7 성공 (Source: DART_분기보고서 (2024.09)_2024_000660_20241114001712)
2025-04-21 18:26:03,738 - config - INFO - 000660: AI Search 업로드 완료.
2025-04-21 18:26:03,742 - config - INFO - --- DART 처리 완료: 000660 (상태: 성공(XML Parse), 처리된 청크 수: 7) ---
2025-04-21 18:26:04,749 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 18:26:05,004 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 18:26:05,274 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 18:26:05,548 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 18:26:05,567 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 18:26:05,570 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 18:26:05,571 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:26:05,581 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:26:05,581 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:26:05,582 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 18:26:05,834 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:26:05,899 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 18:26:05,900 - config - WARNING - 종속회사 제목 다음 테이블을 찾지 못함.
2025-04-21 18:26:05,963 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 18:26:05,963 - config - WARNING - 계열사 제목 다음 테이블을 찾지 못함.
2025-04-21 18:26:05,964 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:26:06,029 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:26:06,094 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:26:06,158 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:26:06,158 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:26:06,159 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:26:06,229 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 18:26:06,229 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 18:26:06,230 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:26:07,236 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 18:26:07,505 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 18:26:07,721 - config - WARNING - 사용자에 의해 실행 중단됨.
2025-04-21 18:26:07,722 - config - INFO - --- DART 처리 완료: 005380 (상태: 사용자 중단, 처리된 청크 수: 0) ---
2025-04-21 18:30:42,133 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 18:30:42,144 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 18:30:42,227 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 18:30:42,271 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 18:30:42,271 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 18:30:42,277 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 18:30:42,277 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 18:30:42,278 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:30:42,279 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:30:42,279 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:30:42,280 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:30:42,280 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:30:42,280 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:30:42,281 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:30:42,281 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:30:42,281 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:30:42,282 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:30:42,282 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:30:42,282 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:30:42,282 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:30:42,283 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:30:42,300 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '4b6d7448-1e93-11f0-8d73-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:30:43,035 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '4b6d7448-1e93-11f0-8d73-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:30:42 GMT'
2025-04-21 18:30:43,038 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 18:30:43,040 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 18:30:43,265 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 18:30:43,266 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 18:30:43,267 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 18:30:43,267 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 18:30:43,361 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 18:30:43,363 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 18:30:43,364 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 18:30:43,945 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 18:30:44,162 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 18:30:44,163 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 18:30:55,445 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 18:30:55,446 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 18:30:55,499 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 18:30:55,501 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 18:30:55,506 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 18:30:55,532 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 18:30:55,580 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 18:30:55,878 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 18:30:56,283 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 18:30:56,527 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 18:30:56,538 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 18:30:56,540 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 18:30:56,542 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:30:56,546 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:30:56,547 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:30:56,548 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 18:30:56,681 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:30:56,722 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 18:30:56,766 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 18:30:56,766 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:30:56,805 - config - INFO - '3\.\s*원재료' 패턴과 일치하는 title 찾음: '3. 원재료 및 생산설비'
2025-04-21 18:30:56,847 - config - INFO - '4\.\s*매출\s*및\s*수주\s*상황' 패턴과 일치하는 title 찾음: '4. 매출 및 수주상황'
2025-04-21 18:30:56,899 - config - INFO - '6\.\s*주요계약' 패턴과 일치하는 title 찾음: '6. 주요계약 및 연구개발활동'
2025-04-21 18:30:56,904 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:30:56,905 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:30:56,906 - config - INFO - 공급망/파트너십 관계 정보 32건 추출.
2025-04-21 18:30:56,906 - config - INFO - XML 직접 파싱 완료. 최종 21개 구조화된 데이터 조각 생성.
2025-04-21 18:30:56,940 - config - INFO - 005930: 임베딩 생성 시작 (21개 조각)...
2025-04-21 18:30:57,796 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:30:58,094 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:30:58,455 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:30:58,748 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:30:59,048 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:30:59,349 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:30:59,638 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:30:59,943 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:00,252 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:00,564 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:00,880 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:01,185 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:01,480 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:01,779 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:02,071 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:02,367 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:02,662 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:02,956 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:03,257 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:03,544 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:03,832 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:03,889 - config - INFO - 005930: 임베딩 생성 완료 (21 / 21 성공)
2025-04-21 18:31:03,890 - config - INFO - 005930: AI Search 업로드 시작 (21개 문서)...
2025-04-21 18:31:03,892 - config - INFO - AI Search 업로드 문서 준비: 총 21개 (Source: DART_분기보고서 (2024.09)_2024_005930_20241114002642)
2025-04-21 18:31:03,893 - config - INFO - 총 21개 문서 AI Search 업로드 시도...
2025-04-21 18:31:03,918 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '736959'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '585079a8-1e93-11f0-8d73-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:31:05,611 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '585079a8-1e93-11f0-8d73-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:31:05 GMT'
2025-04-21 18:31:05,621 - config - INFO - AI Search 문서 업로드 완료: 21 / 21 성공 (Source: DART_분기보고서 (2024.09)_2024_005930_20241114002642)
2025-04-21 18:31:05,622 - config - INFO - 005930: AI Search 업로드 완료.
2025-04-21 18:31:05,623 - config - INFO - --- DART 처리 완료: 005930 (상태: 성공(XML Parse), 처리된 청크 수: 21) ---
2025-04-21 18:31:06,631 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 18:31:06,902 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 18:31:07,196 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 18:31:07,435 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 18:31:07,439 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 18:31:07,440 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 18:31:07,441 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:31:07,443 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:31:07,444 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:31:07,445 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 18:31:07,547 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:31:07,576 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 18:31:07,605 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 18:31:07,606 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:31:07,635 - config - INFO - '3\.\s*원재료' 패턴과 일치하는 title 찾음: '3. 원재료 및 생산설비'
2025-04-21 18:31:07,668 - config - INFO - '4\.\s*매출\s*및\s*수주\s*상황' 패턴과 일치하는 title 찾음: '4. 매출 및 수주상황'
2025-04-21 18:31:07,697 - config - INFO - '6\.\s*주요계약' 패턴과 일치하는 title 찾음: '6. 주요계약 및 연구개발활동'
2025-04-21 18:31:07,699 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:31:07,700 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:31:07,701 - config - INFO - 공급망/파트너십 관계 정보 9건 추출.
2025-04-21 18:31:07,701 - config - INFO - XML 직접 파싱 완료. 최종 7개 구조화된 데이터 조각 생성.
2025-04-21 18:31:07,728 - config - INFO - 000660: 임베딩 생성 시작 (7개 조각)...
2025-04-21 18:31:07,972 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:08,294 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:08,578 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:08,866 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:09,162 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:09,465 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:09,761 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:09,819 - config - INFO - 000660: 임베딩 생성 완료 (7 / 7 성공)
2025-04-21 18:31:09,821 - config - INFO - 000660: AI Search 업로드 시작 (7개 문서)...
2025-04-21 18:31:09,821 - config - INFO - AI Search 업로드 문서 준비: 총 7개 (Source: DART_분기보고서 (2024.09)_2024_000660_20241114001712)
2025-04-21 18:31:09,822 - config - INFO - 총 7개 문서 AI Search 업로드 시도...
2025-04-21 18:31:09,833 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '245918'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '5bd72798-1e93-11f0-8d73-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:31:10,101 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '5bd72798-1e93-11f0-8d73-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:31:09 GMT'
2025-04-21 18:31:10,103 - config - INFO - AI Search 문서 업로드 완료: 7 / 7 성공 (Source: DART_분기보고서 (2024.09)_2024_000660_20241114001712)
2025-04-21 18:31:10,104 - config - INFO - 000660: AI Search 업로드 완료.
2025-04-21 18:31:10,105 - config - INFO - --- DART 처리 완료: 000660 (상태: 성공(XML Parse), 처리된 청크 수: 7) ---
2025-04-21 18:31:11,113 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 18:31:11,379 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 18:31:11,648 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 18:31:11,950 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 18:31:11,968 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 18:31:11,970 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 18:31:11,972 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:31:11,980 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:31:11,981 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:31:11,982 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 18:31:12,235 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:31:12,303 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 18:31:12,370 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 18:31:12,370 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:31:12,437 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:31:12,503 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:31:12,570 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:31:12,570 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:31:12,571 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:31:12,640 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 18:31:12,641 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 18:31:12,641 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:31:13,649 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 18:31:13,941 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 18:31:14,247 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 18:31:14,500 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 18:31:14,519 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 18:31:14,521 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 18:31:14,522 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:31:14,528 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:31:14,529 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:31:14,529 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 18:31:14,702 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:31:14,772 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 18:31:14,820 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 18:31:14,821 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:31:14,866 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:31:14,912 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:31:14,958 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:31:14,958 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:31:14,959 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:31:15,004 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 18:31:15,005 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 18:31:15,005 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:31:16,014 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 18:31:16,286 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 18:31:16,576 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 18:31:16,939 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 18:31:16,956 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 18:31:16,958 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 18:31:16,960 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:31:16,963 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:31:16,964 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:31:16,965 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 18:31:17,174 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:31:17,233 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 18:31:17,292 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 18:31:17,295 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:31:17,352 - config - INFO - '3\.\s*원재료' 패턴과 일치하는 title 찾음: '3. 원재료 및 생산설비'
2025-04-21 18:31:17,415 - config - INFO - '4\.\s*매출\s*및\s*수주\s*상황' 패턴과 일치하는 title 찾음: '4. 매출 및 수주상황'
2025-04-21 18:31:17,477 - config - INFO - '6\.\s*주요계약' 패턴과 일치하는 title 찾음: '6. 주요계약 및 연구개발활동'
2025-04-21 18:31:17,478 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:31:17,479 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:31:17,480 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:31:17,481 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:31:17,482 - config - INFO - 공급망/파트너십 관계 정보 12건 추출.
2025-04-21 18:31:17,482 - config - INFO - XML 직접 파싱 완료. 최종 12개 구조화된 데이터 조각 생성.
2025-04-21 18:31:17,539 - config - INFO - 012450: 임베딩 생성 시작 (12개 조각)...
2025-04-21 18:31:18,363 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:18,654 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:18,955 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:19,488 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:19,767 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:20,065 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:20,361 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:20,670 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:20,982 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:21,264 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:21,550 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:21,838 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:31:21,898 - config - INFO - 012450: 임베딩 생성 완료 (12 / 12 성공)
2025-04-21 18:31:21,899 - config - INFO - 012450: AI Search 업로드 시작 (12개 문서)...
2025-04-21 18:31:21,900 - config - INFO - AI Search 업로드 문서 준비: 총 12개 (Source: DART_분기보고서 (2024.09)_2024_012450_20241113000565)
2025-04-21 18:31:21,901 - config - INFO - 총 12개 문서 AI Search 업로드 시도...
2025-04-21 18:31:21,916 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '421705'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '630abaa2-1e93-11f0-8d73-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:31:22,320 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '630abaa2-1e93-11f0-8d73-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:31:22 GMT'
2025-04-21 18:31:22,324 - config - INFO - AI Search 문서 업로드 완료: 12 / 12 성공 (Source: DART_분기보고서 (2024.09)_2024_012450_20241113000565)
2025-04-21 18:31:22,329 - config - INFO - 012450: AI Search 업로드 완료.
2025-04-21 18:31:22,331 - config - INFO - --- DART 처리 완료: 012450 (상태: 성공(XML Parse), 처리된 청크 수: 12) ---
2025-04-21 18:31:23,356 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 3, 실패: 4) =====
2025-04-21 18:31:23,358 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 18:32:43,320 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 18:32:43,327 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 18:32:43,410 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 18:32:43,472 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 18:32:43,481 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 18:32:43,506 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 18:32:43,506 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 18:32:43,507 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:32:43,508 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:32:43,509 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:32:43,509 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:32:43,509 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:32:43,510 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:32:43,510 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:32:43,510 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:32:43,511 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:32:43,511 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:32:43,511 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:32:43,512 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:32:43,512 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:32:43,512 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:32:43,514 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '93ada674-1e93-11f0-9991-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:32:44,280 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '93ada674-1e93-11f0-9991-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:32:44 GMT'
2025-04-21 18:32:44,281 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 18:32:44,282 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 18:32:44,540 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 18:32:44,542 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 18:32:44,542 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 18:32:44,542 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 18:32:44,636 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 18:32:44,638 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 18:32:44,639 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 18:32:45,013 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 18:32:45,239 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 18:32:45,240 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 18:33:00,697 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 18:33:00,698 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 18:33:00,747 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 18:33:00,749 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 18:33:00,754 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 18:33:00,787 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 18:33:00,812 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 18:33:01,095 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 18:33:01,509 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 18:33:01,874 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 18:33:01,897 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 18:33:01,900 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 18:33:01,901 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:33:01,906 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:33:01,907 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:33:01,908 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 18:33:02,040 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:33:02,077 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 18:33:02,112 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 18:33:02,112 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:33:02,146 - config - INFO - '3\.\s*원재료' 패턴과 일치하는 title 찾음: '3. 원재료 및 생산설비'
2025-04-21 18:33:02,184 - config - INFO - '4\.\s*매출\s*및\s*수주\s*상황' 패턴과 일치하는 title 찾음: '4. 매출 및 수주상황'
2025-04-21 18:33:02,218 - config - INFO - '6\.\s*주요계약' 패턴과 일치하는 title 찾음: '6. 주요계약 및 연구개발활동'
2025-04-21 18:33:02,220 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:33:02,222 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:33:02,222 - config - INFO - 공급망/파트너십 관계 정보 32건 추출.
2025-04-21 18:33:02,223 - config - INFO - XML 직접 파싱 완료. 최종 21개 구조화된 데이터 조각 생성.
2025-04-21 18:33:02,257 - config - INFO - 005930: 임베딩 생성 시작 (21개 조각)...
2025-04-21 18:33:03,097 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:03,394 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:03,681 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:03,975 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:04,263 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:04,560 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:04,866 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:05,209 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:05,520 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:05,855 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:06,140 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:06,435 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:06,720 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:07,009 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:07,292 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:07,584 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:07,882 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:08,170 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:08,455 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:08,746 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:09,029 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:09,088 - config - INFO - 005930: 임베딩 생성 완료 (21 / 21 성공)
2025-04-21 18:33:09,090 - config - INFO - 005930: AI Search 업로드 시작 (21개 문서)...
2025-04-21 18:33:09,091 - config - INFO - AI Search 업로드 문서 준비: 총 21개 (Source: DART_분기보고서 (2024.09)_2024_005930_20241114002642)
2025-04-21 18:33:09,094 - config - INFO - 총 21개 문서 AI Search 업로드 시도...
2025-04-21 18:33:09,121 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '736959'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'a2f0e9e8-1e93-11f0-9991-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:33:10,765 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'a2f0e9e8-1e93-11f0-9991-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:33:09 GMT'
2025-04-21 18:33:10,769 - config - INFO - AI Search 문서 업로드 완료: 21 / 21 성공 (Source: DART_분기보고서 (2024.09)_2024_005930_20241114002642)
2025-04-21 18:33:10,772 - config - INFO - 005930: AI Search 업로드 완료.
2025-04-21 18:33:10,774 - config - INFO - --- DART 처리 완료: 005930 (상태: 성공(XML Parse), 처리된 청크 수: 21) ---
2025-04-21 18:33:11,785 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 18:33:12,059 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 18:33:12,361 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 18:33:12,611 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 18:33:12,625 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 18:33:12,628 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 18:33:12,629 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:33:12,634 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:33:12,634 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:33:12,635 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 18:33:12,741 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:33:12,770 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 18:33:12,798 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 18:33:12,799 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:33:12,826 - config - INFO - '3\.\s*원재료' 패턴과 일치하는 title 찾음: '3. 원재료 및 생산설비'
2025-04-21 18:33:12,856 - config - INFO - '4\.\s*매출\s*및\s*수주\s*상황' 패턴과 일치하는 title 찾음: '4. 매출 및 수주상황'
2025-04-21 18:33:12,884 - config - INFO - '6\.\s*주요계약' 패턴과 일치하는 title 찾음: '6. 주요계약 및 연구개발활동'
2025-04-21 18:33:12,886 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:33:12,887 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:33:12,887 - config - INFO - 공급망/파트너십 관계 정보 9건 추출.
2025-04-21 18:33:12,887 - config - INFO - XML 직접 파싱 완료. 최종 7개 구조화된 데이터 조각 생성.
2025-04-21 18:33:12,914 - config - INFO - 000660: 임베딩 생성 시작 (7개 조각)...
2025-04-21 18:33:13,146 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:13,430 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:13,714 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:14,004 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:14,291 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:14,579 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:14,866 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:14,922 - config - INFO - 000660: 임베딩 생성 완료 (7 / 7 성공)
2025-04-21 18:33:14,924 - config - INFO - 000660: AI Search 업로드 시작 (7개 문서)...
2025-04-21 18:33:14,929 - config - INFO - AI Search 업로드 문서 준비: 총 7개 (Source: DART_분기보고서 (2024.09)_2024_000660_20241114001712)
2025-04-21 18:33:14,930 - config - INFO - 총 7개 문서 AI Search 업로드 시도...
2025-04-21 18:33:14,945 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '245918'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'a66995ac-1e93-11f0-9991-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:33:15,205 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'a66995ac-1e93-11f0-9991-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:33:15 GMT'
2025-04-21 18:33:15,209 - config - INFO - AI Search 문서 업로드 완료: 7 / 7 성공 (Source: DART_분기보고서 (2024.09)_2024_000660_20241114001712)
2025-04-21 18:33:15,213 - config - INFO - 000660: AI Search 업로드 완료.
2025-04-21 18:33:15,214 - config - INFO - --- DART 처리 완료: 000660 (상태: 성공(XML Parse), 처리된 청크 수: 7) ---
2025-04-21 18:33:16,223 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 18:33:16,505 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 18:33:16,790 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 18:33:17,202 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 18:33:17,232 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 18:33:17,235 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 18:33:17,237 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:33:17,247 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:33:17,248 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:33:17,248 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 18:33:17,491 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:33:17,555 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 18:33:17,639 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 18:33:17,639 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:33:17,704 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:33:17,768 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:33:17,833 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:33:17,833 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:33:17,833 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:33:17,902 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 18:33:17,903 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 18:33:17,903 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:33:18,911 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 18:33:19,186 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 18:33:19,484 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 18:33:19,805 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 18:33:19,825 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 18:33:19,827 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 18:33:19,828 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:33:19,835 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:33:19,835 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:33:19,836 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 18:33:20,005 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:33:20,050 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 18:33:20,094 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 18:33:20,095 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:33:20,139 - config - WARNING - '['3\\.\\s*원재료']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:33:20,183 - config - WARNING - '['4\\.\\s*매출\\s*및\\s*수주\\s*상황']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:33:20,228 - config - WARNING - '['6\\.\\s*주요계약']' 패턴과 일치하는 title 요소를 찾지 못했습니다.
2025-04-21 18:33:20,228 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:33:20,228 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:33:20,274 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 18:33:20,275 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 18:33:20,276 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:33:21,284 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 18:33:21,559 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 18:33:21,849 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 18:33:22,842 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 18:33:22,867 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 18:33:22,870 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 18:33:22,871 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:33:22,875 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:33:22,875 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:33:22,877 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 18:33:23,097 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:33:23,153 - config - INFO - '1\.\s*연결대상\s*종속회사\s*현황' 패턴과 일치하는 title 찾음: '1. 연결대상 종속회사 현황(상세)'
2025-04-21 18:33:23,209 - config - INFO - 'IX\.\s*계열회사' 패턴과 일치하는 title 찾음: 'IX. 계열회사 등에 관한 사항'
2025-04-21 18:33:23,212 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:33:23,266 - config - INFO - '3\.\s*원재료' 패턴과 일치하는 title 찾음: '3. 원재료 및 생산설비'
2025-04-21 18:33:23,327 - config - INFO - '4\.\s*매출\s*및\s*수주\s*상황' 패턴과 일치하는 title 찾음: '4. 매출 및 수주상황'
2025-04-21 18:33:23,382 - config - INFO - '6\.\s*주요계약' 패턴과 일치하는 title 찾음: '6. 주요계약 및 연구개발활동'
2025-04-21 18:33:23,383 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:33:23,385 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:33:23,386 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:33:23,387 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:33:23,387 - config - INFO - 공급망/파트너십 관계 정보 12건 추출.
2025-04-21 18:33:23,387 - config - INFO - XML 직접 파싱 완료. 최종 12개 구조화된 데이터 조각 생성.
2025-04-21 18:33:23,442 - config - INFO - 012450: 임베딩 생성 시작 (12개 조각)...
2025-04-21 18:33:24,287 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:24,583 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:24,881 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:25,175 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:25,472 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:25,773 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:26,062 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:26,355 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:26,665 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:26,956 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:27,249 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:27,546 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:33:27,605 - config - INFO - 012450: 임베딩 생성 완료 (12 / 12 성공)
2025-04-21 18:33:27,607 - config - INFO - 012450: AI Search 업로드 시작 (12개 문서)...
2025-04-21 18:33:27,608 - config - INFO - AI Search 업로드 문서 준비: 총 12개 (Source: DART_분기보고서 (2024.09)_2024_012450_20241113000565)
2025-04-21 18:33:27,610 - config - INFO - 총 12개 문서 AI Search 업로드 시도...
2025-04-21 18:33:27,629 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '421705'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'adf90abe-1e93-11f0-9991-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:33:28,030 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'adf90abe-1e93-11f0-9991-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:33:27 GMT'
2025-04-21 18:33:28,033 - config - INFO - AI Search 문서 업로드 완료: 12 / 12 성공 (Source: DART_분기보고서 (2024.09)_2024_012450_20241113000565)
2025-04-21 18:33:28,035 - config - INFO - 012450: AI Search 업로드 완료.
2025-04-21 18:33:28,038 - config - INFO - --- DART 처리 완료: 012450 (상태: 성공(XML Parse), 처리된 청크 수: 12) ---
2025-04-21 18:33:29,051 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 3, 실패: 4) =====
2025-04-21 18:33:29,054 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 18:41:12,316 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 18:41:12,324 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 18:41:12,377 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 18:41:12,459 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 18:41:12,460 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 18:41:12,489 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 18:41:12,490 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 18:41:12,490 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:41:12,491 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:41:12,491 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:41:12,492 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:41:12,493 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:41:12,499 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:41:12,501 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:41:12,502 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:41:12,504 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:41:12,506 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:41:12,509 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:41:12,510 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:41:12,514 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:41:12,518 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:41:12,523 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'c31244f0-1e94-11f0-abda-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:41:13,268 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'c31244f0-1e94-11f0-abda-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:41:13 GMT'
2025-04-21 18:41:13,271 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 18:41:13,273 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 18:41:13,517 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 18:41:13,518 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 18:41:13,518 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 18:41:13,519 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 18:41:13,625 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 18:41:13,627 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 18:41:13,629 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 18:41:14,215 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 18:41:14,448 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 18:41:14,449 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 18:41:21,430 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 18:41:21,432 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 18:41:21,505 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 18:41:21,509 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 18:41:21,522 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 18:41:21,559 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 18:41:21,590 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 18:41:21,867 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 18:41:22,247 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 18:41:22,489 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 18:41:22,498 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 18:41:22,500 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 18:41:22,502 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:41:22,505 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:41:22,506 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:41:22,507 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 18:41:22,634 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:41:22,674 - config - ERROR - XML 데이터 추출 메인 함수 오류 (DART_분기보고서 (2024.09)_2024_005930_20241114002642): 'lxml.etree._Element' object has no attribute 'text_content'
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 509, in extract_targeted_data_from_xml
    ownership_data = parse_ownership_info(root, source_info, name_to_code)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 362, in parse_ownership_info
    headers = [th.text_content().strip() for th in rows[0].xpath('.//*[local-name()="th" or local-name()="td"]')]
               ^^^^^^^^^^^^^^^
AttributeError: 'lxml.etree._Element' object has no attribute 'text_content'
2025-04-21 18:41:22,715 - config - WARNING - 005930: 임베딩할 추출 데이터 없음.
2025-04-21 18:41:22,716 - config - WARNING - 005930: 업로드할 추출 데이터 없음.
2025-04-21 18:41:22,716 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:41:23,718 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 18:41:23,980 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 18:41:24,274 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 18:41:24,519 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 18:41:24,530 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 18:41:24,533 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 18:41:24,534 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:41:24,538 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:41:24,538 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:41:24,539 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 18:41:24,655 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:41:24,740 - config - ERROR - XML 데이터 추출 메인 함수 오류 (DART_분기보고서 (2024.09)_2024_000660_20241114001712): 'lxml.etree._Element' object has no attribute 'text_content'
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 509, in extract_targeted_data_from_xml
    ownership_data = parse_ownership_info(root, source_info, name_to_code)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 391, in parse_ownership_info
    headers = [th.text_content().strip() for th in rows[0].xpath('.//*[local-name()="th" or local-name()="td"]')]
               ^^^^^^^^^^^^^^^
AttributeError: 'lxml.etree._Element' object has no attribute 'text_content'
2025-04-21 18:41:24,769 - config - WARNING - 000660: 임베딩할 추출 데이터 없음.
2025-04-21 18:41:24,769 - config - WARNING - 000660: 업로드할 추출 데이터 없음.
2025-04-21 18:41:24,770 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:41:25,778 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 18:41:26,042 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 18:41:26,316 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 18:41:26,630 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 18:41:26,653 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 18:41:26,656 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 18:41:26,657 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:41:26,666 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:41:26,666 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:41:26,667 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 18:41:26,919 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:41:26,983 - config - ERROR - XML 데이터 추출 메인 함수 오류 (DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609): 'lxml.etree._Element' object has no attribute 'text_content'
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 509, in extract_targeted_data_from_xml
    ownership_data = parse_ownership_info(root, source_info, name_to_code)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 362, in parse_ownership_info
    headers = [th.text_content().strip() for th in rows[0].xpath('.//*[local-name()="th" or local-name()="td"]')]
               ^^^^^^^^^^^^^^^
AttributeError: 'lxml.etree._Element' object has no attribute 'text_content'
2025-04-21 18:41:27,054 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 18:41:27,055 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 18:41:27,055 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:41:28,066 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 18:41:28,337 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 18:41:28,639 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 18:41:28,942 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 18:41:28,956 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 18:41:28,958 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 18:41:28,960 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:41:28,966 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:41:28,967 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:41:28,968 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 18:41:29,163 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:41:29,206 - config - ERROR - XML 데이터 추출 메인 함수 오류 (DART_분기보고서 (2024.09)_2024_005380_20241114002593): 'lxml.etree._Element' object has no attribute 'text_content'
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 509, in extract_targeted_data_from_xml
    ownership_data = parse_ownership_info(root, source_info, name_to_code)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 362, in parse_ownership_info
    headers = [th.text_content().strip() for th in rows[0].xpath('.//*[local-name()="th" or local-name()="td"]')]
               ^^^^^^^^^^^^^^^
AttributeError: 'lxml.etree._Element' object has no attribute 'text_content'
2025-04-21 18:41:29,254 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 18:41:29,254 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 18:41:29,255 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:41:30,263 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 18:41:30,526 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 18:41:30,809 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 18:41:31,084 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 18:41:31,093 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 18:41:31,095 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 18:41:31,096 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:41:31,099 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:41:31,100 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:41:31,100 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 18:41:31,297 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:41:31,353 - config - ERROR - XML 데이터 추출 메인 함수 오류 (DART_분기보고서 (2024.09)_2024_012450_20241113000565): 'lxml.etree._Element' object has no attribute 'text_content'
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 509, in extract_targeted_data_from_xml
    ownership_data = parse_ownership_info(root, source_info, name_to_code)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 362, in parse_ownership_info
    headers = [th.text_content().strip() for th in rows[0].xpath('.//*[local-name()="th" or local-name()="td"]')]
               ^^^^^^^^^^^^^^^
AttributeError: 'lxml.etree._Element' object has no attribute 'text_content'
2025-04-21 18:41:31,407 - config - WARNING - 012450: 임베딩할 추출 데이터 없음.
2025-04-21 18:41:31,407 - config - WARNING - 012450: 업로드할 추출 데이터 없음.
2025-04-21 18:41:31,408 - config - INFO - --- DART 처리 완료: 012450 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:41:32,416 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 10) =====
2025-04-21 18:41:32,419 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '005930', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '000660', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '012450', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 18:43:42,885 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 18:43:43,470 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 18:43:43,495 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 18:43:43,496 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 18:43:43,496 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 18:43:44,125 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 18:43:44,133 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 18:43:44,135 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:43:44,136 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:43:44,137 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:43:44,138 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:43:44,139 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:43:44,140 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:43:44,141 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:43:44,142 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:43:44,142 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:43:44,143 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:43:44,144 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:43:44,145 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:43:44,145 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:43:44,146 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:43:44,150 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '1d72b592-1e95-11f0-abda-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:43:44,955 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '1d72b592-1e95-11f0-abda-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:43:44 GMT'
2025-04-21 18:43:44,957 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 18:43:44,958 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 18:43:44,971 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 18:43:44,972 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 18:43:44,973 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 18:43:44,974 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 18:43:44,986 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 18:43:44,988 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 18:43:44,990 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 18:43:47,198 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 18:43:47,203 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 18:43:47,204 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 18:43:47,207 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 18:43:47,267 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 18:43:47,269 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 18:43:47,275 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 18:43:47,419 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 18:43:47,425 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 18:43:47,780 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 18:43:48,169 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 18:43:48,415 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 18:43:48,426 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 18:43:48,427 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 18:43:48,428 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:43:48,433 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:43:48,433 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:43:48,434 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 18:43:48,565 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:43:48,601 - config - ERROR - XML 데이터 추출 메인 함수 오류 (DART_분기보고서 (2024.09)_2024_005930_20241114002642): 'lxml.etree._Element' object has no attribute 'text_content'
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 509, in extract_targeted_data_from_xml
    xml_content_str: str | None,
                         ^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 362, in parse_ownership_info
    return None
                
AttributeError: 'lxml.etree._Element' object has no attribute 'text_content'
2025-04-21 18:43:48,635 - config - WARNING - 005930: 임베딩할 추출 데이터 없음.
2025-04-21 18:43:48,636 - config - WARNING - 005930: 업로드할 추출 데이터 없음.
2025-04-21 18:43:48,636 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:43:49,644 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 18:43:49,930 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 18:43:50,239 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 18:43:50,479 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 18:43:50,485 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 18:43:50,486 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 18:43:50,487 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:43:50,490 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:43:50,490 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:43:50,491 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 18:43:50,609 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:43:50,663 - config - ERROR - XML 데이터 추출 메인 함수 오류 (DART_분기보고서 (2024.09)_2024_000660_20241114001712): 'lxml.etree._Element' object has no attribute 'text_content'
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 509, in extract_targeted_data_from_xml
    xml_content_str: str | None,
                         ^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 391, in parse_ownership_info
    name_idx  = _find_col_index(header, ["회사명", "상호"])
           ^^^^^^^^^^^^^^^
AttributeError: 'lxml.etree._Element' object has no attribute 'text_content'
2025-04-21 18:43:50,692 - config - WARNING - 000660: 임베딩할 추출 데이터 없음.
2025-04-21 18:43:50,692 - config - WARNING - 000660: 업로드할 추출 데이터 없음.
2025-04-21 18:43:50,693 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:43:51,700 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 18:43:52,019 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 18:43:52,298 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 18:43:52,557 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 18:43:52,578 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 18:43:52,580 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 18:43:52,582 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:43:52,589 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:43:52,589 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:43:52,590 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 18:43:52,832 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:43:52,893 - config - ERROR - XML 데이터 추출 메인 함수 오류 (DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609): 'lxml.etree._Element' object has no attribute 'text_content'
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 509, in extract_targeted_data_from_xml
    xml_content_str: str | None,
                         ^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 362, in parse_ownership_info
    return None
                
AttributeError: 'lxml.etree._Element' object has no attribute 'text_content'
2025-04-21 18:43:52,976 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 18:43:52,977 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 18:43:52,978 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:43:53,986 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 18:43:54,264 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 18:43:54,621 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 18:43:54,868 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 18:43:54,883 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 18:43:54,892 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 18:43:54,897 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:43:54,903 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:43:54,905 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:43:54,906 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 18:43:55,071 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:43:55,114 - config - ERROR - XML 데이터 추출 메인 함수 오류 (DART_분기보고서 (2024.09)_2024_005380_20241114002593): 'lxml.etree._Element' object has no attribute 'text_content'
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 509, in extract_targeted_data_from_xml
    xml_content_str: str | None,
                         ^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 362, in parse_ownership_info
    return None
                
AttributeError: 'lxml.etree._Element' object has no attribute 'text_content'
2025-04-21 18:43:55,159 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 18:43:55,160 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 18:43:55,160 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:43:56,168 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 18:43:56,438 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 18:43:56,788 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 18:43:57,125 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 18:43:57,149 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 18:43:57,152 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 18:43:57,153 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:43:57,158 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:43:57,158 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:43:57,159 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 18:43:57,361 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:43:57,416 - config - ERROR - XML 데이터 추출 메인 함수 오류 (DART_분기보고서 (2024.09)_2024_012450_20241113000565): 'lxml.etree._Element' object has no attribute 'text_content'
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 509, in extract_targeted_data_from_xml
    xml_content_str: str | None,
                         ^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 362, in parse_ownership_info
    return None
                
AttributeError: 'lxml.etree._Element' object has no attribute 'text_content'
2025-04-21 18:43:57,470 - config - WARNING - 012450: 임베딩할 추출 데이터 없음.
2025-04-21 18:43:57,471 - config - WARNING - 012450: 업로드할 추출 데이터 없음.
2025-04-21 18:43:57,472 - config - INFO - --- DART 처리 완료: 012450 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:43:58,481 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 10) =====
2025-04-21 18:43:58,483 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '005930', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '000660', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '012450', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 18:51:22,248 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 18:51:22,256 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 18:51:22,327 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 18:51:22,406 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 18:51:22,406 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 18:51:22,445 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 18:51:22,446 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 18:51:22,449 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:51:22,450 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:51:22,450 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:51:22,451 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:51:22,453 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:51:22,454 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:51:22,455 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:51:22,456 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:51:22,456 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:51:22,457 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:51:22,458 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:51:22,458 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:51:22,459 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:51:22,459 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:51:22,461 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '2e9f64ae-1e96-11f0-a056-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:51:23,258 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '2e9f64ae-1e96-11f0-a056-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:51:23 GMT'
2025-04-21 18:51:23,260 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 18:51:23,261 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 18:51:23,476 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 18:51:23,478 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 18:51:23,478 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 18:51:23,479 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 18:51:23,577 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 18:51:23,579 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 18:51:23,580 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 18:51:24,952 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 18:51:25,206 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 18:51:25,207 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 18:51:32,134 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 18:51:32,134 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 18:51:32,190 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 18:51:32,193 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 18:51:32,199 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 18:51:32,226 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 18:51:32,258 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 18:51:32,539 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 18:51:32,911 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 18:51:33,158 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 18:51:33,171 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 18:51:33,174 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 18:51:33,175 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:51:33,179 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:51:33,179 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:51:33,180 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 18:51:33,318 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:51:33,444 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:51:33,482 - config - ERROR - XML 데이터 추출 메인 함수 오류 (DART_분기보고서 (2024.09)_2024_005930_20241114002642): name '_parse_xml_table' is not defined
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 534, in extract_targeted_data_from_xml
    supply_data = parse_supply_info(root, source_info, name_to_code, kospi100_names)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 449, in parse_supply_info
    parsed_table = _parse_xml_table(table)
                   ^^^^^^^^^^^^^^^^
NameError: name '_parse_xml_table' is not defined
2025-04-21 18:51:33,522 - config - WARNING - 005930: 임베딩할 추출 데이터 없음.
2025-04-21 18:51:33,522 - config - WARNING - 005930: 업로드할 추출 데이터 없음.
2025-04-21 18:51:33,523 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:51:34,572 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 18:51:34,828 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 18:51:35,108 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 18:51:35,357 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 18:51:35,366 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 18:51:35,367 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 18:51:35,369 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:51:35,373 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:51:35,375 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:51:35,376 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 18:51:35,481 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:51:35,557 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:51:35,589 - config - ERROR - XML 데이터 추출 메인 함수 오류 (DART_분기보고서 (2024.09)_2024_000660_20241114001712): name '_parse_xml_table' is not defined
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 534, in extract_targeted_data_from_xml
    supply_data = parse_supply_info(root, source_info, name_to_code, kospi100_names)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 449, in parse_supply_info
    parsed_table = _parse_xml_table(table)
                   ^^^^^^^^^^^^^^^^
NameError: name '_parse_xml_table' is not defined
2025-04-21 18:51:35,621 - config - WARNING - 000660: 임베딩할 추출 데이터 없음.
2025-04-21 18:51:35,621 - config - WARNING - 000660: 업로드할 추출 데이터 없음.
2025-04-21 18:51:35,622 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:51:36,629 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 18:51:36,889 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 18:51:37,177 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 18:51:37,638 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 18:51:37,663 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 18:51:37,668 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml, 확장자: .xml, 크기: 7126141 bytes)
2025-04-21 18:51:37,670 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:51:37,679 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:51:37,680 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:51:37,681 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 18:51:37,939 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:51:38,069 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:51:38,254 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:51:38,255 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:51:38,325 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 18:51:38,325 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 18:51:38,326 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:51:39,334 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 18:51:39,608 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 18:51:39,906 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 18:51:40,199 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 18:51:40,212 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 18:51:40,215 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml, 확장자: .xml, 크기: 4726043 bytes)
2025-04-21 18:51:40,217 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:51:40,224 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:51:40,224 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:51:40,225 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 18:51:40,407 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:51:40,518 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:51:40,645 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 18:51:40,645 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 18:51:40,692 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 18:51:40,692 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 18:51:40,693 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:51:41,701 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 18:51:41,970 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 18:51:42,271 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 18:51:42,661 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 18:51:42,677 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 18:51:42,680 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml, 확장자: .xml, 크기: 5488483 bytes)
2025-04-21 18:51:42,681 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:51:42,685 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:51:42,686 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:51:42,686 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 18:51:42,894 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:51:43,008 - config - ERROR - XML 데이터 추출 메인 함수 오류 (DART_분기보고서 (2024.09)_2024_012450_20241113000565): name '_parse_xml_table' is not defined
Traceback (most recent call last):
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 532, in extract_targeted_data_from_xml
    ownership_data = parse_ownership_info(root, source_info, name_to_code)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nsj/Desktop/kospi_relation_rag_pipeline/core/dart_utils.py", line 404, in parse_ownership_info
    rows = _parse_xml_table(tbl)
           ^^^^^^^^^^^^^^^^
NameError: name '_parse_xml_table' is not defined
2025-04-21 18:51:43,066 - config - WARNING - 012450: 임베딩할 추출 데이터 없음.
2025-04-21 18:51:43,067 - config - WARNING - 012450: 업로드할 추출 데이터 없음.
2025-04-21 18:51:43,067 - config - INFO - --- DART 처리 완료: 012450 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 18:51:44,077 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 10) =====
2025-04-21 18:51:44,079 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '005930', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '000660', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '012450', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 18:52:56,835 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 18:52:56,843 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 18:52:56,900 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 18:52:56,995 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 18:52:56,996 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 18:52:57,005 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 18:52:57,005 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 18:52:57,006 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:52:57,007 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:52:57,007 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:52:57,008 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:52:57,008 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:52:57,009 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:52:57,009 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:52:57,010 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:52:57,010 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:52:57,010 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:52:57,010 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:52:57,011 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:52:57,011 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:52:57,015 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:52:57,036 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '66fe5fee-1e96-11f0-9fd4-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:52:57,761 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '66fe5fee-1e96-11f0-9fd4-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:52:57 GMT'
2025-04-21 18:52:57,768 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 18:52:57,773 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 18:52:58,048 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 18:52:58,050 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 18:52:58,050 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 18:52:58,050 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 18:52:58,150 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 18:52:58,153 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 18:52:58,154 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 18:53:00,237 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 18:53:00,479 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 18:53:00,479 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 18:53:07,575 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 18:53:07,576 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 18:53:07,629 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 18:53:07,631 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 18:53:07,636 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 18:53:07,660 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 18:53:07,691 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 18:53:07,959 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 18:53:08,358 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 18:53:08,605 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 18:53:08,611 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 18:53:08,612 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml, 확장자: .xml, 크기: 3502165 bytes)
2025-04-21 18:53:08,613 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:53:08,618 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:53:08,619 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:53:08,620 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 18:53:08,748 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:53:08,830 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:53:08,934 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:53:08,935 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:53:08,936 - config - INFO - 공급망/파트너십 관계 정보 32건 추출.
2025-04-21 18:53:08,936 - config - INFO - XML 직접 파싱 완료. 최종 21개 구조화된 데이터 조각 생성.
2025-04-21 18:53:08,971 - config - INFO - 005930: 임베딩 생성 시작 (21개 조각)...
2025-04-21 18:53:09,925 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:53:10,223 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:53:10,521 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:53:10,820 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:53:11,117 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:53:11,424 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:53:11,726 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:53:12,021 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:53:12,332 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:53:12,632 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:53:12,936 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:53:13,235 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:53:13,534 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:53:13,834 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:53:14,135 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:53:14,445 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:53:14,737 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:53:15,034 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:53:15,330 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:53:15,633 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:53:15,935 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:53:15,993 - config - INFO - 005930: 임베딩 생성 완료 (21 / 21 성공)
2025-04-21 18:53:15,994 - config - INFO - 005930: AI Search 업로드 시작 (21개 문서)...
2025-04-21 18:53:15,995 - config - INFO - AI Search 업로드 문서 준비: 총 21개 (Source: DART_분기보고서 (2024.09)_2024_005930_20241114002642)
2025-04-21 18:53:15,996 - config - INFO - 총 21개 문서 AI Search 업로드 시도...
2025-04-21 18:53:16,018 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '736959'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '724ed824-1e96-11f0-9fd4-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:53:17,745 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '724ed824-1e96-11f0-9fd4-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:53:17 GMT'
2025-04-21 18:53:17,748 - config - INFO - AI Search 문서 업로드 완료: 21 / 21 성공 (Source: DART_분기보고서 (2024.09)_2024_005930_20241114002642)
2025-04-21 18:53:17,749 - config - INFO - 005930: AI Search 업로드 완료.
2025-04-21 18:53:17,749 - config - INFO - --- DART 처리 완료: 005930 (상태: 성공(XML Parse), 처리된 청크 수: 21) ---
2025-04-21 18:53:18,758 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 18:53:19,027 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 18:53:19,331 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 18:53:19,577 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 18:53:19,587 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 18:53:19,589 - config - INFO - 보고서 파일 읽기 성공 (경로: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml, 확장자: .xml, 크기: 2685943 bytes)
2025-04-21 18:53:19,591 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 18:53:19,594 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 18:53:19,595 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 18:53:19,595 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 18:53:19,701 - config - INFO - XML 파싱 성공 (HTMLParser 사용). Root tag: <html>
2025-04-21 18:53:19,756 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 18:53:19,839 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:53:19,840 - config - WARNING - 주요계약 테이블 '상대방' 헤더 못찾음.
2025-04-21 18:53:19,840 - config - INFO - 공급망/파트너십 관계 정보 9건 추출.
2025-04-21 18:53:19,841 - config - INFO - XML 직접 파싱 완료. 최종 7개 구조화된 데이터 조각 생성.
2025-04-21 18:53:19,869 - config - INFO - 000660: 임베딩 생성 시작 (7개 조각)...
2025-04-21 18:53:20,128 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:53:20,433 - httpx - INFO - HTTP Request: POST https://gptapi0417.openai.azure.com/openai/deployments/text-embedding-ada-002/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-04-21 18:53:20,669 - config - WARNING - 사용자에 의해 실행 중단됨.
2025-04-21 18:53:20,670 - config - INFO - --- DART 처리 완료: 000660 (상태: 사용자 중단, 처리된 청크 수: 0) ---
2025-04-21 18:57:29,886 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 18:57:29,894 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 18:57:29,976 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 18:57:30,026 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 18:57:30,027 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 18:57:30,031 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 18:57:30,032 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 18:57:30,035 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:57:30,035 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:57:30,036 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:57:30,036 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:57:30,036 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:57:30,037 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:57:30,037 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:57:30,037 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:57:30,038 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:57:30,038 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:57:30,038 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:57:30,038 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:57:30,039 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:57:30,039 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 18:57:30,041 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '09b7ace0-1e97-11f0-b321-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 18:57:30,762 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '09b7ace0-1e97-11f0-b321-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 09:57:30 GMT'
2025-04-21 18:57:30,764 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 18:57:30,765 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 18:57:31,071 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 18:57:31,072 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 18:57:31,073 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 18:57:31,073 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 18:57:31,175 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 18:57:31,177 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 18:57:31,178 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 18:57:33,670 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 18:57:33,907 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 18:57:33,907 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 18:57:40,907 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 18:57:40,908 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 18:57:40,959 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 18:57:40,961 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 18:57:40,966 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 19:00:16,283 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 19:00:16,290 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 19:00:16,337 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 19:00:16,407 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 19:00:16,408 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 19:00:16,413 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 19:00:16,413 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 19:00:16,414 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:00:16,415 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:00:16,415 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:00:16,416 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:00:16,416 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:00:16,416 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:00:16,417 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:00:16,417 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:00:16,417 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:00:16,417 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:00:16,418 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:00:16,419 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:00:16,420 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:00:16,420 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:00:16,421 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '6ce3574c-1e97-11f0-aa69-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 19:00:17,142 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '6ce3574c-1e97-11f0-aa69-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 10:00:17 GMT'
2025-04-21 19:00:17,151 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 19:00:17,153 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 19:00:17,421 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 19:00:17,422 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 19:00:17,422 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 19:00:17,423 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 19:00:17,516 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 19:00:17,518 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 19:00:17,519 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 19:00:19,118 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 19:00:19,336 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 19:00:19,338 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 19:00:26,188 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 19:00:26,189 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 19:00:26,239 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 19:00:26,241 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 19:00:26,246 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 19:04:09,626 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 19:04:09,633 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 19:04:09,680 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 19:04:09,747 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 19:04:09,747 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 19:04:09,753 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 19:04:09,753 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 19:04:09,755 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:04:09,755 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:04:09,756 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:04:09,756 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:04:09,756 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:04:09,757 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:04:09,757 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:04:09,757 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:04:09,757 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:04:09,758 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:04:09,758 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:04:09,758 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:04:09,759 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:04:09,759 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:04:09,761 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': 'f7f8150c-1e97-11f0-a874-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 19:04:10,504 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'f7f8150c-1e97-11f0-a874-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 10:04:09 GMT'
2025-04-21 19:04:10,505 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 19:04:10,506 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 19:04:10,696 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 19:04:10,697 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 19:04:10,697 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 19:04:10,697 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 19:04:10,784 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 19:04:10,786 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 19:04:10,787 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 19:04:12,703 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 19:04:12,911 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 19:04:12,912 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 19:04:19,648 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 19:04:19,649 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 19:04:19,700 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 19:04:19,702 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 19:04:19,707 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 19:04:19,729 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 19:04:19,756 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 19:04:20,040 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 19:04:20,432 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 19:04:20,680 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 19:04:20,695 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 19:04:20,698 - config - INFO - 보고서 파일 읽기 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642_extracted/20241114002642.xml
2025-04-21 19:04:20,700 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 19:04:20,705 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 19:04:20,705 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 19:04:20,706 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005930_20241114002642 (삼성전자)
2025-04-21 19:04:20,905 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 19:04:21,001 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 19:04:21,001 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 19:04:21,040 - config - WARNING - 005930: 임베딩할 추출 데이터 없음.
2025-04-21 19:04:21,041 - config - WARNING - 005930: 업로드할 추출 데이터 없음.
2025-04-21 19:04:21,043 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 19:04:22,055 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 19:04:22,331 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 19:04:22,637 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 19:04:22,889 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 19:04:22,903 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 19:04:22,905 - config - INFO - 보고서 파일 읽기 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712_extracted/20241114001712.xml
2025-04-21 19:04:22,907 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 19:04:22,911 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 19:04:22,911 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 19:04:22,912 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_000660_20241114001712 (SK하이닉스)
2025-04-21 19:04:23,070 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 19:04:23,148 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 19:04:23,148 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 19:04:23,175 - config - WARNING - 000660: 임베딩할 추출 데이터 없음.
2025-04-21 19:04:23,175 - config - WARNING - 000660: 업로드할 추출 데이터 없음.
2025-04-21 19:04:23,176 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 19:04:24,183 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 19:04:24,441 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 19:04:24,712 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 19:04:25,155 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 19:04:25,184 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 19:04:25,188 - config - INFO - 보고서 파일 읽기 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609_extracted/20241230000609.xml
2025-04-21 19:04:25,189 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 19:04:25,199 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 19:04:25,199 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 19:04:25,200 - config - INFO - XML 직접 파싱 시작: DART_[기재정정]분기보고서 (2022.09)_2024_105560_20241230000609 (KB금융)
2025-04-21 19:04:25,570 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 19:04:25,753 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 19:04:25,753 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 19:04:25,820 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 19:04:25,820 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 19:04:25,821 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 19:04:26,829 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 19:04:27,098 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 19:04:27,391 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 19:04:27,649 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 19:04:27,668 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 19:04:27,670 - config - INFO - 보고서 파일 읽기 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593_extracted/20241114002593.xml
2025-04-21 19:04:27,672 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 19:04:27,678 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 19:04:27,679 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 19:04:27,679 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_005380_20241114002593 (현대차)
2025-04-21 19:04:27,933 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 19:04:28,058 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 19:04:28,059 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 19:04:28,103 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 19:04:28,103 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 19:04:28,104 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 19:04:29,112 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 19:04:29,375 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 19:04:29,682 - config - INFO - 다운로드 시도 (download_document 사용): 접수번호=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 19:04:29,960 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 19:04:29,976 - config - INFO - 루트 XML 찾음: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 19:04:29,980 - config - INFO - 보고서 파일 읽기 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565_extracted/20241113000565.xml
2025-04-21 19:04:29,981 - config - INFO - XML 선언부 인코딩 감지: utf-8
2025-04-21 19:04:29,984 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 19:04:29,985 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 19:04:29,985 - config - INFO - XML 직접 파싱 시작: DART_분기보고서 (2024.09)_2024_012450_20241113000565 (한화에어로스페이스)
2025-04-21 19:04:30,308 - config - INFO - 소유 관계 정보 0건 추출.
2025-04-21 19:04:30,468 - config - INFO - 공급망/파트너십 관계 정보 0건 추출.
2025-04-21 19:04:30,468 - config - INFO - XML 직접 파싱 완료. 최종 0개 구조화된 데이터 조각 생성.
2025-04-21 19:04:30,522 - config - WARNING - 012450: 임베딩할 추출 데이터 없음.
2025-04-21 19:04:30,522 - config - WARNING - 012450: 업로드할 추출 데이터 없음.
2025-04-21 19:04:30,523 - config - INFO - --- DART 처리 완료: 012450 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 19:04:31,534 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 10) =====
2025-04-21 19:04:31,540 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '005930', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '000660', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '012450', 'reason': '정보 추출 실패(XML Parse)'}]
2025-04-21 19:08:20,487 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 19:08:20,493 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 19:08:20,539 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 19:08:20,609 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 19:08:20,610 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 19:08:20,615 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 19:08:20,616 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 19:08:20,617 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:08:20,617 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:08:20,618 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:08:20,618 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:08:20,618 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:08:20,619 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:08:20,619 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:08:20,619 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:08:20,620 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:08:20,620 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:08:20,620 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:08:20,621 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:08:20,621 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:08:20,621 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:08:20,623 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '8d7e9920-1e98-11f0-b5f7-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 19:08:21,347 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '8d7e9920-1e98-11f0-b5f7-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 10:08:20 GMT'
2025-04-21 19:08:21,350 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 19:08:21,351 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 19:08:21,573 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 19:08:21,575 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 19:08:21,575 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 19:08:21,575 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 19:08:21,682 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 19:08:21,685 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 19:08:21,688 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 19:08:22,961 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 19:08:23,181 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 19:08:23,182 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 19:08:30,030 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 19:08:30,031 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 19:08:30,080 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 19:08:30,082 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 19:08:30,087 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 19:08:30,107 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 19:08:30,131 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 19:08:30,132 - config - ERROR - --- DART 처리 중 예외 발생 (005930): module 'core.dart_utils' has no attribute 'find_latest_annual_report' ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_30361/472142972.py", line 56, in <module>
    report_object = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR), report_codes=TARGET_REPORT_CODES)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'core.dart_utils' has no attribute 'find_latest_annual_report'
2025-04-21 19:08:30,133 - config - INFO - --- DART 처리 완료: 005930 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-21 19:08:31,143 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 19:08:31,146 - config - ERROR - --- DART 처리 중 예외 발생 (000660): module 'core.dart_utils' has no attribute 'find_latest_annual_report' ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_30361/472142972.py", line 56, in <module>
    report_object = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR), report_codes=TARGET_REPORT_CODES)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'core.dart_utils' has no attribute 'find_latest_annual_report'
2025-04-21 19:08:31,157 - config - INFO - --- DART 처리 완료: 000660 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-21 19:08:32,169 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 19:08:32,176 - config - ERROR - --- DART 처리 중 예외 발생 (105560): module 'core.dart_utils' has no attribute 'find_latest_annual_report' ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_30361/472142972.py", line 56, in <module>
    report_object = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR), report_codes=TARGET_REPORT_CODES)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'core.dart_utils' has no attribute 'find_latest_annual_report'
2025-04-21 19:08:32,183 - config - INFO - --- DART 처리 완료: 105560 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-21 19:08:33,199 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 19:08:33,205 - config - ERROR - --- DART 처리 중 예외 발생 (005380): module 'core.dart_utils' has no attribute 'find_latest_annual_report' ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_30361/472142972.py", line 56, in <module>
    report_object = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR), report_codes=TARGET_REPORT_CODES)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'core.dart_utils' has no attribute 'find_latest_annual_report'
2025-04-21 19:08:33,210 - config - INFO - --- DART 처리 완료: 005380 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-21 19:08:34,220 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 19:08:34,222 - config - ERROR - --- DART 처리 중 예외 발생 (012450): module 'core.dart_utils' has no attribute 'find_latest_annual_report' ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_30361/472142972.py", line 56, in <module>
    report_object = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR), report_codes=TARGET_REPORT_CODES)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'core.dart_utils' has no attribute 'find_latest_annual_report'
2025-04-21 19:08:34,237 - config - INFO - --- DART 처리 완료: 012450 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-21 19:08:35,247 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 5) =====
2025-04-21 19:08:35,254 - config - WARNING - DART 처리 실패 목록: [{'code': '005930', 'reason': "Unhandled Exception: module 'core.dart_utils' has no attribute 'find_latest_annual_report'"}, {'code': '000660', 'reason': "Unhandled Exception: module 'core.dart_utils' has no attribute 'find_latest_annual_report'"}, {'code': '105560', 'reason': "Unhandled Exception: module 'core.dart_utils' has no attribute 'find_latest_annual_report'"}, {'code': '005380', 'reason': "Unhandled Exception: module 'core.dart_utils' has no attribute 'find_latest_annual_report'"}, {'code': '012450', 'reason': "Unhandled Exception: module 'core.dart_utils' has no attribute 'find_latest_annual_report'"}]
2025-04-21 19:18:48,726 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 19:18:48,732 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 19:18:48,783 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 19:18:48,861 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 19:18:48,862 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 19:18:49,847 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 19:18:49,848 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 19:18:49,849 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:18:49,850 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:18:49,850 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:18:49,850 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:18:49,851 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:18:49,851 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:18:49,852 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:18:49,852 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:18:49,852 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:18:49,853 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:18:49,853 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:18:49,853 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:18:49,854 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:18:49,854 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:18:49,857 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '048c1212-1e9a-11f0-ae25-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 19:18:50,632 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '048c1212-1e9a-11f0-ae25-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 10:18:50 GMT'
2025-04-21 19:18:50,636 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 19:18:50,638 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 19:18:51,049 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 19:18:51,050 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 19:18:51,050 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 19:18:51,051 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 19:18:51,159 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 19:18:51,160 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 19:18:51,161 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 19:18:53,568 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 19:18:53,804 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 19:18:53,804 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 19:19:01,002 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 19:19:01,002 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 19:19:01,053 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 19:19:01,055 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 19:19:01,061 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 19:19:01,082 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 19:19:01,111 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 19:19:01,112 - config - ERROR - --- DART 처리 중 예외 발생 (005930): module 'core.dart_utils' has no attribute 'find_latest_annual_report' ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_31200/472142972.py", line 56, in <module>
    report_object = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR), report_codes=TARGET_REPORT_CODES)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'core.dart_utils' has no attribute 'find_latest_annual_report'
2025-04-21 19:19:01,113 - config - INFO - --- DART 처리 완료: 005930 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-21 19:19:02,122 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 19:19:02,126 - config - ERROR - --- DART 처리 중 예외 발생 (000660): module 'core.dart_utils' has no attribute 'find_latest_annual_report' ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_31200/472142972.py", line 56, in <module>
    report_object = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR), report_codes=TARGET_REPORT_CODES)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'core.dart_utils' has no attribute 'find_latest_annual_report'
2025-04-21 19:19:02,137 - config - INFO - --- DART 처리 완료: 000660 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-21 19:19:03,145 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 19:19:03,146 - config - ERROR - --- DART 처리 중 예외 발생 (105560): module 'core.dart_utils' has no attribute 'find_latest_annual_report' ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_31200/472142972.py", line 56, in <module>
    report_object = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR), report_codes=TARGET_REPORT_CODES)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'core.dart_utils' has no attribute 'find_latest_annual_report'
2025-04-21 19:19:03,148 - config - INFO - --- DART 처리 완료: 105560 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-21 19:19:04,155 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 19:19:04,158 - config - ERROR - --- DART 처리 중 예외 발생 (005380): module 'core.dart_utils' has no attribute 'find_latest_annual_report' ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_31200/472142972.py", line 56, in <module>
    report_object = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR), report_codes=TARGET_REPORT_CODES)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'core.dart_utils' has no attribute 'find_latest_annual_report'
2025-04-21 19:19:04,161 - config - INFO - --- DART 처리 완료: 005380 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-21 19:19:05,169 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 19:19:05,171 - config - ERROR - --- DART 처리 중 예외 발생 (012450): module 'core.dart_utils' has no attribute 'find_latest_annual_report' ---
Traceback (most recent call last):
  File "/var/folders/_1/gnwzyxqn3pd9qdm117cnvcg80000gn/T/ipykernel_31200/472142972.py", line 56, in <module>
    report_object = dart_utils.find_latest_annual_report(corp_code, str(TARGET_YEAR), report_codes=TARGET_REPORT_CODES)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'core.dart_utils' has no attribute 'find_latest_annual_report'
2025-04-21 19:19:05,174 - config - INFO - --- DART 처리 완료: 012450 (상태: 예외 발생(DART), 처리된 청크 수: 0) ---
2025-04-21 19:19:06,184 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 5) =====
2025-04-21 19:19:06,186 - config - WARNING - DART 처리 실패 목록: [{'code': '005930', 'reason': "Unhandled Exception: module 'core.dart_utils' has no attribute 'find_latest_annual_report'"}, {'code': '000660', 'reason': "Unhandled Exception: module 'core.dart_utils' has no attribute 'find_latest_annual_report'"}, {'code': '105560', 'reason': "Unhandled Exception: module 'core.dart_utils' has no attribute 'find_latest_annual_report'"}, {'code': '005380', 'reason': "Unhandled Exception: module 'core.dart_utils' has no attribute 'find_latest_annual_report'"}, {'code': '012450', 'reason': "Unhandled Exception: module 'core.dart_utils' has no attribute 'find_latest_annual_report'"}]
2025-04-21 19:22:11,359 - config - INFO - ===== 노트북 셀 1: 초기 설정 및 임포트 완료 =====
2025-04-21 19:22:11,367 - config - INFO - --- Azure 클라이언트 초기화 시작 ---
2025-04-21 19:22:11,407 - config - INFO - Azure OpenAI 클라이언트 초기화 성공.
2025-04-21 19:22:11,468 - config - INFO - Azure AI Search 클라이언트 초기화 성공 (인덱스: kospi100-rag-index)
2025-04-21 19:22:11,469 - config - INFO - --- OpenAI, Search 클라이언트 초기화 완료 ---
2025-04-21 19:22:11,474 - config - INFO - --- Azure AI Search 인덱스 설정 확인/시도 ---
2025-04-21 19:22:11,475 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 생성/업데이트 시도...
2025-04-21 19:22:11,475 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:22:11,475 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:22:11,476 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:22:11,476 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:22:11,477 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:22:11,477 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:22:11,478 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:22:11,478 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:22:11,478 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:22:11,479 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:22:11,479 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:22:11,479 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:22:11,480 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:22:11,480 - azure.search.documents.indexes._generated._serialization - WARNING - retrievable is not a known attribute of class <class 'azure.search.documents.indexes.models._index.SearchField'> and will be ignored
2025-04-21 19:22:11,482 - azure.core.pipeline.policies.http_logging_policy - INFO - Request URL: 'https://aiserach0417.search.windows.net/indexes('kospi100-rag-index')?api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '1768'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json;odata.metadata=minimal'
    'x-ms-client-request-id': '7cb999d0-1e9a-11f0-8438-623dbcccadd7'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.12.7 (macOS-10.16-x86_64-i386-64bit)'
A body is sent with the request
2025-04-21 19:22:12,298 - azure.core.pipeline.policies.http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '7cb999d0-1e9a-11f0-8438-623dbcccadd7'
    'elapsed-time': 'REDACTED'
    'Date': 'Mon, 21 Apr 2025 10:22:12 GMT'
2025-04-21 19:22:12,300 - config - INFO - Azure AI Search 인덱스 'kospi100-rag-index' 스키마 업데이트 완료.
2025-04-21 19:22:12,300 - config - INFO - --- 인덱스 준비 완료 ---
2025-04-21 19:22:12,473 - config - INFO - --- 종목 코드 및 이름 매핑 로드 시작 ---
2025-04-21 19:22:12,474 - config - INFO - KOSPI 100 종목 코드 로드 완료: 100개
2025-04-21 19:22:12,474 - config - INFO - 테스트 실행 모드: 최대 5개 기업만 처리합니다.
2025-04-21 19:22:12,475 - config - INFO - 최종 처리 대상 종목 코드 수: 5
2025-04-21 19:22:12,547 - config - INFO - 매핑 파일 로드 성공: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/kospi100_name_map.xlsx (Excel)
2025-04-21 19:22:12,549 - config - INFO - 한글 이름 매핑 생성 완료: 100개
2025-04-21 19:22:12,550 - config - INFO - 영어 이름 매핑 생성 완료: 100개
2025-04-21 19:22:13,675 - fake_useragent - WARNING - Error occurred during getting browser(s): random, but was suppressed with fallback.
2025-04-21 19:22:13,844 - config - INFO - Cell [5a]: DART API 키 로드.
2025-04-21 19:22:13,844 - config - INFO - Cell [5a]: DART 전체 기업 목록 로딩 및 corp_code 맵 생성 시도...
2025-04-21 19:22:28,864 - config - INFO - Cell [5a]: dart.get_corp_list() 호출 완료 (타입: <class 'dart_fss.corp.corp_list.CorpList'>).
2025-04-21 19:22:28,865 - config - INFO - Cell [5a]: CorpList 순회하며 데이터 추출 시작...
2025-04-21 19:22:28,914 - config - INFO - Cell [5a]: 데이터 추출 완료 (3854개 유효 데이터).
2025-04-21 19:22:28,916 - config - INFO - Cell [5a]: DataFrame 생성 완료 (Shape: (3854, 2)).
2025-04-21 19:22:28,922 - config - INFO - Cell [5a]: corp_code 맵 생성 완료 (총 3854개 기업)
2025-04-21 19:22:28,941 - config - INFO - ===== DART 기반 데이터 인덱싱 시작 (5개 기업) =====
2025-04-21 19:22:28,964 - config - INFO - --- DART 처리 시작: 삼성전자(005930) ---
2025-04-21 19:22:29,240 - config - INFO - 00126380 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002642
2025-04-21 19:22:29,628 - config - INFO - 다운로드 시도: rcept_no=20241114002642, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930
2025-04-21 19:22:29,960 - config - INFO - 보고서 20241114002642 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005930/20241114002642.zip
2025-04-21 19:22:30,006 - config - INFO - 005930: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 19:22:30,006 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 19:22:30,265 - config - WARNING - 005930: 임베딩할 추출 데이터 없음.
2025-04-21 19:22:30,265 - config - WARNING - 005930: 업로드할 추출 데이터 없음.
2025-04-21 19:22:30,266 - config - INFO - --- DART 처리 완료: 005930 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 19:22:31,272 - config - INFO - --- DART 처리 시작: SK하이닉스(000660) ---
2025-04-21 19:22:31,565 - config - INFO - 00164779 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114001712
2025-04-21 19:22:31,865 - config - INFO - 다운로드 시도: rcept_no=20241114001712, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660
2025-04-21 19:22:32,109 - config - INFO - 보고서 20241114001712 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/000660/20241114001712.zip
2025-04-21 19:22:32,123 - config - INFO - 000660: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 19:22:32,124 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 19:22:32,343 - config - WARNING - 000660: 임베딩할 추출 데이터 없음.
2025-04-21 19:22:32,344 - config - WARNING - 000660: 업로드할 추출 데이터 없음.
2025-04-21 19:22:32,344 - config - INFO - --- DART 처리 완료: 000660 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 19:22:33,352 - config - INFO - --- DART 처리 시작: KB금융(105560) ---
2025-04-21 19:22:33,655 - config - INFO - 00688996 (2024년) 최신 보고서 찾음: [기재정정]분기보고서 (2022.09), 접수번호: 20241230000609
2025-04-21 19:22:33,937 - config - INFO - 다운로드 시도: rcept_no=20241230000609, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560
2025-04-21 19:22:34,253 - config - INFO - 보고서 20241230000609 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/105560/20241230000609.zip
2025-04-21 19:22:34,286 - config - INFO - 105560: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 19:22:34,286 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 19:22:34,783 - config - WARNING - 105560: 임베딩할 추출 데이터 없음.
2025-04-21 19:22:34,783 - config - WARNING - 105560: 업로드할 추출 데이터 없음.
2025-04-21 19:22:34,784 - config - INFO - --- DART 처리 완료: 105560 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 19:22:35,791 - config - INFO - --- DART 처리 시작: 현대차(005380) ---
2025-04-21 19:22:36,068 - config - INFO - 00164742 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241114002593
2025-04-21 19:22:36,371 - config - INFO - 다운로드 시도: rcept_no=20241114002593, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380
2025-04-21 19:22:36,674 - config - INFO - 보고서 20241114002593 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/005380/20241114002593.zip
2025-04-21 19:22:36,694 - config - INFO - 005380: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 19:22:36,695 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 19:22:37,036 - config - WARNING - 005380: 임베딩할 추출 데이터 없음.
2025-04-21 19:22:37,037 - config - WARNING - 005380: 업로드할 추출 데이터 없음.
2025-04-21 19:22:37,037 - config - INFO - --- DART 처리 완료: 005380 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 19:22:38,045 - config - INFO - --- DART 처리 시작: 한화에어로스페이스(012450) ---
2025-04-21 19:22:38,388 - config - INFO - 00126566 (2024년) 최신 보고서 찾음: 분기보고서 (2024.09), 접수번호: 20241113000565
2025-04-21 19:22:38,671 - config - INFO - 다운로드 시도: rcept_no=20241113000565, 경로=/Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450
2025-04-21 19:22:38,964 - config - INFO - 보고서 20241113000565 다운로드 및 검증 완료: /Users/nsj/Desktop/kospi_relation_rag_pipeline/data/dart_downloads/012450/20241113000565.zip
2025-04-21 19:22:38,983 - config - INFO - 012450: DART 보고서(.xml) 내용 추출 및 디코딩 성공
2025-04-21 19:22:38,984 - config - INFO - XML 파일이므로 직접 파싱하여 정보 추출 시도...
2025-04-21 19:22:39,402 - config - WARNING - 012450: 임베딩할 추출 데이터 없음.
2025-04-21 19:22:39,402 - config - WARNING - 012450: 업로드할 추출 데이터 없음.
2025-04-21 19:22:39,403 - config - INFO - --- DART 처리 완료: 012450 (상태: 정보 추출 실패(XML Parse), 처리된 청크 수: 0) ---
2025-04-21 19:22:40,412 - config - INFO - ===== DART 기반 데이터 인덱싱 완료 (성공: 0, 실패: 10) =====
2025-04-21 19:22:40,414 - config - WARNING - DART 처리 실패 목록: [Ellipsis, {'code': '005930', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '000660', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '105560', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '005380', 'reason': '정보 추출 실패(XML Parse)'}, Ellipsis, {'code': '012450', 'reason': '정보 추출 실패(XML Parse)'}]
